const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-BmPPtyZr.js","assets/graph-DO6y1Uxw.js","assets/_baseUniq-qGa55Fsp.js","assets/layout-4G1TCJM4.js","assets/_basePickBy-BH-1jKET.js","assets/clone-Cr7NnAkI.js","assets/index-DsIyf4BL.js","assets/index-8U8TU86e.css","assets/dayjs.min-ejTbwL07.js","assets/index-Csu4Bdha.js","assets/index-BeSlbs5f.css","assets/useQuery-CAyAH-I6.js","assets/useMutation-B3rRlARB.js","assets/Lite-CNiEsJ3G.js","assets/Lite-DLQ1hxTf.css","assets/cose-bilkent-S5V4N54A-tLt-qL_b.js","assets/cytoscape.esm-DtBltrT8.js","assets/c4Diagram-YG6GDRKO-DqpYtmMk.js","assets/chunk-TZMSLE5B-DBN4qQrc.js","assets/flowDiagram-NV44I4VS-Bwf0G2-6.js","assets/chunk-FMBD7UC4-BLSjeiyF.js","assets/chunk-55IACEB6-gIQpw9L6.js","assets/chunk-QN33PNHL-pq6nJ_Ks.js","assets/channel-wzMq3PR9.js","assets/erDiagram-Q2GNP2WA-E-B8eeJc.js","assets/gitGraphDiagram-NY62KEGX-C0e998sg.js","assets/chunk-4BX2VUAB-Cs9Ml2qx.js","assets/chunk-QZHKN3VN-BlZcTQtk.js","assets/treemap-75Q7IDZK-Du0umNmM.js","assets/ganttDiagram-LVOFAZNH-MXPLWB67.js","assets/linear-D2tN84-N.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-F6ZHWCRC-BW3gHLc5.js","assets/pieDiagram-ADFJNKIX-BNCwDYq1.js","assets/arc-DiG1w3zx.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-Cj8nUPjU.js","assets/xychartDiagram-PRI3JC2R-ETmqU0EE.js","assets/requirementDiagram-UZGBJVZJ-DG-qu7e0.js","assets/sequenceDiagram-WL72ISMW-CPi0woce.js","assets/classDiagram-2ON5EDUG-B5sOX2Oc.js","assets/chunk-B4BG7PRW-E8onUMMd.js","assets/classDiagram-v2-WZHVMYZB-B5sOX2Oc.js","assets/stateDiagram-FKZM4ZOC-fzmHtRNG.js","assets/chunk-DI55MBZ5-CGpsi7te.js","assets/stateDiagram-v2-4FDKWEC3-BBL82WNt.js","assets/journeyDiagram-XKPGCS4Q-C_Z78jEK.js","assets/timeline-definition-IT6M3QCI-CS1rNyRr.js","assets/mindmap-definition-VGOIOE7T-BmOP8FdM.js","assets/kanban-definition-3W4ZIXB7-CbwlEYgj.js","assets/sankeyDiagram-TZEHDZUN-yZGMxD4a.js","assets/diagram-S2PKOQOG-zGkd2e5m.js","assets/diagram-QEK2KX5R-BUKKm5SR.js","assets/blockDiagram-VD42YOAC-DzgojACf.js","assets/architectureDiagram-VXUJARFQ-Bl-qFdnb.js","assets/diagram-PSM6KHXK-BabGvJ2H.js"])))=>i.map(i=>d[i]);
import{m as Eu,r as Ka,j as xt,_ as Mt,a as Ym,F as yl,G as Gm,d as a2,e as o2,aB as jr,aC as Sa,aD as va,aE as l2,l as oc,B as Ta,I as c2,T as h2}from"./index-DsIyf4BL.js";import{d as u2}from"./dayjs.min-ejTbwL07.js";import{C as lc}from"./index-Csu4Bdha.js";import{u as Fd}from"./useQuery-CAyAH-I6.js";import{u as f2}from"./useMutation-B3rRlARB.js";import{P as d2}from"./Lite-CNiEsJ3G.js";function Rd(e){const t=[],r=String(e||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const a=r.slice(i,n).trim();(a||!s)&&t.push(a),i=n+1,n=r.indexOf(",",i)}return t}function p2(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const g2=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,m2=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,y2={};function Od(e,t){return(y2.jsx?m2:g2).test(e)}const x2=/[ \t\n\f\r]/g;function b2(e){return typeof e=="object"?e.type==="text"?Pd(e.value):!1:Pd(e)}function Pd(e){return e.replace(x2,"")===""}class na{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}na.prototype.normal={};na.prototype.property={};na.prototype.space=void 0;function Xm(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new na(r,n,t)}function Ns(e){return e.toLowerCase()}class Fe{constructor(t,r){this.attribute=r,this.property=t}}Fe.prototype.attribute="";Fe.prototype.booleanish=!1;Fe.prototype.boolean=!1;Fe.prototype.commaOrSpaceSeparated=!1;Fe.prototype.commaSeparated=!1;Fe.prototype.defined=!1;Fe.prototype.mustUseProperty=!1;Fe.prototype.number=!1;Fe.prototype.overloadedBoolean=!1;Fe.prototype.property="";Fe.prototype.spaceSeparated=!1;Fe.prototype.space=void 0;let w2=0;const yt=Pn(),qt=Pn(),ih=Pn(),q=Pn(),Rt=Pn(),ui=Pn(),Pe=Pn();function Pn(){return 2**++w2}const sh=Object.freeze(Object.defineProperty({__proto__:null,boolean:yt,booleanish:qt,commaOrSpaceSeparated:Pe,commaSeparated:ui,number:q,overloadedBoolean:ih,spaceSeparated:Rt},Symbol.toStringTag,{value:"Module"})),cc=Object.keys(sh);class Lu extends Fe{constructor(t,r,n,i){let s=-1;if(super(t,r),Dd(this,"space",i),typeof n=="number")for(;++s<cc.length;){const a=cc[s];Dd(this,cc[s],(n&sh[a])===sh[a])}}}Lu.prototype.defined=!0;function Dd(e,t,r){r&&(e[t]=r)}function $i(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new Lu(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[Ns(n)]=n,r[Ns(s.attribute)]=n}return new na(t,r,e.space)}const Km=$i({properties:{ariaActiveDescendant:null,ariaAtomic:qt,ariaAutoComplete:null,ariaBusy:qt,ariaChecked:qt,ariaColCount:q,ariaColIndex:q,ariaColSpan:q,ariaControls:Rt,ariaCurrent:null,ariaDescribedBy:Rt,ariaDetails:null,ariaDisabled:qt,ariaDropEffect:Rt,ariaErrorMessage:null,ariaExpanded:qt,ariaFlowTo:Rt,ariaGrabbed:qt,ariaHasPopup:null,ariaHidden:qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Rt,ariaLevel:q,ariaLive:null,ariaModal:qt,ariaMultiLine:qt,ariaMultiSelectable:qt,ariaOrientation:null,ariaOwns:Rt,ariaPlaceholder:null,ariaPosInSet:q,ariaPressed:qt,ariaReadOnly:qt,ariaRelevant:null,ariaRequired:qt,ariaRoleDescription:Rt,ariaRowCount:q,ariaRowIndex:q,ariaRowSpan:q,ariaSelected:qt,ariaSetSize:q,ariaSort:null,ariaValueMax:q,ariaValueMin:q,ariaValueNow:q,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Qm(e,t){return t in e?e[t]:t}function Jm(e,t){return Qm(e,t.toLowerCase())}const _2=$i({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ui,acceptCharset:Rt,accessKey:Rt,action:null,allow:null,allowFullScreen:yt,allowPaymentRequest:yt,allowUserMedia:yt,alt:null,as:null,async:yt,autoCapitalize:null,autoComplete:Rt,autoFocus:yt,autoPlay:yt,blocking:Rt,capture:null,charSet:null,checked:yt,cite:null,className:Rt,cols:q,colSpan:null,content:null,contentEditable:qt,controls:yt,controlsList:Rt,coords:q|ui,crossOrigin:null,data:null,dateTime:null,decoding:null,default:yt,defer:yt,dir:null,dirName:null,disabled:yt,download:ih,draggable:qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:yt,formTarget:null,headers:Rt,height:q,hidden:ih,high:q,href:null,hrefLang:null,htmlFor:Rt,httpEquiv:Rt,id:null,imageSizes:null,imageSrcSet:null,inert:yt,inputMode:null,integrity:null,is:null,isMap:yt,itemId:null,itemProp:Rt,itemRef:Rt,itemScope:yt,itemType:Rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:yt,low:q,manifest:null,max:null,maxLength:q,media:null,method:null,min:null,minLength:q,multiple:yt,muted:yt,name:null,nonce:null,noModule:yt,noValidate:yt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:yt,optimum:q,pattern:null,ping:Rt,placeholder:null,playsInline:yt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:yt,referrerPolicy:null,rel:Rt,required:yt,reversed:yt,rows:q,rowSpan:q,sandbox:Rt,scope:null,scoped:yt,seamless:yt,selected:yt,shadowRootClonable:yt,shadowRootDelegatesFocus:yt,shadowRootMode:null,shape:null,size:q,sizes:null,slot:null,span:q,spellCheck:qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:q,step:null,style:null,tabIndex:q,target:null,title:null,translate:null,type:null,typeMustMatch:yt,useMap:null,value:qt,width:q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Rt,axis:null,background:null,bgColor:null,border:q,borderColor:null,bottomMargin:q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:yt,declare:yt,event:null,face:null,frame:null,frameBorder:null,hSpace:q,leftMargin:q,link:null,longDesc:null,lowSrc:null,marginHeight:q,marginWidth:q,noResize:yt,noHref:yt,noShade:yt,noWrap:yt,object:null,profile:null,prompt:null,rev:null,rightMargin:q,rules:null,scheme:null,scrolling:qt,standby:null,summary:null,text:null,topMargin:q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:yt,disableRemotePlayback:yt,prefix:null,property:null,results:q,security:null,unselectable:null},space:"html",transform:Jm}),k2=$i({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Pe,accentHeight:q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:q,amplitude:q,arabicForm:null,ascent:q,attributeName:null,attributeType:null,azimuth:q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:q,by:null,calcMode:null,capHeight:q,className:Rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:q,diffuseConstant:q,direction:null,display:null,dur:null,divisor:q,dominantBaseline:null,download:yt,dx:null,dy:null,edgeMode:null,editable:null,elevation:q,enableBackground:null,end:null,event:null,exponent:q,externalResourcesRequired:null,fill:null,fillOpacity:q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ui,g2:ui,glyphName:ui,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:q,horizOriginX:q,horizOriginY:q,id:null,ideographic:q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:q,k:q,k1:q,k2:q,k3:q,k4:q,kernelMatrix:Pe,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:q,overlineThickness:q,paintOrder:null,panose1:null,path:null,pathLength:q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:q,pointsAtY:q,pointsAtZ:q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pe,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pe,rev:Pe,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pe,requiredFeatures:Pe,requiredFonts:Pe,requiredFormats:Pe,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:q,specularExponent:q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:q,strikethroughThickness:q,string:null,stroke:null,strokeDashArray:Pe,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:q,strokeOpacity:q,strokeWidth:null,style:null,surfaceScale:q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pe,tabIndex:q,tableValues:null,target:null,targetX:q,targetY:q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pe,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:q,underlineThickness:q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:q,values:null,vAlphabetic:q,vMathematical:q,vectorEffect:null,vHanging:q,vIdeographic:q,version:null,vertAdvY:q,vertOriginX:q,vertOriginY:q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Qm}),Zm=$i({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),ty=$i({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Jm}),ey=$i({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),C2={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},S2=/[A-Z]/g,Nd=/-[a-z]/g,v2=/^data[-\w.:]+$/i;function ry(e,t){const r=Ns(t);let n=t,i=Fe;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&v2.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Nd,A2);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Nd.test(s)){let a=s.replace(S2,T2);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Lu}return new i(n,t)}function T2(e){return"-"+e.toLowerCase()}function A2(e){return e.charAt(1).toUpperCase()}const ny=Xm([Km,_2,Zm,ty,ey],"html"),xl=Xm([Km,k2,Zm,ty,ey],"svg");function ko(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function E2(e){return e.join(" ").trim()}var Kn={},hc,zd;function L2(){if(zd)return hc;zd=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,c="/",h="*",u="",d="comment",f="declaration";hc=function(g,x){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];x=x||{};var y=1,b=1;function w(I){var M=I.match(t);M&&(y+=M.length);var D=I.lastIndexOf(l);b=~D?I.length-D:b+I.length}function k(){var I={line:y,column:b};return function(M){return M.position=new S(I),F(),M}}function S(I){this.start=I,this.end={line:y,column:b},this.source=x.source}S.prototype.content=g;function _(I){var M=new Error(x.source+":"+y+":"+b+": "+I);if(M.reason=I,M.filename=x.source,M.line=y,M.column=b,M.source=g,!x.silent)throw M}function A(I){var M=I.exec(g);if(M){var D=M[0];return w(D),g=g.slice(D.length),M}}function F(){A(r)}function R(I){var M;for(I=I||[];M=v();)M!==!1&&I.push(M);return I}function v(){var I=k();if(!(c!=g.charAt(0)||h!=g.charAt(1))){for(var M=2;u!=g.charAt(M)&&(h!=g.charAt(M)||c!=g.charAt(M+1));)++M;if(M+=2,u===g.charAt(M-1))return _("End of comment missing");var D=g.slice(2,M-2);return b+=2,w(D),g=g.slice(M),b+=2,I({type:d,comment:D})}}function L(){var I=k(),M=A(n);if(M){if(v(),!A(i))return _("property missing ':'");var D=A(s),z=I({type:f,property:p(M[0].replace(e,u)),value:D?p(D[0].replace(e,u)):u});return A(a),z}}function O(){var I=[];R(I);for(var M;M=L();)M!==!1&&(I.push(M),R(I));return I}return F(),O()};function p(g){return g?g.replace(o,u):u}return hc}var qd;function B2(){if(qd)return Kn;qd=1;var e=Kn&&Kn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.default=r;var t=e(L2());function r(n,i){var s=null;if(!n||typeof n!="string")return s;var a=(0,t.default)(n),o=typeof i=="function";return a.forEach(function(l){if(l.type==="declaration"){var c=l.property,h=l.value;o?i(c,h,l):h&&(s=s||{},s[c]=h)}}),s}return Kn}var Ui={},Wd;function M2(){if(Wd)return Ui;Wd=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||r.test(c)||e.test(c)},a=function(c,h){return h.toUpperCase()},o=function(c,h){return"".concat(h,"-")},l=function(c,h){return h===void 0&&(h={}),s(c)?c:(c=c.toLowerCase(),h.reactCompat?c=c.replace(i,o):c=c.replace(n,o),c.replace(t,a))};return Ui.camelCase=l,Ui}var Vi,Hd;function I2(){if(Hd)return Vi;Hd=1;var e=Vi&&Vi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(B2()),r=M2();function n(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,l){o&&l&&(a[(0,r.camelCase)(o,s)]=l)}),a}return n.default=n,Vi=n,Vi}var $2=I2();const F2=Eu($2),iy=sy("end"),Bu=sy("start");function sy(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function R2(e){const t=Bu(e),r=iy(e);if(t&&r)return{start:t,end:r}}function As(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?jd(e.position):"start"in e||"end"in e?jd(e):"line"in e||"column"in e?ah(e):""}function ah(e){return Ud(e&&e.line)+":"+Ud(e&&e.column)}function jd(e){return ah(e&&e.start)+"-"+ah(e&&e.end)}function Ud(e){return e&&typeof e=="number"?e:1}class de extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?s.ruleId=n:(s.source=n.slice(0,l),s.ruleId=n.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=As(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}de.prototype.file="";de.prototype.name="";de.prototype.reason="";de.prototype.message="";de.prototype.stack="";de.prototype.column=void 0;de.prototype.line=void 0;de.prototype.ancestors=void 0;de.prototype.cause=void 0;de.prototype.fatal=void 0;de.prototype.place=void 0;de.prototype.ruleId=void 0;de.prototype.source=void 0;const Mu={}.hasOwnProperty,O2=new Map,P2=/[A-Z]/g,D2=new Set(["table","tbody","thead","tfoot","tr"]),N2=new Set(["td","th"]),ay="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function z2(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=G2(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=Y2(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?xl:ny,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=oy(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function oy(e,t,r){if(t.type==="element")return q2(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return W2(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return j2(e,t,r);if(t.type==="mdxjsEsm")return H2(e,t);if(t.type==="root")return U2(e,t,r);if(t.type==="text")return V2(e,t)}function q2(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=xl,e.schema=i),e.ancestors.push(t);const s=cy(e,t.tagName,!1),a=X2(e,t);let o=$u(e,t);return D2.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!b2(l):!0})),ly(e,a,s,t),Iu(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function W2(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}zs(e,t.position)}function H2(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);zs(e,t.position)}function j2(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=xl,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:cy(e,t.name,!0),a=K2(e,t),o=$u(e,t);return ly(e,a,s,t),Iu(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function U2(e,t,r){const n={};return Iu(n,$u(e,t)),e.create(t,e.Fragment,n,r)}function V2(e,t){return t.value}function ly(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function Iu(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function Y2(e,t,r){return n;function n(i,s,a,o){const c=Array.isArray(a.children)?r:t;return o?c(s,a,o):c(s,a)}}function G2(e,t){return r;function r(n,i,s,a){const o=Array.isArray(s.children),l=Bu(n);return t(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function X2(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&Mu.call(t.properties,i)){const s=Q2(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&N2.has(t.tagName)?n=o:r[a]=o}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function K2(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else zs(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else zs(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function $u(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:O2;for(;++n<t.children.length;){const s=t.children[n];let a;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const o=oy(e,s,a);o!==void 0&&r.push(o)}return r}function Q2(e,t,r){const n=ry(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?p2(r):E2(r)),n.property==="style"){let i=typeof r=="object"?r:J2(e,String(r));return e.stylePropertyNameCase==="css"&&(i=Z2(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?C2[n.property]||n.property:n.attribute,r]}}function J2(e,t){try{return F2(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new de("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=ay+"#cannot-parse-style-attribute",i}}function cy(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=Od(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=a}else n=Od(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return Mu.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);zs(e)}function zs(e,t){const r=new de("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=ay+"#cannot-handle-mdx-estrees-without-createevaluater",r}function Z2(e){const t={};let r;for(r in e)Mu.call(e,r)&&(t[tS(r)]=e[r]);return t}function tS(e){let t=e.replace(P2,eS);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function eS(e){return"-"+e.toLowerCase()}const uc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rS={};function Fu(e,t){const r=rS,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return hy(e,n,i)}function hy(e,t,r){if(nS(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Vd(e.children,t,r)}return Array.isArray(e)?Vd(e,t,r):""}function Vd(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=hy(e[i],t,r);return n.join("")}function nS(e){return!!(e&&typeof e=="object")}const Yd=document.createElement("i");function Ru(e){const t="&"+e+";";Yd.innerHTML=t;const r=Yd.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function qe(e,t,r,n){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Ve(e,t){return e.length>0?(qe(e,e.length,0,t),e):t}const Gd={}.hasOwnProperty;function uy(e){const t={};let r=-1;for(;++r<e.length;)iS(t,e[r]);return t}function iS(e,t){let r;for(r in t){const i=(Gd.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let a;if(s)for(a in s){Gd.call(i,a)||(i[a]=[]);const o=s[a];sS(i[a],Array.isArray(o)?o:o?[o]:[])}}}function sS(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);qe(e,0,0,n)}function fy(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function nr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xe=rn(/[A-Za-z]/),ce=rn(/[\dA-Za-z]/),aS=rn(/[#-'*+\--9=?A-Z^-~]/);function Co(e){return e!==null&&(e<32||e===127)}const oh=rn(/\d/),oS=rn(/[\dA-Fa-f]/),lS=rn(/[!-/:-@[-`{-~]/);function ot(e){return e!==null&&e<-2}function Ft(e){return e!==null&&(e<0||e===32)}function kt(e){return e===-2||e===-1||e===32}const bl=rn(new RegExp("\\p{P}|\\p{S}","u")),En=rn(/\s/);function rn(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Fi(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let a="";if(s===37&&ce(e.charCodeAt(r+1))&&ce(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function vt(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return kt(l)?(e.enter(r),o(l)):t(l)}function o(l){return kt(l)&&s++<i?(e.consume(l),o):(e.exit(r),t(l))}}const cS={tokenize:hS};function hS(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),vt(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ot(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const uS={tokenize:fS},Xd={tokenize:dS};function fS(e){const t=this,r=[];let n=0,i,s,a;return o;function o(w){if(n<r.length){const k=r[n];return t.containerState=k[1],e.attempt(k[0].continuation,l,c)(w)}return c(w)}function l(w){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const k=t.events.length;let S=k,_;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){_=t.events[S][1].end;break}y(n);let A=k;for(;A<t.events.length;)t.events[A][1].end={..._},A++;return qe(t.events,S+1,0,t.events.slice(k)),t.events.length=A,c(w)}return o(w)}function c(w){if(n===r.length){if(!i)return d(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Xd,h,u)(w)}function h(w){return i&&b(),y(n),d(w)}function u(w){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,p(w)}function d(w){return t.containerState={},e.attempt(Xd,f,p)(w)}function f(w){return n++,r.push([t.currentConstruct,t.containerState]),d(w)}function p(w){if(w===null){i&&b(),y(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(w)}function g(w){if(w===null){x(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return ot(w)?(e.consume(w),x(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(w),g)}function x(w,k){const S=t.sliceStream(w);if(k&&S.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(S),t.parser.lazy[w.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const A=t.events.length;let F=A,R,v;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){if(R){v=t.events[F][1].end;break}R=!0}for(y(n),_=A;_<t.events.length;)t.events[_][1].end={...v},_++;qe(t.events,F+1,0,t.events.slice(A)),t.events.length=_}}function y(w){let k=r.length;for(;k-- >w;){const S=r[k];t.containerState=S[1],S[0].exit.call(t,e)}r.length=w}function b(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function dS(e,t,r){return vt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ci(e){if(e===null||Ft(e)||En(e))return 1;if(bl(e))return 2}function wl(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const lh={name:"attention",resolveAll:pS,tokenize:gS};function pS(e,t){let r=-1,n,i,s,a,o,l,c,h;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const u={...e[n][1].end},d={...e[r][1].start};Kd(u,-l),Kd(d,l),a={type:l>1?"strongSequence":"emphasisSequence",start:u,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:d},s={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[r][1].start={...o.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=Ve(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=Ve(c,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),c=Ve(c,wl(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=Ve(c,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(h=2,c=Ve(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):h=0,qe(e,n-1,r-n+3,c),r=n+c.length-h-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function gS(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=Ci(n);let s;return a;function a(l){return s=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===s)return e.consume(l),o;const c=e.exit("attentionSequence"),h=Ci(l),u=!h||h===2&&i||r.includes(l),d=!i||i===2&&h||r.includes(n);return c._open=!!(s===42?u:u&&(i||!d)),c._close=!!(s===42?d:d&&(h||!u)),t(l)}}function Kd(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const mS={name:"autolink",tokenize:yS};function yS(e,t,r){let n=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return xe(f)?(e.consume(f),a):f===64?r(f):c(f)}function a(f){return f===43||f===45||f===46||ce(f)?(n=1,o(f)):c(f)}function o(f){return f===58?(e.consume(f),n=0,l):(f===43||f===45||f===46||ce(f))&&n++<32?(e.consume(f),o):(n=0,c(f))}function l(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||Co(f)?r(f):(e.consume(f),l)}function c(f){return f===64?(e.consume(f),h):aS(f)?(e.consume(f),c):r(f)}function h(f){return ce(f)?u(f):r(f)}function u(f){return f===46?(e.consume(f),n=0,h):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):d(f)}function d(f){if((f===45||ce(f))&&n++<63){const p=f===45?d:u;return e.consume(f),p}return r(f)}}const ia={partial:!0,tokenize:xS};function xS(e,t,r){return n;function n(s){return kt(s)?vt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ot(s)?t(s):r(s)}}const dy={continuation:{tokenize:wS},exit:_S,name:"blockQuote",tokenize:bS};function bS(e,t,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return kt(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function wS(e,t,r){const n=this;return i;function i(a){return kt(a)?vt(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(dy,t,r)(a)}}function _S(e){e.exit("blockQuote")}const py={name:"characterEscape",tokenize:kS};function kS(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return lS(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const gy={name:"characterReference",tokenize:CS};function CS(e,t,r){const n=this;let i=0,s,a;return o;function o(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),l}function l(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,a=ce,h(u))}function c(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=oS,h):(e.enter("characterReferenceValue"),s=7,a=oh,h(u))}function h(u){if(u===59&&i){const d=e.exit("characterReferenceValue");return a===ce&&!Ru(n.sliceSerialize(d))?r(u):(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(u)&&i++<s?(e.consume(u),h):r(u)}}const Qd={partial:!0,tokenize:vS},Jd={concrete:!0,name:"codeFenced",tokenize:SS};function SS(e,t,r){const n=this,i={partial:!0,tokenize:S};let s=0,a=0,o;return l;function l(_){return c(_)}function c(_){const A=n.events[n.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(_)}function h(_){return _===o?(a++,e.consume(_),h):a<3?r(_):(e.exit("codeFencedFenceSequence"),kt(_)?vt(e,u,"whitespace")(_):u(_))}function u(_){return _===null||ot(_)?(e.exit("codeFencedFence"),n.interrupt?t(_):e.check(Qd,g,k)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(_))}function d(_){return _===null||ot(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(_)):kt(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),vt(e,f,"whitespace")(_)):_===96&&_===o?r(_):(e.consume(_),d)}function f(_){return _===null||ot(_)?u(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||ot(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(_)):_===96&&_===o?r(_):(e.consume(_),p)}function g(_){return e.attempt(i,k,x)(_)}function x(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),y}function y(_){return s>0&&kt(_)?vt(e,b,"linePrefix",s+1)(_):b(_)}function b(_){return _===null||ot(_)?e.check(Qd,g,k)(_):(e.enter("codeFlowValue"),w(_))}function w(_){return _===null||ot(_)?(e.exit("codeFlowValue"),b(_)):(e.consume(_),w)}function k(_){return e.exit("codeFenced"),t(_)}function S(_,A,F){let R=0;return v;function v(D){return _.enter("lineEnding"),_.consume(D),_.exit("lineEnding"),L}function L(D){return _.enter("codeFencedFence"),kt(D)?vt(_,O,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):O(D)}function O(D){return D===o?(_.enter("codeFencedFenceSequence"),I(D)):F(D)}function I(D){return D===o?(R++,_.consume(D),I):R>=a?(_.exit("codeFencedFenceSequence"),kt(D)?vt(_,M,"whitespace")(D):M(D)):F(D)}function M(D){return D===null||ot(D)?(_.exit("codeFencedFence"),A(D)):F(D)}}}function vS(e,t,r){const n=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const fc={name:"codeIndented",tokenize:AS},TS={partial:!0,tokenize:ES};function AS(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),vt(e,s,"linePrefix",5)(c)}function s(c){const h=n.events[n.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(c):r(c)}function a(c){return c===null?l(c):ot(c)?e.attempt(TS,a,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||ot(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function ES(e,t,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):ot(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):vt(e,s,"linePrefix",5)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):ot(a)?i(a):r(a)}}const LS={name:"codeText",previous:MS,resolve:BS,tokenize:IS};function BS(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function MS(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function IS(e,t,r){let n=0,i,s;return a;function a(u){return e.enter("codeText"),e.enter("codeTextSequence"),o(u)}function o(u){return u===96?(e.consume(u),n++,o):(e.exit("codeTextSequence"),l(u))}function l(u){return u===null?r(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),l):u===96?(s=e.enter("codeTextSequence"),i=0,h(u)):ot(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(u))}function c(u){return u===null||u===32||u===96||ot(u)?(e.exit("codeTextData"),l(u)):(e.consume(u),c)}function h(u){return u===96?(e.consume(u),i++,h):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(s.type="codeTextData",c(u))}}class $S{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Yi(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Yi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Yi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Yi(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Yi(this.left,r.reverse())}}}function Yi(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function my(e){const t={};let r=-1,n,i,s,a,o,l,c;const h=new $S(e);for(;++r<h.length;){for(;r in t;)r=t[r];if(n=h.get(r),r&&n[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,FS(h,r)),r=t[r],c=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=h.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...h.get(i)[1].start},o=h.slice(i,r),o.unshift(n),h.splice(i,r-i+1,o))}}return qe(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function FS(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let h,u,d=-1,f=r,p=0,g=0;const x=[g];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(h=n.sliceStream(f),f.next||h.push(null),u&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),u=f,f=f.next}for(f=r;++d<o.length;)o[d][0]==="exit"&&o[d-1][0]==="enter"&&o[d][1].type===o[d-1][1].type&&o[d][1].start.line!==o[d][1].end.line&&(g=d+1,x.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):x.pop(),d=x.length;d--;){const y=o.slice(x[d],x[d+1]),b=s.pop();l.push([b,b+y.length-1]),e.splice(b,2,y)}for(l.reverse(),d=-1;++d<l.length;)c[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return c}const RS={resolve:PS,tokenize:DS},OS={partial:!0,tokenize:NS};function PS(e){return my(e),e}function DS(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):ot(o)?e.check(OS,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function NS(e,t,r){const n=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),vt(e,s,"linePrefix")}function s(a){if(a===null||ot(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function yy(e,t,r,n,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return u;function u(y){return y===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(y),e.exit(s),d):y===null||y===32||y===41||Co(y)?r(y):(e.enter(n),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(y))}function d(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(e.exit("chunkString"),e.exit(o),d(y)):y===null||y===60||ot(y)?r(y):(e.consume(y),y===92?p:f)}function p(y){return y===60||y===62||y===92?(e.consume(y),f):f(y)}function g(y){return!h&&(y===null||y===41||Ft(y))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(n),t(y)):h<c&&y===40?(e.consume(y),h++,g):y===41?(e.consume(y),h--,g):y===null||y===32||y===40||Co(y)?r(y):(e.consume(y),y===92?x:g)}function x(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function xy(e,t,r,n,i,s){const a=this;let o=0,l;return c;function c(f){return e.enter(n),e.enter(i),e.consume(f),e.exit(i),e.enter(s),h}function h(f){return o>999||f===null||f===91||f===93&&!l||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(n),t):ot(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===null||f===91||f===93||ot(f)||o++>999?(e.exit("chunkString"),h(f)):(e.consume(f),l||(l=!kt(f)),f===92?d:u)}function d(f){return f===91||f===92||f===93?(e.consume(f),o++,u):u(f)}}function by(e,t,r,n,i,s){let a;return o;function o(d){return d===34||d===39||d===40?(e.enter(n),e.enter(i),e.consume(d),e.exit(i),a=d===40?41:d,l):r(d)}function l(d){return d===a?(e.enter(i),e.consume(d),e.exit(i),e.exit(n),t):(e.enter(s),c(d))}function c(d){return d===a?(e.exit(s),l(a)):d===null?r(d):ot(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),vt(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===a||d===null||ot(d)?(e.exit("chunkString"),c(d)):(e.consume(d),d===92?u:h)}function u(d){return d===a||d===92?(e.consume(d),h):h(d)}}function Es(e,t){let r;return n;function n(i){return ot(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):kt(i)?vt(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const zS={name:"definition",tokenize:WS},qS={partial:!0,tokenize:HS};function WS(e,t,r){const n=this;let i;return s;function s(f){return e.enter("definition"),a(f)}function a(f){return xy.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=nr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),l):r(f)}function l(f){return Ft(f)?Es(e,c)(f):c(f)}function c(f){return yy(e,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function h(f){return e.attempt(qS,u,u)(f)}function u(f){return kt(f)?vt(e,d,"whitespace")(f):d(f)}function d(f){return f===null||ot(f)?(e.exit("definition"),n.parser.defined.push(i),t(f)):r(f)}}function HS(e,t,r){return n;function n(o){return Ft(o)?Es(e,i)(o):r(o)}function i(o){return by(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return kt(o)?vt(e,a,"whitespace")(o):a(o)}function a(o){return o===null||ot(o)?t(o):r(o)}}const jS={name:"hardBreakEscape",tokenize:US};function US(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ot(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const VS={name:"headingAtx",resolve:YS,tokenize:GS};function YS(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},qe(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function GS(e,t,r){let n=0;return i;function i(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&n++<6?(e.consume(h),a):h===null||Ft(h)?(e.exit("atxHeadingSequence"),o(h)):r(h)}function o(h){return h===35?(e.enter("atxHeadingSequence"),l(h)):h===null||ot(h)?(e.exit("atxHeading"),t(h)):kt(h)?vt(e,o,"whitespace")(h):(e.enter("atxHeadingText"),c(h))}function l(h){return h===35?(e.consume(h),l):(e.exit("atxHeadingSequence"),o(h))}function c(h){return h===null||h===35||Ft(h)?(e.exit("atxHeadingText"),o(h)):(e.consume(h),c)}}const XS=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Zd=["pre","script","style","textarea"],KS={concrete:!0,name:"htmlFlow",resolveTo:ZS,tokenize:tv},QS={partial:!0,tokenize:rv},JS={partial:!0,tokenize:ev};function ZS(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function tv(e,t,r){const n=this;let i,s,a,o,l;return c;function c(C){return h(C)}function h(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),u}function u(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),s=!0,g):C===63?(e.consume(C),i=3,n.interrupt?t:T):xe(C)?(e.consume(C),a=String.fromCharCode(C),x):r(C)}function d(C){return C===45?(e.consume(C),i=2,f):C===91?(e.consume(C),i=5,o=0,p):xe(C)?(e.consume(C),i=4,n.interrupt?t:T):r(C)}function f(C){return C===45?(e.consume(C),n.interrupt?t:T):r(C)}function p(C){const $t="CDATA[";return C===$t.charCodeAt(o++)?(e.consume(C),o===$t.length?n.interrupt?t:O:p):r(C)}function g(C){return xe(C)?(e.consume(C),a=String.fromCharCode(C),x):r(C)}function x(C){if(C===null||C===47||C===62||Ft(C)){const $t=C===47,mt=a.toLowerCase();return!$t&&!s&&Zd.includes(mt)?(i=1,n.interrupt?t(C):O(C)):XS.includes(a.toLowerCase())?(i=6,$t?(e.consume(C),y):n.interrupt?t(C):O(C)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(C):s?b(C):w(C))}return C===45||ce(C)?(e.consume(C),a+=String.fromCharCode(C),x):r(C)}function y(C){return C===62?(e.consume(C),n.interrupt?t:O):r(C)}function b(C){return kt(C)?(e.consume(C),b):v(C)}function w(C){return C===47?(e.consume(C),v):C===58||C===95||xe(C)?(e.consume(C),k):kt(C)?(e.consume(C),w):v(C)}function k(C){return C===45||C===46||C===58||C===95||ce(C)?(e.consume(C),k):S(C)}function S(C){return C===61?(e.consume(C),_):kt(C)?(e.consume(C),S):w(C)}function _(C){return C===null||C===60||C===61||C===62||C===96?r(C):C===34||C===39?(e.consume(C),l=C,A):kt(C)?(e.consume(C),_):F(C)}function A(C){return C===l?(e.consume(C),l=null,R):C===null||ot(C)?r(C):(e.consume(C),A)}function F(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Ft(C)?S(C):(e.consume(C),F)}function R(C){return C===47||C===62||kt(C)?w(C):r(C)}function v(C){return C===62?(e.consume(C),L):r(C)}function L(C){return C===null||ot(C)?O(C):kt(C)?(e.consume(C),L):r(C)}function O(C){return C===45&&i===2?(e.consume(C),z):C===60&&i===1?(e.consume(C),U):C===62&&i===4?(e.consume(C),pt):C===63&&i===3?(e.consume(C),T):C===93&&i===5?(e.consume(C),Tt):ot(C)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(QS,gt,I)(C)):C===null||ot(C)?(e.exit("htmlFlowData"),I(C)):(e.consume(C),O)}function I(C){return e.check(JS,M,gt)(C)}function M(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),D}function D(C){return C===null||ot(C)?I(C):(e.enter("htmlFlowData"),O(C))}function z(C){return C===45?(e.consume(C),T):O(C)}function U(C){return C===47?(e.consume(C),a="",Y):O(C)}function Y(C){if(C===62){const $t=a.toLowerCase();return Zd.includes($t)?(e.consume(C),pt):O(C)}return xe(C)&&a.length<8?(e.consume(C),a+=String.fromCharCode(C),Y):O(C)}function Tt(C){return C===93?(e.consume(C),T):O(C)}function T(C){return C===62?(e.consume(C),pt):C===45&&i===2?(e.consume(C),T):O(C)}function pt(C){return C===null||ot(C)?(e.exit("htmlFlowData"),gt(C)):(e.consume(C),pt)}function gt(C){return e.exit("htmlFlow"),t(C)}}function ev(e,t,r){const n=this;return i;function i(a){return ot(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function rv(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ia,t,r)}}const nv={name:"htmlText",tokenize:iv};function iv(e,t,r){const n=this;let i,s,a;return o;function o(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),l}function l(T){return T===33?(e.consume(T),c):T===47?(e.consume(T),S):T===63?(e.consume(T),w):xe(T)?(e.consume(T),F):r(T)}function c(T){return T===45?(e.consume(T),h):T===91?(e.consume(T),s=0,p):xe(T)?(e.consume(T),b):r(T)}function h(T){return T===45?(e.consume(T),f):r(T)}function u(T){return T===null?r(T):T===45?(e.consume(T),d):ot(T)?(a=u,U(T)):(e.consume(T),u)}function d(T){return T===45?(e.consume(T),f):u(T)}function f(T){return T===62?z(T):T===45?d(T):u(T)}function p(T){const pt="CDATA[";return T===pt.charCodeAt(s++)?(e.consume(T),s===pt.length?g:p):r(T)}function g(T){return T===null?r(T):T===93?(e.consume(T),x):ot(T)?(a=g,U(T)):(e.consume(T),g)}function x(T){return T===93?(e.consume(T),y):g(T)}function y(T){return T===62?z(T):T===93?(e.consume(T),y):g(T)}function b(T){return T===null||T===62?z(T):ot(T)?(a=b,U(T)):(e.consume(T),b)}function w(T){return T===null?r(T):T===63?(e.consume(T),k):ot(T)?(a=w,U(T)):(e.consume(T),w)}function k(T){return T===62?z(T):w(T)}function S(T){return xe(T)?(e.consume(T),_):r(T)}function _(T){return T===45||ce(T)?(e.consume(T),_):A(T)}function A(T){return ot(T)?(a=A,U(T)):kt(T)?(e.consume(T),A):z(T)}function F(T){return T===45||ce(T)?(e.consume(T),F):T===47||T===62||Ft(T)?R(T):r(T)}function R(T){return T===47?(e.consume(T),z):T===58||T===95||xe(T)?(e.consume(T),v):ot(T)?(a=R,U(T)):kt(T)?(e.consume(T),R):z(T)}function v(T){return T===45||T===46||T===58||T===95||ce(T)?(e.consume(T),v):L(T)}function L(T){return T===61?(e.consume(T),O):ot(T)?(a=L,U(T)):kt(T)?(e.consume(T),L):R(T)}function O(T){return T===null||T===60||T===61||T===62||T===96?r(T):T===34||T===39?(e.consume(T),i=T,I):ot(T)?(a=O,U(T)):kt(T)?(e.consume(T),O):(e.consume(T),M)}function I(T){return T===i?(e.consume(T),i=void 0,D):T===null?r(T):ot(T)?(a=I,U(T)):(e.consume(T),I)}function M(T){return T===null||T===34||T===39||T===60||T===61||T===96?r(T):T===47||T===62||Ft(T)?R(T):(e.consume(T),M)}function D(T){return T===47||T===62||Ft(T)?R(T):r(T)}function z(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):r(T)}function U(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),Y}function Y(T){return kt(T)?vt(e,Tt,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):Tt(T)}function Tt(T){return e.enter("htmlTextData"),a(T)}}const Ou={name:"labelEnd",resolveAll:lv,resolveTo:cv,tokenize:hv},sv={tokenize:uv},av={tokenize:fv},ov={tokenize:dv};function lv(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&qe(e,0,e.length,r),e}function cv(e,t){let r=e.length,n=0,i,s,a,o;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},h={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Ve(o,e.slice(s+1,s+n+3)),o=Ve(o,[["enter",h,t]]),o=Ve(o,wl(t.parser.constructs.insideSpan.null,e.slice(s+n+4,a-3),t)),o=Ve(o,[["exit",h,t],e[a-2],e[a-1],["exit",c,t]]),o=Ve(o,e.slice(a+1)),o=Ve(o,[["exit",l,t]]),qe(e,s,e.length,o),e}function hv(e,t,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(d){return s?s._inactive?u(d):(a=n.parser.defined.includes(nr(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),l):r(d)}function l(d){return d===40?e.attempt(sv,h,a?h:u)(d):d===91?e.attempt(av,h,a?c:u)(d):a?h(d):u(d)}function c(d){return e.attempt(ov,h,u)(d)}function h(d){return t(d)}function u(d){return s._balanced=!0,r(d)}}function uv(e,t,r){return n;function n(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),i}function i(u){return Ft(u)?Es(e,s)(u):s(u)}function s(u){return u===41?h(u):yy(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function a(u){return Ft(u)?Es(e,l)(u):h(u)}function o(u){return r(u)}function l(u){return u===34||u===39||u===40?by(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):h(u)}function c(u){return Ft(u)?Es(e,h)(u):h(u)}function h(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):r(u)}}function fv(e,t,r){const n=this;return i;function i(o){return xy.call(n,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(nr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function a(o){return r(o)}}function dv(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const pv={name:"labelStartImage",resolveAll:Ou.resolveAll,tokenize:gv};function gv(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const mv={name:"labelStartLink",resolveAll:Ou.resolveAll,tokenize:yv};function yv(e,t,r){const n=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const dc={name:"lineEnding",tokenize:xv};function xv(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),vt(e,t,"linePrefix")}}const Qa={name:"thematicBreak",tokenize:bv};function bv(e,t,r){let n=0,i;return s;function s(c){return e.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||ot(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),kt(c)?vt(e,o,"whitespace")(c):o(c))}}const Le={continuation:{tokenize:Cv},exit:vv,name:"list",tokenize:kv},wv={partial:!0,tokenize:Tv},_v={partial:!0,tokenize:Sv};function kv(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(f){const p=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:oh(f)){if(n.containerState.type||(n.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Qa,r,c)(f):c(f);if(!n.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(f)}return r(f)}function l(f){return oh(f)&&++a<10?(e.consume(f),l):(!n.interrupt||a<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),c(f)):r(f)}function c(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,e.check(ia,n.interrupt?r:h,e.attempt(wv,d,u))}function h(f){return n.containerState.initialBlankLine=!0,s++,d(f)}function u(f){return kt(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),d):r(f)}function d(f){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function Cv(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(ia,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,vt(e,t,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!kt(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(_v,t,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,vt(e,e.attempt(Le,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Sv(e,t,r){const n=this;return vt(e,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(s):r(s)}}function vv(e){e.exit(this.containerState.type)}function Tv(e,t,r){const n=this;return vt(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!kt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const tp={name:"setextUnderline",resolveTo:Av,tokenize:Ev};function Av(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function Ev(e,t,r){const n=this;let i;return s;function s(c){let h=n.events.length,u;for(;h--;)if(n.events[h][1].type!=="lineEnding"&&n.events[h][1].type!=="linePrefix"&&n.events[h][1].type!=="content"){u=n.events[h][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||u)?(e.enter("setextHeadingLine"),i=c,a(c)):r(c)}function a(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),kt(c)?vt(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ot(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const Lv={tokenize:Bv};function Bv(e){const t=this,r=e.attempt(ia,n,e.attempt(this.parser.constructs.flowInitial,i,vt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(RS,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const Mv={resolveAll:_y()},Iv=wy("string"),$v=wy("text");function wy(e){return{resolveAll:_y(e==="text"?Fv:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,a,o);return a;function a(h){return c(h)?s(h):o(h)}function o(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),l}function l(h){return c(h)?(r.exit("data"),s(h)):(r.consume(h),l)}function c(h){if(h===null)return!0;const u=i[h];let d=-1;if(u)for(;++d<u.length;){const f=u[d];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function _y(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function Fv(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const c={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const Rv={42:Le,43:Le,45:Le,48:Le,49:Le,50:Le,51:Le,52:Le,53:Le,54:Le,55:Le,56:Le,57:Le,62:dy},Ov={91:zS},Pv={[-2]:fc,[-1]:fc,32:fc},Dv={35:VS,42:Qa,45:[tp,Qa],60:KS,61:tp,95:Qa,96:Jd,126:Jd},Nv={38:gy,92:py},zv={[-5]:dc,[-4]:dc,[-3]:dc,33:pv,38:gy,42:lh,60:[mS,nv],91:mv,92:[jS,py],93:Ou,95:lh,96:LS},qv={null:[lh,Mv]},Wv={null:[42,95]},Hv={null:[]},jv=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Wv,contentInitial:Ov,disable:Hv,document:Rv,flow:Dv,flowInitial:Pv,insideSpan:qv,string:Nv,text:zv},Symbol.toStringTag,{value:"Module"}));function Uv(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:A(S),check:A(_),consume:b,enter:w,exit:k,interrupt:A(_,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:d,sliceStream:f,write:u};let h=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function u(L){return a=Ve(a,L),x(),a[a.length-1]!==null?[]:(F(t,0),c.events=wl(s,c.events,c),c.events)}function d(L,O){return Yv(f(L),O)}function f(L){return Vv(a,L)}function p(){const{_bufferIndex:L,_index:O,line:I,column:M,offset:D}=n;return{_bufferIndex:L,_index:O,line:I,column:M,offset:D}}function g(L){i[L.line]=L.column,v()}function x(){let L;for(;n._index<a.length;){const O=a[n._index];if(typeof O=="string")for(L=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===L&&n._bufferIndex<O.length;)y(O.charCodeAt(n._bufferIndex));else y(O)}}function y(L){h=h(L)}function b(L){ot(L)?(n.line++,n.column=1,n.offset+=L===-3?2:1,v()):L!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=L}function w(L,O){const I=O||{};return I.type=L,I.start=p(),c.events.push(["enter",I,c]),o.push(I),I}function k(L){const O=o.pop();return O.end=p(),c.events.push(["exit",O,c]),O}function S(L,O){F(L,O.from)}function _(L,O){O.restore()}function A(L,O){return I;function I(M,D,z){let U,Y,Tt,T;return Array.isArray(M)?gt(M):"tokenize"in M?gt([M]):pt(M);function pt(At){return Kt;function Kt(Se){const Qe=Se!==null&&At[Se],Re=Se!==null&&At.null,ln=[...Array.isArray(Qe)?Qe:Qe?[Qe]:[],...Array.isArray(Re)?Re:Re?[Re]:[]];return gt(ln)(Se)}}function gt(At){return U=At,Y=0,At.length===0?z:C(At[Y])}function C(At){return Kt;function Kt(Se){return T=R(),Tt=At,At.partial||(c.currentConstruct=At),At.name&&c.parser.constructs.disable.null.includes(At.name)?mt():At.tokenize.call(O?Object.assign(Object.create(c),O):c,l,$t,mt)(Se)}}function $t(At){return L(Tt,T),D}function mt(At){return T.restore(),++Y<U.length?C(U[Y]):z}}}function F(L,O){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&qe(c.events,O,c.events.length-O,L.resolve(c.events.slice(O),c)),L.resolveTo&&(c.events=L.resolveTo(c.events,c))}function R(){const L=p(),O=c.previous,I=c.currentConstruct,M=c.events.length,D=Array.from(o);return{from:M,restore:z};function z(){n=L,c.previous=O,c.currentConstruct=I,c.events.length=M,o=D,v()}}function v(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Vv(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(n,s)];else{if(a=e.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function Yv(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function Gv(e){const n={constructs:uy([jv,...(e||{}).extensions||[]]),content:i(cS),defined:[],document:i(uS),flow:i(Lv),lazy:{},string:i(Iv),text:i($v)};return n;function i(s){return a;function a(o){return Uv(n,s,o)}}}function Xv(e){for(;!my(e););return e}const ep=/[\0\t\n\r]/g;function Kv(){let e=1,t="",r=!0,n;return i;function i(s,a,o){const l=[];let c,h,u,d,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),u=0,t="",r&&(s.charCodeAt(0)===65279&&u++,r=void 0);u<s.length;){if(ep.lastIndex=u,c=ep.exec(s),d=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(d),!c){t=s.slice(u);break}if(f===10&&u===d&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),u<d&&(l.push(s.slice(u,d)),e+=d-u),f){case 0:{l.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,l.push(-2);e++<h;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}u=d+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Qv=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Jv(e){return e.replace(Qv,Zv)}function Zv(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return fy(r.slice(s?2:1),s?16:10)}return Ru(r)||e}const ky={}.hasOwnProperty;function tT(e,t,r){return typeof t!="string"&&(r=t,t=void 0),eT(r)(Xv(Gv(r).document().write(Kv()(e,t,!0))))}function eT(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(cn),autolinkProtocol:R,autolinkEmail:R,atxHeading:s(Un),blockQuote:s(Re),characterEscape:R,characterReference:R,codeFenced:s(ln),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ln,a),codeText:s(Wr,a),codeTextData:R,data:R,codeFlowValue:R,definition:s(jn),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(kr),hardBreakEscape:s(Vn),hardBreakTrailing:s(Vn),htmlFlow:s(Cr,a),htmlFlowData:R,htmlText:s(Cr,a),htmlTextData:R,image:s(Yn),label:a,link:s(cn),listItem:s(_a),listItemValue:d,listOrdered:s(Wi,u),listUnordered:s(Wi),paragraph:s(nc),reference:C,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Un),strong:s(Hi),thematicBreak:s(Hr)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:Qe,autolinkProtocol:Se,blockQuote:l(),characterEscapeValue:v,characterReferenceMarkerHexadecimal:mt,characterReferenceMarkerNumeric:mt,characterReferenceValue:At,characterReference:Kt,codeFenced:l(x),codeFencedFence:g,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:v,codeIndented:l(y),codeText:l(D),codeTextData:v,data:v,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(I),htmlFlowData:v,htmlText:l(M),htmlTextData:v,image:l(U),label:Tt,labelText:Y,lineEnding:L,link:l(z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:$t,resourceDestinationString:T,resourceTitleString:pt,resource:gt,setextHeading:l(F),setextHeadingLineSequence:A,setextHeadingText:_,strong:l(),thematicBreak:l()}};Cy(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(P){let j={type:"root",children:[]};const dt={stack:[j],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:h,data:r},wt=[];let Et=-1;for(;++Et<P.length;)if(P[Et][1].type==="listOrdered"||P[Et][1].type==="listUnordered")if(P[Et][0]==="enter")wt.push(Et);else{const ve=wt.pop();Et=i(P,ve,Et)}for(Et=-1;++Et<P.length;){const ve=t[P[Et][0]];ky.call(ve,P[Et][1].type)&&ve[P[Et][1].type].call(Object.assign({sliceSerialize:P[Et][2].sliceSerialize},dt),P[Et][1])}if(dt.tokenStack.length>0){const ve=dt.tokenStack[dt.tokenStack.length-1];(ve[1]||rp).call(dt,void 0,ve[0])}for(j.position={start:Ur(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:Ur(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},Et=-1;++Et<t.transforms.length;)j=t.transforms[Et](j)||j;return j}function i(P,j,dt){let wt=j-1,Et=-1,ve=!1,He,Te,ge,je;for(;++wt<=dt;){const Zt=P[wt];switch(Zt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Zt[0]==="enter"?Et++:Et--,je=void 0;break}case"lineEndingBlank":{Zt[0]==="enter"&&(He&&!je&&!Et&&!ge&&(ge=wt),je=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:je=void 0}if(!Et&&Zt[0]==="enter"&&Zt[1].type==="listItemPrefix"||Et===-1&&Zt[0]==="exit"&&(Zt[1].type==="listUnordered"||Zt[1].type==="listOrdered")){if(He){let or=wt;for(Te=void 0;or--;){const Je=P[or];if(Je[1].type==="lineEnding"||Je[1].type==="lineEndingBlank"){if(Je[0]==="exit")continue;Te&&(P[Te][1].type="lineEndingBlank",ve=!0),Je[1].type="lineEnding",Te=or}else if(!(Je[1].type==="linePrefix"||Je[1].type==="blockQuotePrefix"||Je[1].type==="blockQuotePrefixWhitespace"||Je[1].type==="blockQuoteMarker"||Je[1].type==="listItemIndent"))break}ge&&(!Te||ge<Te)&&(He._spread=!0),He.end=Object.assign({},Te?P[Te][1].start:Zt[1].end),P.splice(Te||wt,0,["exit",He,Zt[2]]),wt++,dt++}if(Zt[1].type==="listItemPrefix"){const or={type:"listItem",_spread:!1,start:Object.assign({},Zt[1].start),end:void 0};He=or,P.splice(wt,0,["enter",or,Zt[2]]),wt++,dt++,ge=void 0,je=!0}}}return P[j][1]._spread=ve,dt}function s(P,j){return dt;function dt(wt){o.call(this,P(wt),wt),j&&j.call(this,wt)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(P,j,dt){this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([j,dt||void 0]),P.position={start:Ur(j.start),end:void 0}}function l(P){return j;function j(dt){P&&P.call(this,dt),c.call(this,dt)}}function c(P,j){const dt=this.stack.pop(),wt=this.tokenStack.pop();if(wt)wt[0].type!==P.type&&(j?j.call(this,P,wt[0]):(wt[1]||rp).call(this,P,wt[0]));else throw new Error("Cannot close `"+P.type+"` ("+As({start:P.start,end:P.end})+"): it’s not open");dt.position.end=Ur(P.end)}function h(){return Fu(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function d(P){if(this.data.expectingFirstListItemValue){const j=this.stack[this.stack.length-2];j.start=Number.parseInt(this.sliceSerialize(P),10),this.data.expectingFirstListItemValue=void 0}}function f(){const P=this.resume(),j=this.stack[this.stack.length-1];j.lang=P}function p(){const P=this.resume(),j=this.stack[this.stack.length-1];j.meta=P}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const P=this.resume(),j=this.stack[this.stack.length-1];j.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const P=this.resume(),j=this.stack[this.stack.length-1];j.value=P.replace(/(\r?\n|\r)$/g,"")}function b(P){const j=this.resume(),dt=this.stack[this.stack.length-1];dt.label=j,dt.identifier=nr(this.sliceSerialize(P)).toLowerCase()}function w(){const P=this.resume(),j=this.stack[this.stack.length-1];j.title=P}function k(){const P=this.resume(),j=this.stack[this.stack.length-1];j.url=P}function S(P){const j=this.stack[this.stack.length-1];if(!j.depth){const dt=this.sliceSerialize(P).length;j.depth=dt}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function A(P){const j=this.stack[this.stack.length-1];j.depth=this.sliceSerialize(P).codePointAt(0)===61?1:2}function F(){this.data.setextHeadingSlurpLineEnding=void 0}function R(P){const dt=this.stack[this.stack.length-1].children;let wt=dt[dt.length-1];(!wt||wt.type!=="text")&&(wt=hn(),wt.position={start:Ur(P.start),end:void 0},dt.push(wt)),this.stack.push(wt)}function v(P){const j=this.stack.pop();j.value+=this.sliceSerialize(P),j.position.end=Ur(P.end)}function L(P){const j=this.stack[this.stack.length-1];if(this.data.atHardBreak){const dt=j.children[j.children.length-1];dt.position.end=Ur(P.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(j.type)&&(R.call(this,P),v.call(this,P))}function O(){this.data.atHardBreak=!0}function I(){const P=this.resume(),j=this.stack[this.stack.length-1];j.value=P}function M(){const P=this.resume(),j=this.stack[this.stack.length-1];j.value=P}function D(){const P=this.resume(),j=this.stack[this.stack.length-1];j.value=P}function z(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=j,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function U(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=j,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function Y(P){const j=this.sliceSerialize(P),dt=this.stack[this.stack.length-2];dt.label=Jv(j),dt.identifier=nr(j).toLowerCase()}function Tt(){const P=this.stack[this.stack.length-1],j=this.resume(),dt=this.stack[this.stack.length-1];if(this.data.inReference=!0,dt.type==="link"){const wt=P.children;dt.children=wt}else dt.alt=j}function T(){const P=this.resume(),j=this.stack[this.stack.length-1];j.url=P}function pt(){const P=this.resume(),j=this.stack[this.stack.length-1];j.title=P}function gt(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function $t(P){const j=this.resume(),dt=this.stack[this.stack.length-1];dt.label=j,dt.identifier=nr(this.sliceSerialize(P)).toLowerCase(),this.data.referenceType="full"}function mt(P){this.data.characterReferenceType=P.type}function At(P){const j=this.sliceSerialize(P),dt=this.data.characterReferenceType;let wt;dt?(wt=fy(j,dt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):wt=Ru(j);const Et=this.stack[this.stack.length-1];Et.value+=wt}function Kt(P){const j=this.stack.pop();j.position.end=Ur(P.end)}function Se(P){v.call(this,P);const j=this.stack[this.stack.length-1];j.url=this.sliceSerialize(P)}function Qe(P){v.call(this,P);const j=this.stack[this.stack.length-1];j.url="mailto:"+this.sliceSerialize(P)}function Re(){return{type:"blockquote",children:[]}}function ln(){return{type:"code",lang:null,meta:null,value:""}}function Wr(){return{type:"inlineCode",value:""}}function jn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function kr(){return{type:"emphasis",children:[]}}function Un(){return{type:"heading",depth:0,children:[]}}function Vn(){return{type:"break"}}function Cr(){return{type:"html",value:""}}function Yn(){return{type:"image",title:null,url:"",alt:null}}function cn(){return{type:"link",title:null,url:"",children:[]}}function Wi(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function _a(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function nc(){return{type:"paragraph",children:[]}}function Hi(){return{type:"strong",children:[]}}function hn(){return{type:"text",value:""}}function Hr(){return{type:"thematicBreak"}}}function Ur(e){return{line:e.line,column:e.column,offset:e.offset}}function Cy(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?Cy(e,n):rT(e,n)}}function rT(e,t){let r;for(r in t)if(ky.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function rp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+As({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+As({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+As({start:t.start,end:t.end})+") is still open")}function nT(e){const t=this;t.parser=r;function r(n){return tT(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function iT(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function sT(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function aT(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function oT(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function lT(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cT(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=Fi(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let a,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function hT(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function uT(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function Sy(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function fT(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Sy(e,t);const i={src:Fi(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function dT(e,t){const r={src:Fi(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function pT(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function gT(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Sy(e,t);const i={href:Fi(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function mT(e,t){const r={href:Fi(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yT(e,t,r){const n=e.all(t),i=r?xT(r):vy(t),s={},a=[];if(typeof t.checked=="boolean"){const h=n[0];let u;h&&h.type==="element"&&h.tagName==="p"?u=h:(u={type:"element",tagName:"p",properties:{},children:[]},n.unshift(u)),u.children.length>0&&u.children.unshift({type:"text",value:" "}),u.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const h=n[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,c),e.applyData(t,c)}function xT(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=vy(r[n])}return t}function vy(e){const t=e.spread;return t??e.children.length>1}function bT(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function wT(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _T(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function kT(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function CT(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=Bu(t.children[1]),l=iy(t.children[t.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function ST(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const u=t.children[l],d={},f=a?a[l]:void 0;f&&(d.align=f);let p={type:"element",tagName:s,properties:d,children:[]};u&&(p.children=e.all(u),e.patch(u,p),p=e.applyData(u,p)),c.push(p)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,h),e.applyData(t,h)}function vT(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const np=9,ip=32;function TT(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push(sp(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push(sp(t.slice(i),i>0,!1)),s.join("")}function sp(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===np||s===ip;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===np||s===ip;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function AT(e,t){const r={type:"text",value:TT(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function ET(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const LT={blockquote:iT,break:sT,code:aT,delete:oT,emphasis:lT,footnoteReference:cT,heading:hT,html:uT,imageReference:fT,image:dT,inlineCode:pT,linkReference:gT,link:mT,listItem:yT,list:bT,paragraph:wT,root:_T,strong:kT,table:CT,tableCell:vT,tableRow:ST,text:AT,thematicBreak:ET,toml:Aa,yaml:Aa,definition:Aa,footnoteDefinition:Aa};function Aa(){}const Ty=-1,_l=0,Ls=1,So=2,Pu=3,Du=4,Nu=5,zu=6,Ay=7,Ey=8,ap=typeof self=="object"?self:globalThis,BT=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case _l:case Ty:return r(a,i);case Ls:{const o=r([],i);for(const l of a)o.push(n(l));return o}case So:{const o=r({},i);for(const[l,c]of a)o[n(l)]=n(c);return o}case Pu:return r(new Date(a),i);case Du:{const{source:o,flags:l}=a;return r(new RegExp(o,l),i)}case Nu:{const o=r(new Map,i);for(const[l,c]of a)o.set(n(l),n(c));return o}case zu:{const o=r(new Set,i);for(const l of a)o.add(n(l));return o}case Ay:{const{name:o,message:l}=a;return r(new ap[o](l),i)}case Ey:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new ap[s](a),i)};return n},op=e=>BT(new Map,e)(0),Qn="",{toString:MT}={},{keys:IT}=Object,Gi=e=>{const t=typeof e;if(t!=="object"||!e)return[_l,t];const r=MT.call(e).slice(8,-1);switch(r){case"Array":return[Ls,Qn];case"Object":return[So,Qn];case"Date":return[Pu,Qn];case"RegExp":return[Du,Qn];case"Map":return[Nu,Qn];case"Set":return[zu,Qn];case"DataView":return[Ls,r]}return r.includes("Array")?[Ls,r]:r.includes("Error")?[Ay,r]:[So,r]},Ea=([e,t])=>e===_l&&(t==="function"||t==="symbol"),$T=(e,t,r,n)=>{const i=(a,o)=>{const l=n.push(a)-1;return r.set(o,l),l},s=a=>{if(r.has(a))return r.get(a);let[o,l]=Gi(a);switch(o){case _l:{let h=a;switch(l){case"bigint":o=Ey,h=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([Ty],a)}return i([o,h],a)}case Ls:{if(l){let d=a;return l==="DataView"?d=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(a)),i([l,[...d]],a)}const h=[],u=i([o,h],a);for(const d of a)h.push(s(d));return u}case So:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const h=[],u=i([o,h],a);for(const d of IT(a))(e||!Ea(Gi(a[d])))&&h.push([s(d),s(a[d])]);return u}case Pu:return i([o,a.toISOString()],a);case Du:{const{source:h,flags:u}=a;return i([o,{source:h,flags:u}],a)}case Nu:{const h=[],u=i([o,h],a);for(const[d,f]of a)(e||!(Ea(Gi(d))||Ea(Gi(f))))&&h.push([s(d),s(f)]);return u}case zu:{const h=[],u=i([o,h],a);for(const d of a)(e||!Ea(Gi(d)))&&h.push(s(d));return u}}const{message:c}=a;return i([o,{name:l,message:c}],a)};return s},lp=(e,{json:t,lossy:r}={})=>{const n=[];return $T(!(t||r),!!t,new Map,n)(e),n},vo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?op(lp(e,t)):structuredClone(e):(e,t)=>op(lp(e,t));function FT(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function RT(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function OT(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||FT,n=e.options.footnoteBackLabel||RT,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const h=e.all(c),u=String(c.identifier).toUpperCase(),d=Fi(u.toLowerCase());let f=0;const p=[],g=e.footnoteCounts.get(u);for(;g!==void 0&&++f<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof r=="string"?r:r(l,f);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,f),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=h[h.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...p)}else h.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(h,!0)};e.patch(c,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...vo(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const sa=(function(e){if(e==null)return zT;if(typeof e=="function")return kl(e);if(typeof e=="object")return Array.isArray(e)?PT(e):DT(e);if(typeof e=="string")return NT(e);throw new Error("Expected function, string, or object as test")});function PT(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=sa(e[r]);return kl(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function DT(e){const t=e;return kl(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function NT(e){return kl(t);function t(r){return r&&r.type===e}}function kl(e){return t;function t(r,n,i){return!!(qT(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function zT(){return!0}function qT(e){return e!==null&&typeof e=="object"&&"type"in e}const Ly=[],WT=!0,ch=!1,HT="skip";function qu(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=sa(i),a=n?-1:1;o(e,void 0,[])();function o(l,c,h){const u=l&&typeof l=="object"?l:{};if(typeof u.type=="string"){const f=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=Ly,p,g,x;if((!t||s(l,c,h[h.length-1]||void 0))&&(f=jT(r(l,h)),f[0]===ch))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==HT)for(g=(n?y.children.length:-1)+a,x=h.concat(y);g>-1&&g<y.children.length;){const b=y.children[g];if(p=o(b,g,x)(),p[0]===ch)return p;g=typeof p[1]=="number"?p[1]:g+a}}return f}}}function jT(e){return Array.isArray(e)?e:typeof e=="number"?[WT,e]:e==null?Ly:[e]}function Wu(e,t,r,n){let i,s,a;typeof t=="function"&&typeof r!="function"?(s=void 0,a=t,i=r):(s=t,a=r,i=n),qu(e,s,o,i);function o(l,c){const h=c[c.length-1],u=h?h.children.indexOf(l):void 0;return a(l,u,h)}}const hh={}.hasOwnProperty,UT={};function VT(e,t){const r=t||UT,n=new Map,i=new Map,s=new Map,a={...LT,...r.handlers},o={all:c,applyData:GT,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:r,patch:YT,wrap:KT};return Wu(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const u=h.type==="definition"?n:i,d=String(h.identifier).toUpperCase();u.has(d)||u.set(d,h)}}),o;function l(h,u){const d=h.type,f=o.handlers[d];if(hh.call(o.handlers,d)&&f)return f(o,h,u);if(o.options.passThrough&&o.options.passThrough.includes(d)){if("children"in h){const{children:g,...x}=h,y=vo(x);return y.children=o.all(h),y}return vo(h)}return(o.options.unknownHandler||XT)(o,h,u)}function c(h){const u=[];if("children"in h){const d=h.children;let f=-1;for(;++f<d.length;){const p=o.one(d[f],h);if(p){if(f&&d[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=cp(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=cp(g.value))}Array.isArray(p)?u.push(...p):u.push(p)}}}return u}}function YT(e,t){e.position&&(t.position=R2(e))}function GT(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,vo(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function XT(e,t){const r=t.data||{},n="value"in t&&!(hh.call(r,"hProperties")||hh.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KT(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function cp(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function hp(e,t){const r=VT(e,t),n=r.one(e,void 0),i=OT(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function QT(e,t){return e&&"run"in e?async function(r,n){const i=hp(r,{file:n,...t});await e.run(i,n)}:function(r,n){return hp(r,{file:n,...e||t})}}function up(e){if(e)throw e}var pc,fp;function JT(){if(fp)return pc;fp=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var h=e.call(c,"constructor"),u=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!h&&!u)return!1;var d;for(d in c);return typeof d>"u"||e.call(c,d)},a=function(c,h){r&&h.name==="__proto__"?r(c,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):c[h.name]=h.newValue},o=function(c,h){if(h==="__proto__")if(e.call(c,h)){if(n)return n(c,h).value}else return;return c[h]};return pc=function l(){var c,h,u,d,f,p,g=arguments[0],x=1,y=arguments.length,b=!1;for(typeof g=="boolean"&&(b=g,g=arguments[1]||{},x=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});x<y;++x)if(c=arguments[x],c!=null)for(h in c)u=o(g,h),d=o(c,h),g!==d&&(b&&d&&(s(d)||(f=i(d)))?(f?(f=!1,p=u&&i(u)?u:[]):p=u&&s(u)?u:{},a(g,{name:h,newValue:l(b,p,d)})):typeof d<"u"&&a(g,{name:h,newValue:d}));return g},pc}var ZT=JT();const gc=Eu(ZT);function uh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function tA(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const h=e[++s];let u=-1;if(l){a(l);return}for(;++u<i.length;)(c[u]===null||c[u]===void 0)&&(c[u]=i[u]);i=c,h?eA(h,o)(...c):a(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function eA(e,t){let r;return n;function n(...a){const o=e.length>a.length;let l;o&&a.push(i);try{l=e.apply(this,a)}catch(c){const h=c;if(o&&r)throw h;return i(h)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){r||(r=!0,t(a,...o))}function s(a){i(null,a)}}const dr={basename:rA,dirname:nA,extname:iA,join:sA,sep:"/"};function rA(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');aa(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function nA(e){if(aa(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function iA(e){aa(e);let t=e.length,r=-1,n=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function sA(...e){let t=-1,r;for(;++t<e.length;)aa(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":aA(r)}function aA(e){aa(e);const t=e.codePointAt(0)===47;let r=oA(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function oA(e,t){let r="",n=0,i=-1,s=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function aa(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const lA={cwd:cA};function cA(){return"/"}function fh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function hA(e){if(typeof e=="string")e=new URL(e);else if(!fh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return uA(e)}function uA(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const mc=["history","path","basename","stem","extname","dirname"];class By{constructor(t){let r;t?fh(t)?r={path:t}:typeof t=="string"||fA(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":lA.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<mc.length;){const s=mc[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)mc.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?dr.basename(this.path):void 0}set basename(t){xc(t,"basename"),yc(t,"basename"),this.path=dr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?dr.dirname(this.path):void 0}set dirname(t){dp(this.basename,"dirname"),this.path=dr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?dr.extname(this.path):void 0}set extname(t){if(yc(t,"extname"),dp(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=dr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){fh(t)&&(t=hA(t)),xc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?dr.basename(this.path,this.extname):void 0}set stem(t){xc(t,"stem"),yc(t,"stem"),this.path=dr.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new de(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function yc(e,t){if(e&&e.includes(dr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+dr.sep+"`")}function xc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function dp(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function fA(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const dA=(function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s}),pA={}.hasOwnProperty;class Hu extends dA{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=tA()}copy(){const t=new Hu;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(gc(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(_c("data",this.frozen),this.namespace[t]=r,this):pA.call(this.namespace,t)&&this.namespace[t]||void 0:t?(_c("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=La(t),n=this.parser||this.Parser;return bc("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),bc("process",this.parser||this.Parser),wc("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=La(t),l=n.parse(o);n.run(l,o,function(h,u,d){if(h||!u||!d)return c(h);const f=u,p=n.stringify(f,d);yA(p)?d.value=p:d.result=p,c(h,d)});function c(h,u){h||!u?a(h):s?s(u):r(void 0,u)}}}processSync(t){let r=!1,n;return this.freeze(),bc("processSync",this.parser||this.Parser),wc("processSync",this.compiler||this.Compiler),this.process(t,i),gp("processSync","process",r),n;function i(s,a){r=!0,up(s),n=a}}run(t,r,n){pp(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const l=La(r);i.run(t,l,c);function c(h,u,d){const f=u||t;h?o(h):a?a(f):n(void 0,f,d)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),gp("runSync","run",n),i;function s(a,o){up(a),i=o,n=!0}}stringify(t,r){this.freeze();const n=La(r),i=this.compiler||this.Compiler;return wc("stringify",i),pp(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(_c("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...u]=c;l(h,u)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=gc(!0,i.settings,c.settings))}function o(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const u=c[h];s(u)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,h){let u=-1,d=-1;for(;++u<n.length;)if(n[u][0]===c){d=u;break}if(d===-1)n.push([c,...h]);else if(h.length>0){let[f,...p]=h;const g=n[d][1];uh(g)&&uh(f)&&(f=gc(!0,g,f)),n[d]=[c,f,...p]}}}}const gA=new Hu().freeze();function bc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function wc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function _c(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pp(e){if(!uh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function gp(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function La(e){return mA(e)?e:new By(e)}function mA(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function yA(e){return typeof e=="string"||xA(e)}function xA(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const bA="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",mp=[],yp={allowDangerousHtml:!0},wA=/^(https?|ircs?|mailto|xmpp)$/i,_A=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function kA(e){const t=CA(e),[r,n]=Ka.useState(void 0),[i,s]=Ka.useState(void 0);if(Ka.useEffect(function(){let a=!1;const o=SA(e);return t.run(t.parse(o),o,function(l,c){a||(n(l),s(c))}),function(){a=!0}},[e.children,e.rehypePlugins,e.remarkPlugins,e.remarkRehypeOptions]),r)throw r;return i?vA(i,e):e.fallback}function CA(e){const t=e.rehypePlugins||mp,r=e.remarkPlugins||mp,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...yp}:yp;return gA().use(nT).use(r).use(QT,n).use(t)}function SA(e){const t=e.children||"",r=new By;return typeof t=="string"&&(r.value=t),r}function vA(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||TA;for(const h of _A)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+bA+h.id,void 0);return Wu(e,c),z2(e,{Fragment:xt.Fragment,components:i,ignoreInvalidStyle:!0,jsx:xt.jsx,jsxs:xt.jsxs,passKeys:!0,passNode:!0});function c(h,u,d){if(h.type==="raw"&&d&&typeof u=="number")return a?d.children.splice(u,1):d.children[u]={type:"text",value:h.value},u;if(h.type==="element"){let f;for(f in uc)if(Object.hasOwn(uc,f)&&Object.hasOwn(h.properties,f)){const p=h.properties[f],g=uc[f];(g===null||g.includes(h.tagName))&&(h.properties[f]=l(String(p||""),f,h))}}if(h.type==="element"){let f=r?!r.includes(h.tagName):s?s.includes(h.tagName):!1;if(!f&&n&&typeof u=="number"&&(f=!n(h,u,d)),f&&d&&typeof u=="number")return o&&h.children?d.children.splice(u,1,...h.children):d.children.splice(u,1),u}}}function TA(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||wA.test(e.slice(0,t))?e:""}const xp=/[#.]/g;function AA(e,t){const r=e||"",n={};let i=0,s,a;for(;i<r.length;){xp.lastIndex=i;const o=xp.exec(r),l=r.slice(i,o?o.index:r.length);l&&(s?s==="#"?n.id=l:Array.isArray(n.className)?n.className.push(l):n.className=[l]:a=l,i+=l.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:n,children:[]}}function My(e,t,r){const n=r?MA(r):void 0;function i(s,a,...o){let l;if(s==null){l={type:"root",children:[]};const c=a;o.unshift(c)}else{l=AA(s,t);const c=l.tagName.toLowerCase(),h=n?n.get(c):void 0;if(l.tagName=h||c,EA(a))o.unshift(a);else for(const[u,d]of Object.entries(a))LA(e,l.properties,u,d)}for(const c of o)dh(l.children,c);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function EA(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function LA(e,t,r,n){const i=ry(e,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=ko(n):i.commaSeparated?s=Rd(n):i.commaOrSpaceSeparated?s=ko(Rd(n).join(" ")):s=bp(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?BA(n):String(n);if(Array.isArray(s)){const a=[];for(const o of s)a.push(bp(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function dh(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)dh(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?dh(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function bp(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Ns(r)===Ns(t)))return!0}return r}function BA(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function MA(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const IA=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],$A=My(ny,"div"),FA=My(xl,"g",IA),kc={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function RA(e,t){return Iy(e,{})||{type:"root",children:[]}}function Iy(e,t){const r=OA(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}function OA(e,t){switch(e.nodeType){case 1:return zA(e,t);case 3:return DA(e);case 8:return NA(e);case 9:return wp(e,t);case 10:return PA();case 11:return wp(e,t);default:return}}function wp(e,t){return{type:"root",children:$y(e,t)}}function PA(){return{type:"doctype"}}function DA(e){return{type:"text",value:e.nodeValue||""}}function NA(e){return{type:"comment",value:e.nodeValue||""}}function zA(e,t){const r=e.namespaceURI,n=r===kc.svg?FA:$A,i=r===kc.html?e.tagName.toLowerCase():e.tagName,s=r===kc.html&&i==="template"?e.content:e,a=e.getAttributeNames(),o={};let l=-1;for(;++l<a.length;)o[a[l]]=e.getAttribute(a[l])||"";return n(i,o,$y(s,t))}function $y(e,t){const r=e.childNodes,n=[];let i=-1;for(;++i<r.length;){const s=Iy(r[i],t);s!==void 0&&n.push(s)}return n}new DOMParser;function qA(e,t){const r=WA(e);return RA(r)}function WA(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const _p=(function(e,t,r){const n=sa(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]}),Dn=(function(e){if(e==null)return UA;if(typeof e=="string")return jA(e);if(typeof e=="object")return HA(e);if(typeof e=="function")return ju(e);throw new Error("Expected function, string, or array as `test`")});function HA(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Dn(e[r]);return ju(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function jA(e){return ju(t);function t(r){return r.tagName===e}}function ju(e){return t;function t(r,n,i){return!!(VA(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function UA(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function VA(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const kp=/\n/g,Cp=/[\t ]+/g,ph=Dn("br"),Sp=Dn(tE),YA=Dn("p"),vp=Dn("tr"),GA=Dn(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",ZA,eE]),Fy=Dn(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function XA(e,t){const r=t||{},n="children"in e?e.children:[],i=Fy(e),s=Py(e,{whitespace:r.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...Oy(e,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)a.push(...Ry(n[o],e,{whitespace:s,breakBefore:o?void 0:i,breakAfter:o<n.length-1?ph(n[o+1]):i}));const l=[];let c;for(o=-1;++o<a.length;){const h=a[o];typeof h=="number"?c!==void 0&&h>c&&(c=h):h&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(h))}return l.join("")}function Ry(e,t,r){return e.type==="element"?KA(e,t,r):e.type==="text"?r.whitespace==="normal"?Oy(e,r):QA(e):[]}function KA(e,t,r){const n=Py(e,r),i=e.children||[];let s=-1,a=[];if(GA(e))return a;let o,l;for(ph(e)||vp(e)&&_p(t,e,vp)?l=`
`:YA(e)?(o=2,l=2):Fy(e)&&(o=1,l=1);++s<i.length;)a=a.concat(Ry(i[s],e,{whitespace:n,breakBefore:s?void 0:o,breakAfter:s<i.length-1?ph(i[s+1]):l}));return Sp(e)&&_p(t,e,Sp)&&a.push("	"),o&&a.unshift(o),l&&a.push(l),a}function Oy(e,t){const r=String(e.value),n=[],i=[];let s=0;for(;s<=r.length;){kp.lastIndex=s;const l=kp.exec(r),c=l&&"index"in l?l.index:r.length;n.push(JA(r.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,c===r.length?t.breakAfter:!0)),s=c+1}let a=-1,o;for(;++a<n.length;)n[a].charCodeAt(n[a].length-1)===8203||a<n.length-1&&n[a+1].charCodeAt(0)===8203?(i.push(n[a]),o=void 0):n[a]?(typeof o=="number"&&i.push(o),i.push(n[a]),o=0):(a===0||a===n.length-1)&&i.push(0);return i}function QA(e){return[String(e.value)]}function JA(e,t,r){const n=[];let i=0,s;for(;i<e.length;){Cp.lastIndex=i;const a=Cp.exec(e);s=a?a.index:e.length,!i&&!s&&a&&!t&&n.push(""),i!==s&&n.push(e.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!r&&n.push(""),n.join(" ")}function Py(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function ZA(e){return!!(e.properties||{}).hidden}function tE(e){return e.tagName==="td"||e.tagName==="th"}function eE(e){return e.tagName==="dialog"&&!(e.properties||{}).open}var Tp={name:"mermaid",version:"11.12.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},Dy=Object.defineProperty,m=(e,t)=>Dy(e,"name",{value:t,configurable:!0}),rE=(e,t)=>{for(var r in t)Dy(e,r,{get:t[r],enumerable:!0})},Tr={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},N={trace:m((...e)=>{},"trace"),debug:m((...e)=>{},"debug"),info:m((...e)=>{},"info"),warn:m((...e)=>{},"warn"),error:m((...e)=>{},"error"),fatal:m((...e)=>{},"fatal")},Uu=m(function(e="fatal"){let t=Tr.fatal;typeof e=="string"?e.toLowerCase()in Tr&&(t=Tr[e]):typeof e=="number"&&(t=e),N.trace=()=>{},N.debug=()=>{},N.info=()=>{},N.warn=()=>{},N.error=()=>{},N.fatal=()=>{},t<=Tr.fatal&&(N.fatal=console.error?console.error.bind(console,Ue("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Ue("FATAL"))),t<=Tr.error&&(N.error=console.error?console.error.bind(console,Ue("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Ue("ERROR"))),t<=Tr.warn&&(N.warn=console.warn?console.warn.bind(console,Ue("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Ue("WARN"))),t<=Tr.info&&(N.info=console.info?console.info.bind(console,Ue("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Ue("INFO"))),t<=Tr.debug&&(N.debug=console.debug?console.debug.bind(console,Ue("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ue("DEBUG"))),t<=Tr.trace&&(N.trace=console.debug?console.debug.bind(console,Ue("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ue("TRACE")))},"setLogLevel"),Ue=m(e=>`%c${u2().format("ss.SSS")} : ${e} : `,"format");const Ja={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;switch(n){case"r":return Ja.hue2rgb(s,i,e+1/3)*255;case"g":return Ja.hue2rgb(s,i,e)*255;case"b":return Ja.hue2rgb(s,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),s=Math.min(e,t,r),a=(i+s)/2;if(n==="l")return a*100;if(i===s)return 0;const o=i-s,l=a>.5?o/(2-i-s):o/(i+s);if(n==="s")return l*100;switch(i){case e:return((t-r)/o+(t<r?6:0))*60;case t:return((r-e)/o+2)*60;case r:return((e-t)/o+4)*60;default:return-1}}},nE={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},iE={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},ft={channel:Ja,lang:nE,unit:iE},Gr={};for(let e=0;e<=255;e++)Gr[e]=ft.unit.dec2hex(e);const oe={ALL:0,RGB:1,HSL:2};class sE{constructor(){this.type=oe.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=oe.ALL}is(t){return this.type===t}}class aE{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new sE}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=oe.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=ft.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=ft.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=ft.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=ft.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=ft.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=ft.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(oe.HSL)&&r!==void 0?r:(this._ensureHSL(),ft.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(oe.HSL)&&r!==void 0?r:(this._ensureHSL(),ft.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(oe.HSL)&&r!==void 0?r:(this._ensureHSL(),ft.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(oe.RGB)&&r!==void 0?r:(this._ensureRGB(),ft.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(oe.RGB)&&r!==void 0?r:(this._ensureRGB(),ft.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(oe.RGB)&&r!==void 0?r:(this._ensureRGB(),ft.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(oe.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(oe.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(oe.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(oe.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(oe.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(oe.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Cl=new aE({r:0,g:0,b:0,a:0},"transparent"),fi={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(fi.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,s=i%4===0,a=i>4,o=a?1:17,l=a?8:4,c=s?0:-1,h=a?255:15;return Cl.set({r:(n>>l*(c+3)&h)*o,g:(n>>l*(c+2)&h)*o,b:(n>>l*(c+1)&h)*o,a:s?(n&h)*o/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${Gr[Math.round(t)]}${Gr[Math.round(r)]}${Gr[Math.round(n)]}${Gr[Math.round(i*255)]}`:`#${Gr[Math.round(t)]}${Gr[Math.round(r)]}${Gr[Math.round(n)]}`}},bn={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(bn.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return ft.channel.clamp.h(parseFloat(r)*.9);case"rad":return ft.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return ft.channel.clamp.h(parseFloat(r)*360)}}return ft.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(bn.re);if(!r)return;const[,n,i,s,a,o]=r;return Cl.set({h:bn._hue2deg(n),s:ft.channel.clamp.s(parseFloat(i)),l:ft.channel.clamp.l(parseFloat(s)),a:a?ft.channel.clamp.a(o?parseFloat(a)/100:parseFloat(a)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${ft.lang.round(t)}, ${ft.lang.round(r)}%, ${ft.lang.round(n)}%, ${i})`:`hsl(${ft.lang.round(t)}, ${ft.lang.round(r)}%, ${ft.lang.round(n)}%)`}},Bs={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Bs.colors[e];if(t)return fi.parse(t)},stringify:e=>{const t=fi.stringify(e);for(const r in Bs.colors)if(Bs.colors[r]===t)return r}},ls={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(ls.re);if(!r)return;const[,n,i,s,a,o,l,c,h]=r;return Cl.set({r:ft.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:ft.channel.clamp.g(a?parseFloat(s)*2.55:parseFloat(s)),b:ft.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:c?ft.channel.clamp.a(h?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${ft.lang.round(t)}, ${ft.lang.round(r)}, ${ft.lang.round(n)}, ${ft.lang.round(i)})`:`rgb(${ft.lang.round(t)}, ${ft.lang.round(r)}, ${ft.lang.round(n)})`}},yr={format:{keyword:Bs,hex:fi,rgb:ls,rgba:ls,hsl:bn,hsla:bn},parse:e=>{if(typeof e!="string")return e;const t=fi.parse(e)||ls.parse(e)||bn.parse(e)||Bs.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(oe.HSL)||e.data.r===void 0?bn.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?ls.stringify(e):fi.stringify(e)},Ny=(e,t)=>{const r=yr.parse(e);for(const n in t)r[n]=ft.channel.clamp[n](t[n]);return yr.stringify(r)},Ms=(e,t,r=0,n=1)=>{if(typeof e!="number")return Ny(e,{a:t});const i=Cl.set({r:ft.channel.clamp.r(e),g:ft.channel.clamp.g(t),b:ft.channel.clamp.b(r),a:ft.channel.clamp.a(n)});return yr.stringify(i)},oE=e=>{const{r:t,g:r,b:n}=yr.parse(e),i=.2126*ft.channel.toLinear(t)+.7152*ft.channel.toLinear(r)+.0722*ft.channel.toLinear(n);return ft.lang.round(i)},lE=e=>oE(e)>=.5,oa=e=>!lE(e),zy=(e,t,r)=>{const n=yr.parse(e),i=n[t],s=ft.channel.clamp[t](i+r);return i!==s&&(n[t]=s),yr.stringify(n)},X=(e,t)=>zy(e,"l",t),nt=(e,t)=>zy(e,"l",-t),B=(e,t)=>{const r=yr.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return Ny(e,n)},cE=(e,t,r=50)=>{const{r:n,g:i,b:s,a}=yr.parse(e),{r:o,g:l,b:c,a:h}=yr.parse(t),u=r/100,d=u*2-1,f=a-h,g=((d*f===-1?d:(d+f)/(1+d*f))+1)/2,x=1-g,y=n*g+o*x,b=i*g+l*x,w=s*g+c*x,k=a*u+h*(1-u);return Ms(y,b,w,k)},V=(e,t=100)=>{const r=yr.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,cE(r,e,t)};/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:qy,setPrototypeOf:Ap,isFrozen:hE,getPrototypeOf:uE,getOwnPropertyDescriptor:fE}=Object;let{freeze:ke,seal:Ge,create:Wy}=Object,{apply:gh,construct:mh}=typeof Reflect<"u"&&Reflect;ke||(ke=function(t){return t});Ge||(Ge=function(t){return t});gh||(gh=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return t.apply(r,i)});mh||(mh=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new t(...n)});const Ba=Ce(Array.prototype.forEach),dE=Ce(Array.prototype.lastIndexOf),Ep=Ce(Array.prototype.pop),Xi=Ce(Array.prototype.push),pE=Ce(Array.prototype.splice),Za=Ce(String.prototype.toLowerCase),Cc=Ce(String.prototype.toString),Sc=Ce(String.prototype.match),Ki=Ce(String.prototype.replace),gE=Ce(String.prototype.indexOf),mE=Ce(String.prototype.trim),Ze=Ce(Object.prototype.hasOwnProperty),me=Ce(RegExp.prototype.test),Qi=yE(TypeError);function Ce(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return gh(e,t,n)}}function yE(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return mh(e,r)}}function _t(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Za;Ap&&Ap(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const s=r(i);s!==i&&(hE(t)||(t[n]=s),i=s)}e[i]=!0}return e}function xE(e){for(let t=0;t<e.length;t++)Ze(e,t)||(e[t]=null);return e}function Lr(e){const t=Wy(null);for(const[r,n]of qy(e))Ze(e,r)&&(Array.isArray(n)?t[r]=xE(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Lr(n):t[r]=n);return t}function Ji(e,t){for(;e!==null;){const n=fE(e,t);if(n){if(n.get)return Ce(n.get);if(typeof n.value=="function")return Ce(n.value)}e=uE(e)}function r(){return null}return r}const Lp=ke(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vc=ke(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Tc=ke(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bE=ke(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ac=ke(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),wE=ke(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Bp=ke(["#text"]),Mp=ke(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ec=ke(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ip=ke(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ma=ke(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_E=Ge(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kE=Ge(/<%[\w\W]*|[\w\W]*%>/gm),CE=Ge(/\$\{[\w\W]*/gm),SE=Ge(/^data-[\-\w.\u00B7-\uFFFF]+$/),vE=Ge(/^aria-[\-\w]+$/),Hy=Ge(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),TE=Ge(/^(?:\w+script|data):/i),AE=Ge(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jy=Ge(/^html$/i),EE=Ge(/^[a-z][.\w]*(-[.\w]+)+$/i);var $p=Object.freeze({__proto__:null,ARIA_ATTR:vE,ATTR_WHITESPACE:AE,CUSTOM_ELEMENT:EE,DATA_ATTR:SE,DOCTYPE_NAME:jy,ERB_EXPR:kE,IS_ALLOWED_URI:Hy,IS_SCRIPT_OR_DATA:TE,MUSTACHE_EXPR:_E,TMPLIT_EXPR:CE});const Zi={element:1,text:3,progressingInstruction:7,comment:8,document:9},LE=function(){return typeof window>"u"?null:window},BE=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Fp=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Uy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:LE();const t=rt=>Uy(rt);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==Zi.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:c,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:u,DOMParser:d,trustedTypes:f}=e,p=l.prototype,g=Ji(p,"cloneNode"),x=Ji(p,"remove"),y=Ji(p,"nextSibling"),b=Ji(p,"childNodes"),w=Ji(p,"parentNode");if(typeof a=="function"){const rt=r.createElement("template");rt.content&&rt.content.ownerDocument&&(r=rt.content.ownerDocument)}let k,S="";const{implementation:_,createNodeIterator:A,createDocumentFragment:F,getElementsByTagName:R}=r,{importNode:v}=n;let L=Fp();t.isSupported=typeof qy=="function"&&typeof w=="function"&&_&&_.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:O,ERB_EXPR:I,TMPLIT_EXPR:M,DATA_ATTR:D,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:U,ATTR_WHITESPACE:Y,CUSTOM_ELEMENT:Tt}=$p;let{IS_ALLOWED_URI:T}=$p,pt=null;const gt=_t({},[...Lp,...vc,...Tc,...Ac,...Bp]);let C=null;const $t=_t({},[...Mp,...Ec,...Ip,...Ma]);let mt=Object.seal(Wy(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),At=null,Kt=null,Se=!0,Qe=!0,Re=!1,ln=!0,Wr=!1,jn=!0,kr=!1,Un=!1,Vn=!1,Cr=!1,Yn=!1,cn=!1,Wi=!0,_a=!1;const nc="user-content-";let Hi=!0,hn=!1,Hr={},P=null;const j=_t({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let dt=null;const wt=_t({},["audio","video","img","source","image","track"]);let Et=null;const ve=_t({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),He="http://www.w3.org/1998/Math/MathML",Te="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let je=ge,Zt=!1,or=null;const Je=_t({},[He,Te,ge],Cc);let ka=_t({},["mi","mo","mn","ms","mtext"]),Ca=_t({},["annotation-xml"]);const t2=_t({},["title","style","font","a","script"]);let ji=null;const e2=["application/xhtml+xml","text/html"],r2="text/html";let Qt=null,Gn=null;const n2=r.createElement("form"),kd=function(E){return E instanceof RegExp||E instanceof Function},ic=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Gn&&Gn===E)){if((!E||typeof E!="object")&&(E={}),E=Lr(E),ji=e2.indexOf(E.PARSER_MEDIA_TYPE)===-1?r2:E.PARSER_MEDIA_TYPE,Qt=ji==="application/xhtml+xml"?Cc:Za,pt=Ze(E,"ALLOWED_TAGS")?_t({},E.ALLOWED_TAGS,Qt):gt,C=Ze(E,"ALLOWED_ATTR")?_t({},E.ALLOWED_ATTR,Qt):$t,or=Ze(E,"ALLOWED_NAMESPACES")?_t({},E.ALLOWED_NAMESPACES,Cc):Je,Et=Ze(E,"ADD_URI_SAFE_ATTR")?_t(Lr(ve),E.ADD_URI_SAFE_ATTR,Qt):ve,dt=Ze(E,"ADD_DATA_URI_TAGS")?_t(Lr(wt),E.ADD_DATA_URI_TAGS,Qt):wt,P=Ze(E,"FORBID_CONTENTS")?_t({},E.FORBID_CONTENTS,Qt):j,At=Ze(E,"FORBID_TAGS")?_t({},E.FORBID_TAGS,Qt):Lr({}),Kt=Ze(E,"FORBID_ATTR")?_t({},E.FORBID_ATTR,Qt):Lr({}),Hr=Ze(E,"USE_PROFILES")?E.USE_PROFILES:!1,Se=E.ALLOW_ARIA_ATTR!==!1,Qe=E.ALLOW_DATA_ATTR!==!1,Re=E.ALLOW_UNKNOWN_PROTOCOLS||!1,ln=E.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Wr=E.SAFE_FOR_TEMPLATES||!1,jn=E.SAFE_FOR_XML!==!1,kr=E.WHOLE_DOCUMENT||!1,Cr=E.RETURN_DOM||!1,Yn=E.RETURN_DOM_FRAGMENT||!1,cn=E.RETURN_TRUSTED_TYPE||!1,Vn=E.FORCE_BODY||!1,Wi=E.SANITIZE_DOM!==!1,_a=E.SANITIZE_NAMED_PROPS||!1,Hi=E.KEEP_CONTENT!==!1,hn=E.IN_PLACE||!1,T=E.ALLOWED_URI_REGEXP||Hy,je=E.NAMESPACE||ge,ka=E.MATHML_TEXT_INTEGRATION_POINTS||ka,Ca=E.HTML_INTEGRATION_POINTS||Ca,mt=E.CUSTOM_ELEMENT_HANDLING||{},E.CUSTOM_ELEMENT_HANDLING&&kd(E.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(mt.tagNameCheck=E.CUSTOM_ELEMENT_HANDLING.tagNameCheck),E.CUSTOM_ELEMENT_HANDLING&&kd(E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(mt.attributeNameCheck=E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),E.CUSTOM_ELEMENT_HANDLING&&typeof E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(mt.allowCustomizedBuiltInElements=E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wr&&(Qe=!1),Yn&&(Cr=!0),Hr&&(pt=_t({},Bp),C=[],Hr.html===!0&&(_t(pt,Lp),_t(C,Mp)),Hr.svg===!0&&(_t(pt,vc),_t(C,Ec),_t(C,Ma)),Hr.svgFilters===!0&&(_t(pt,Tc),_t(C,Ec),_t(C,Ma)),Hr.mathMl===!0&&(_t(pt,Ac),_t(C,Ip),_t(C,Ma))),E.ADD_TAGS&&(pt===gt&&(pt=Lr(pt)),_t(pt,E.ADD_TAGS,Qt)),E.ADD_ATTR&&(C===$t&&(C=Lr(C)),_t(C,E.ADD_ATTR,Qt)),E.ADD_URI_SAFE_ATTR&&_t(Et,E.ADD_URI_SAFE_ATTR,Qt),E.FORBID_CONTENTS&&(P===j&&(P=Lr(P)),_t(P,E.FORBID_CONTENTS,Qt)),Hi&&(pt["#text"]=!0),kr&&_t(pt,["html","head","body"]),pt.table&&(_t(pt,["tbody"]),delete At.tbody),E.TRUSTED_TYPES_POLICY){if(typeof E.TRUSTED_TYPES_POLICY.createHTML!="function")throw Qi('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof E.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Qi('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=E.TRUSTED_TYPES_POLICY,S=k.createHTML("")}else k===void 0&&(k=BE(f,i)),k!==null&&typeof S=="string"&&(S=k.createHTML(""));ke&&ke(E),Gn=E}},Cd=_t({},[...vc,...Tc,...bE]),Sd=_t({},[...Ac,...wE]),i2=function(E){let W=w(E);(!W||!W.tagName)&&(W={namespaceURI:je,tagName:"template"});const tt=Za(E.tagName),Pt=Za(W.tagName);return or[E.namespaceURI]?E.namespaceURI===Te?W.namespaceURI===ge?tt==="svg":W.namespaceURI===He?tt==="svg"&&(Pt==="annotation-xml"||ka[Pt]):!!Cd[tt]:E.namespaceURI===He?W.namespaceURI===ge?tt==="math":W.namespaceURI===Te?tt==="math"&&Ca[Pt]:!!Sd[tt]:E.namespaceURI===ge?W.namespaceURI===Te&&!Ca[Pt]||W.namespaceURI===He&&!ka[Pt]?!1:!Sd[tt]&&(t2[tt]||!Cd[tt]):!!(ji==="application/xhtml+xml"&&or[E.namespaceURI]):!1},lr=function(E){Xi(t.removed,{element:E});try{w(E).removeChild(E)}catch{x(E)}},un=function(E,W){try{Xi(t.removed,{attribute:W.getAttributeNode(E),from:W})}catch{Xi(t.removed,{attribute:null,from:W})}if(W.removeAttribute(E),E==="is")if(Cr||Yn)try{lr(W)}catch{}else try{W.setAttribute(E,"")}catch{}},vd=function(E){let W=null,tt=null;if(Vn)E="<remove></remove>"+E;else{const zt=Sc(E,/^[\r\n\t ]+/);tt=zt&&zt[0]}ji==="application/xhtml+xml"&&je===ge&&(E='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+E+"</body></html>");const Pt=k?k.createHTML(E):E;if(je===ge)try{W=new d().parseFromString(Pt,ji)}catch{}if(!W||!W.documentElement){W=_.createDocument(je,"template",null);try{W.documentElement.innerHTML=Zt?S:Pt}catch{}}const ae=W.body||W.documentElement;return E&&tt&&ae.insertBefore(r.createTextNode(tt),ae.childNodes[0]||null),je===ge?R.call(W,kr?"html":"body")[0]:kr?W.documentElement:ae},Td=function(E){return A.call(E.ownerDocument||E,E,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},sc=function(E){return E instanceof u&&(typeof E.nodeName!="string"||typeof E.textContent!="string"||typeof E.removeChild!="function"||!(E.attributes instanceof h)||typeof E.removeAttribute!="function"||typeof E.setAttribute!="function"||typeof E.namespaceURI!="string"||typeof E.insertBefore!="function"||typeof E.hasChildNodes!="function")},Ad=function(E){return typeof o=="function"&&E instanceof o};function Sr(rt,E,W){Ba(rt,tt=>{tt.call(t,E,W,Gn)})}const Ed=function(E){let W=null;if(Sr(L.beforeSanitizeElements,E,null),sc(E))return lr(E),!0;const tt=Qt(E.nodeName);if(Sr(L.uponSanitizeElement,E,{tagName:tt,allowedTags:pt}),jn&&E.hasChildNodes()&&!Ad(E.firstElementChild)&&me(/<[/\w!]/g,E.innerHTML)&&me(/<[/\w!]/g,E.textContent)||E.nodeType===Zi.progressingInstruction||jn&&E.nodeType===Zi.comment&&me(/<[/\w]/g,E.data))return lr(E),!0;if(!pt[tt]||At[tt]){if(!At[tt]&&Bd(tt)&&(mt.tagNameCheck instanceof RegExp&&me(mt.tagNameCheck,tt)||mt.tagNameCheck instanceof Function&&mt.tagNameCheck(tt)))return!1;if(Hi&&!P[tt]){const Pt=w(E)||E.parentNode,ae=b(E)||E.childNodes;if(ae&&Pt){const zt=ae.length;for(let Ae=zt-1;Ae>=0;--Ae){const vr=g(ae[Ae],!0);vr.__removalCount=(E.__removalCount||0)+1,Pt.insertBefore(vr,y(E))}}}return lr(E),!0}return E instanceof l&&!i2(E)||(tt==="noscript"||tt==="noembed"||tt==="noframes")&&me(/<\/no(script|embed|frames)/i,E.innerHTML)?(lr(E),!0):(Wr&&E.nodeType===Zi.text&&(W=E.textContent,Ba([O,I,M],Pt=>{W=Ki(W,Pt," ")}),E.textContent!==W&&(Xi(t.removed,{element:E.cloneNode()}),E.textContent=W)),Sr(L.afterSanitizeElements,E,null),!1)},Ld=function(E,W,tt){if(Wi&&(W==="id"||W==="name")&&(tt in r||tt in n2))return!1;if(!(Qe&&!Kt[W]&&me(D,W))){if(!(Se&&me(z,W))){if(!C[W]||Kt[W]){if(!(Bd(E)&&(mt.tagNameCheck instanceof RegExp&&me(mt.tagNameCheck,E)||mt.tagNameCheck instanceof Function&&mt.tagNameCheck(E))&&(mt.attributeNameCheck instanceof RegExp&&me(mt.attributeNameCheck,W)||mt.attributeNameCheck instanceof Function&&mt.attributeNameCheck(W,E))||W==="is"&&mt.allowCustomizedBuiltInElements&&(mt.tagNameCheck instanceof RegExp&&me(mt.tagNameCheck,tt)||mt.tagNameCheck instanceof Function&&mt.tagNameCheck(tt))))return!1}else if(!Et[W]){if(!me(T,Ki(tt,Y,""))){if(!((W==="src"||W==="xlink:href"||W==="href")&&E!=="script"&&gE(tt,"data:")===0&&dt[E])){if(!(Re&&!me(U,Ki(tt,Y,"")))){if(tt)return!1}}}}}}return!0},Bd=function(E){return E!=="annotation-xml"&&Sc(E,Tt)},Md=function(E){Sr(L.beforeSanitizeAttributes,E,null);const{attributes:W}=E;if(!W||sc(E))return;const tt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:C,forceKeepAttr:void 0};let Pt=W.length;for(;Pt--;){const ae=W[Pt],{name:zt,namespaceURI:Ae,value:vr}=ae,Xn=Qt(zt),ac=vr;let te=zt==="value"?ac:mE(ac);if(tt.attrName=Xn,tt.attrValue=te,tt.keepAttr=!0,tt.forceKeepAttr=void 0,Sr(L.uponSanitizeAttribute,E,tt),te=tt.attrValue,_a&&(Xn==="id"||Xn==="name")&&(un(zt,E),te=nc+te),jn&&me(/((--!?|])>)|<\/(style|title|textarea)/i,te)){un(zt,E);continue}if(Xn==="attributename"&&Sc(te,"href")){un(zt,E);continue}if(tt.forceKeepAttr)continue;if(!tt.keepAttr){un(zt,E);continue}if(!ln&&me(/\/>/i,te)){un(zt,E);continue}Wr&&Ba([O,I,M],$d=>{te=Ki(te,$d," ")});const Id=Qt(E.nodeName);if(!Ld(Id,Xn,te)){un(zt,E);continue}if(k&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Ae)switch(f.getAttributeType(Id,Xn)){case"TrustedHTML":{te=k.createHTML(te);break}case"TrustedScriptURL":{te=k.createScriptURL(te);break}}if(te!==ac)try{Ae?E.setAttributeNS(Ae,zt,te):E.setAttribute(zt,te),sc(E)?lr(E):Ep(t.removed)}catch{un(zt,E)}}Sr(L.afterSanitizeAttributes,E,null)},s2=function rt(E){let W=null;const tt=Td(E);for(Sr(L.beforeSanitizeShadowDOM,E,null);W=tt.nextNode();)Sr(L.uponSanitizeShadowNode,W,null),Ed(W),Md(W),W.content instanceof s&&rt(W.content);Sr(L.afterSanitizeShadowDOM,E,null)};return t.sanitize=function(rt){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=null,tt=null,Pt=null,ae=null;if(Zt=!rt,Zt&&(rt="<!-->"),typeof rt!="string"&&!Ad(rt))if(typeof rt.toString=="function"){if(rt=rt.toString(),typeof rt!="string")throw Qi("dirty is not a string, aborting")}else throw Qi("toString is not a function");if(!t.isSupported)return rt;if(Un||ic(E),t.removed=[],typeof rt=="string"&&(hn=!1),hn){if(rt.nodeName){const vr=Qt(rt.nodeName);if(!pt[vr]||At[vr])throw Qi("root node is forbidden and cannot be sanitized in-place")}}else if(rt instanceof o)W=vd("<!---->"),tt=W.ownerDocument.importNode(rt,!0),tt.nodeType===Zi.element&&tt.nodeName==="BODY"||tt.nodeName==="HTML"?W=tt:W.appendChild(tt);else{if(!Cr&&!Wr&&!kr&&rt.indexOf("<")===-1)return k&&cn?k.createHTML(rt):rt;if(W=vd(rt),!W)return Cr?null:cn?S:""}W&&Vn&&lr(W.firstChild);const zt=Td(hn?rt:W);for(;Pt=zt.nextNode();)Ed(Pt),Md(Pt),Pt.content instanceof s&&s2(Pt.content);if(hn)return rt;if(Cr){if(Yn)for(ae=F.call(W.ownerDocument);W.firstChild;)ae.appendChild(W.firstChild);else ae=W;return(C.shadowroot||C.shadowrootmode)&&(ae=v.call(n,ae,!0)),ae}let Ae=kr?W.outerHTML:W.innerHTML;return kr&&pt["!doctype"]&&W.ownerDocument&&W.ownerDocument.doctype&&W.ownerDocument.doctype.name&&me(jy,W.ownerDocument.doctype.name)&&(Ae="<!DOCTYPE "+W.ownerDocument.doctype.name+`>
`+Ae),Wr&&Ba([O,I,M],vr=>{Ae=Ki(Ae,vr," ")}),k&&cn?k.createHTML(Ae):Ae},t.setConfig=function(){let rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ic(rt),Un=!0},t.clearConfig=function(){Gn=null,Un=!1},t.isValidAttribute=function(rt,E,W){Gn||ic({});const tt=Qt(rt),Pt=Qt(E);return Ld(tt,Pt,W)},t.addHook=function(rt,E){typeof E=="function"&&Xi(L[rt],E)},t.removeHook=function(rt,E){if(E!==void 0){const W=dE(L[rt],E);return W===-1?void 0:pE(L[rt],W,1)[0]}return Ep(L[rt])},t.removeHooks=function(rt){L[rt]=[]},t.removeAllHooks=function(){L=Fp()},t}var Si=Uy(),Vy=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Is=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,ME=/\s*%%.*\n/gm,gi,Yy=(gi=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},m(gi,"UnknownDiagramError"),gi),Ln={},Vu=m(function(e,t){e=e.replace(Vy,"").replace(Is,"").replace(ME,`
`);for(const[r,{detector:n}]of Object.entries(Ln))if(n(e,t))return r;throw new Yy(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),yh=m((...e)=>{for(const{id:t,detector:r,loader:n}of e)Gy(t,r,n)},"registerLazyLoadedDiagrams"),Gy=m((e,t,r)=>{Ln[e]&&N.warn(`Detector with key ${e} already exists. Overwriting.`),Ln[e]={detector:t,loader:r},N.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),IE=m(e=>Ln[e].loader,"getDiagramLoader"),xh=m((e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>xh(e,s,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.includes(s)||e.push(s)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=xh(e[s],t[s],{depth:r-1,clobber:n})):(n||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),Yt=xh,Sl="#ffffff",vl="#f2f2f2",be=m((e,t)=>t?B(e,{s:-40,l:10}):B(e,{s:-40,l:-10}),"mkBorder"),mi,$E=(mi=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||B(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||B(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||be(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||be(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||be(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||be(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||V(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||V(this.tertiaryColor),this.lineColor=this.lineColor||V(this.background),this.arrowheadColor=this.arrowheadColor||V(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?nt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||nt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||V(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||X(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||nt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||nt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||X(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||X(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||B(this.primaryColor,{h:30}),this.cScale4=this.cScale4||B(this.primaryColor,{h:60}),this.cScale5=this.cScale5||B(this.primaryColor,{h:90}),this.cScale6=this.cScale6||B(this.primaryColor,{h:120}),this.cScale7=this.cScale7||B(this.primaryColor,{h:150}),this.cScale8=this.cScale8||B(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||B(this.primaryColor,{h:270}),this.cScale10=this.cScale10||B(this.primaryColor,{h:300}),this.cScale11=this.cScale11||B(this.primaryColor,{h:330}),this.darkMode)for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=nt(this["cScale"+r],75);else for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=nt(this["cScale"+r],25);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleInv"+r]=this["cScaleInv"+r]||V(this["cScale"+r]);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this.darkMode?this["cScalePeer"+r]=this["cScalePeer"+r]||X(this["cScale"+r],10):this["cScalePeer"+r]=this["cScalePeer"+r]||nt(this["cScale"+r],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleLabel"+r]=this["cScaleLabel"+r]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let r=0;r<5;r++)this["surface"+r]=this["surface"+r]||B(this.mainBkg,{h:180,s:-15,l:t*(5+r*3)}),this["surfacePeer"+r]=this["surfacePeer"+r]||B(this.mainBkg,{h:180,s:-15,l:t*(8+r*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||B(this.primaryColor,{h:64}),this.fillType3=this.fillType3||B(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||B(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||B(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||B(this.primaryColor,{h:128}),this.fillType7=this.fillType7||B(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||B(this.primaryColor,{l:-10}),this.pie5=this.pie5||B(this.secondaryColor,{l:-10}),this.pie6=this.pie6||B(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||B(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||B(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||B(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||B(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||B(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||B(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||B(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||B(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||B(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||B(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||B(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||B(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||oa(this.quadrant1Fill)?X(this.quadrant1Fill):nt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?nt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||B(this.primaryColor,{h:-30}),this.git4=this.git4||B(this.primaryColor,{h:-60}),this.git5=this.git5||B(this.primaryColor,{h:-90}),this.git6=this.git6||B(this.primaryColor,{h:60}),this.git7=this.git7||B(this.primaryColor,{h:120}),this.darkMode?(this.git0=X(this.git0,25),this.git1=X(this.git1,25),this.git2=X(this.git2,25),this.git3=X(this.git3,25),this.git4=X(this.git4,25),this.git5=X(this.git5,25),this.git6=X(this.git6,25),this.git7=X(this.git7,25)):(this.git0=nt(this.git0,25),this.git1=nt(this.git1,25),this.git2=nt(this.git2,25),this.git3=nt(this.git3,25),this.git4=nt(this.git4,25),this.git5=nt(this.git5,25),this.git6=nt(this.git6,25),this.git7=nt(this.git7,25)),this.gitInv0=this.gitInv0||V(this.git0),this.gitInv1=this.gitInv1||V(this.git1),this.gitInv2=this.gitInv2||V(this.git2),this.gitInv3=this.gitInv3||V(this.git3),this.gitInv4=this.gitInv4||V(this.git4),this.gitInv5=this.gitInv5||V(this.git5),this.gitInv6=this.gitInv6||V(this.git6),this.gitInv7=this.gitInv7||V(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sl,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||vl}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},m(mi,"Theme"),mi),FE=m(e=>{const t=new $E;return t.calculate(e),t},"getThemeVariables"),yi,RE=(yi=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=X(this.primaryColor,16),this.tertiaryColor=B(this.primaryColor,{h:-160}),this.primaryBorderColor=V(this.background),this.secondaryBorderColor=be(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=be(this.tertiaryColor,this.darkMode),this.primaryTextColor=V(this.primaryColor),this.secondaryTextColor=V(this.secondaryColor),this.tertiaryTextColor=V(this.tertiaryColor),this.lineColor=V(this.background),this.textColor=V(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=X(V("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Ms(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=nt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=nt(this.sectionBkgColor,10),this.taskBorderColor=Ms(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ms(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||X(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||nt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=X(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=X(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=X(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=B(this.primaryColor,{h:64}),this.fillType3=B(this.secondaryColor,{h:64}),this.fillType4=B(this.primaryColor,{h:-64}),this.fillType5=B(this.secondaryColor,{h:-64}),this.fillType6=B(this.primaryColor,{h:128}),this.fillType7=B(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||B(this.primaryColor,{h:30}),this.cScale4=this.cScale4||B(this.primaryColor,{h:60}),this.cScale5=this.cScale5||B(this.primaryColor,{h:90}),this.cScale6=this.cScale6||B(this.primaryColor,{h:120}),this.cScale7=this.cScale7||B(this.primaryColor,{h:150}),this.cScale8=this.cScale8||B(this.primaryColor,{h:210}),this.cScale9=this.cScale9||B(this.primaryColor,{h:270}),this.cScale10=this.cScale10||B(this.primaryColor,{h:300}),this.cScale11=this.cScale11||B(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||V(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||X(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||B(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||B(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||B(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||B(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||B(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||B(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||B(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||B(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||oa(this.quadrant1Fill)?X(this.quadrant1Fill):nt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?nt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=X(this.secondaryColor,20),this.git1=X(this.pie2||this.secondaryColor,20),this.git2=X(this.pie3||this.tertiaryColor,20),this.git3=X(this.pie4||B(this.primaryColor,{h:-30}),20),this.git4=X(this.pie5||B(this.primaryColor,{h:-60}),20),this.git5=X(this.pie6||B(this.primaryColor,{h:-90}),10),this.git6=X(this.pie7||B(this.primaryColor,{h:60}),10),this.git7=X(this.pie8||B(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||V(this.git0),this.gitInv1=this.gitInv1||V(this.git1),this.gitInv2=this.gitInv2||V(this.git2),this.gitInv3=this.gitInv3||V(this.git3),this.gitInv4=this.gitInv4||V(this.git4),this.gitInv5=this.gitInv5||V(this.git5),this.gitInv6=this.gitInv6||V(this.git6),this.gitInv7=this.gitInv7||V(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||V(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||V(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||X(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||X(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},m(yi,"Theme"),yi),OE=m(e=>{const t=new RE;return t.calculate(e),t},"getThemeVariables"),xi,PE=(xi=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=B(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=B(this.primaryColor,{h:-160}),this.primaryBorderColor=be(this.primaryColor,this.darkMode),this.secondaryBorderColor=be(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=be(this.tertiaryColor,this.darkMode),this.primaryTextColor=V(this.primaryColor),this.secondaryTextColor=V(this.secondaryColor),this.tertiaryTextColor=V(this.tertiaryColor),this.lineColor=V(this.background),this.textColor=V(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Ms(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||B(this.primaryColor,{h:30}),this.cScale4=this.cScale4||B(this.primaryColor,{h:60}),this.cScale5=this.cScale5||B(this.primaryColor,{h:90}),this.cScale6=this.cScale6||B(this.primaryColor,{h:120}),this.cScale7=this.cScale7||B(this.primaryColor,{h:150}),this.cScale8=this.cScale8||B(this.primaryColor,{h:210}),this.cScale9=this.cScale9||B(this.primaryColor,{h:270}),this.cScale10=this.cScale10||B(this.primaryColor,{h:300}),this.cScale11=this.cScale11||B(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||nt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||nt(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=nt(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||nt(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||B(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||B(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||B(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||V(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||V(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=X(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||X(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||X(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=B(this.primaryColor,{h:64}),this.fillType3=B(this.secondaryColor,{h:64}),this.fillType4=B(this.primaryColor,{h:-64}),this.fillType5=B(this.secondaryColor,{h:-64}),this.fillType6=B(this.primaryColor,{h:128}),this.fillType7=B(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||B(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||B(this.primaryColor,{l:-10}),this.pie5=this.pie5||B(this.secondaryColor,{l:-30}),this.pie6=this.pie6||B(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||B(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||B(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||B(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||B(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||B(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||B(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||B(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||B(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||B(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||B(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||B(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||B(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||oa(this.quadrant1Fill)?X(this.quadrant1Fill):nt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||B(this.primaryColor,{h:-30}),this.git4=this.git4||B(this.primaryColor,{h:-60}),this.git5=this.git5||B(this.primaryColor,{h:-90}),this.git6=this.git6||B(this.primaryColor,{h:60}),this.git7=this.git7||B(this.primaryColor,{h:120}),this.darkMode?(this.git0=X(this.git0,25),this.git1=X(this.git1,25),this.git2=X(this.git2,25),this.git3=X(this.git3,25),this.git4=X(this.git4,25),this.git5=X(this.git5,25),this.git6=X(this.git6,25),this.git7=X(this.git7,25)):(this.git0=nt(this.git0,25),this.git1=nt(this.git1,25),this.git2=nt(this.git2,25),this.git3=nt(this.git3,25),this.git4=nt(this.git4,25),this.git5=nt(this.git5,25),this.git6=nt(this.git6,25),this.git7=nt(this.git7,25)),this.gitInv0=this.gitInv0||nt(V(this.git0),25),this.gitInv1=this.gitInv1||V(this.git1),this.gitInv2=this.gitInv2||V(this.git2),this.gitInv3=this.gitInv3||V(this.git3),this.gitInv4=this.gitInv4||V(this.git4),this.gitInv5=this.gitInv5||V(this.git5),this.gitInv6=this.gitInv6||V(this.git6),this.gitInv7=this.gitInv7||V(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||V(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||V(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sl,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||vl}calculate(t){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},m(xi,"Theme"),xi),DE=m(e=>{const t=new PE;return t.calculate(e),t},"getThemeVariables"),bi,NE=(bi=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=X("#cde498",10),this.primaryBorderColor=be(this.primaryColor,this.darkMode),this.secondaryBorderColor=be(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=be(this.tertiaryColor,this.darkMode),this.primaryTextColor=V(this.primaryColor),this.secondaryTextColor=V(this.secondaryColor),this.tertiaryTextColor=V(this.primaryColor),this.lineColor=V(this.background),this.textColor=V(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=nt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||B(this.primaryColor,{h:30}),this.cScale4=this.cScale4||B(this.primaryColor,{h:60}),this.cScale5=this.cScale5||B(this.primaryColor,{h:90}),this.cScale6=this.cScale6||B(this.primaryColor,{h:120}),this.cScale7=this.cScale7||B(this.primaryColor,{h:150}),this.cScale8=this.cScale8||B(this.primaryColor,{h:210}),this.cScale9=this.cScale9||B(this.primaryColor,{h:270}),this.cScale10=this.cScale10||B(this.primaryColor,{h:300}),this.cScale11=this.cScale11||B(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||nt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||nt(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=nt(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||nt(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||B(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||B(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||B(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||X(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||X(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=B(this.primaryColor,{h:64}),this.fillType3=B(this.secondaryColor,{h:64}),this.fillType4=B(this.primaryColor,{h:-64}),this.fillType5=B(this.secondaryColor,{h:-64}),this.fillType6=B(this.primaryColor,{h:128}),this.fillType7=B(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||B(this.primaryColor,{l:-30}),this.pie5=this.pie5||B(this.secondaryColor,{l:-30}),this.pie6=this.pie6||B(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||B(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||B(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||B(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||B(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||B(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||B(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||B(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||B(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||B(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||B(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||B(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||B(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||oa(this.quadrant1Fill)?X(this.quadrant1Fill):nt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||B(this.primaryColor,{h:-30}),this.git4=this.git4||B(this.primaryColor,{h:-60}),this.git5=this.git5||B(this.primaryColor,{h:-90}),this.git6=this.git6||B(this.primaryColor,{h:60}),this.git7=this.git7||B(this.primaryColor,{h:120}),this.darkMode?(this.git0=X(this.git0,25),this.git1=X(this.git1,25),this.git2=X(this.git2,25),this.git3=X(this.git3,25),this.git4=X(this.git4,25),this.git5=X(this.git5,25),this.git6=X(this.git6,25),this.git7=X(this.git7,25)):(this.git0=nt(this.git0,25),this.git1=nt(this.git1,25),this.git2=nt(this.git2,25),this.git3=nt(this.git3,25),this.git4=nt(this.git4,25),this.git5=nt(this.git5,25),this.git6=nt(this.git6,25),this.git7=nt(this.git7,25)),this.gitInv0=this.gitInv0||V(this.git0),this.gitInv1=this.gitInv1||V(this.git1),this.gitInv2=this.gitInv2||V(this.git2),this.gitInv3=this.gitInv3||V(this.git3),this.gitInv4=this.gitInv4||V(this.git4),this.gitInv5=this.gitInv5||V(this.git5),this.gitInv6=this.gitInv6||V(this.git6),this.gitInv7=this.gitInv7||V(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||V(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||V(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sl,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||vl}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},m(bi,"Theme"),bi),zE=m(e=>{const t=new NE;return t.calculate(e),t},"getThemeVariables"),wi,qE=(wi=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=X(this.contrast,55),this.background="#ffffff",this.tertiaryColor=B(this.primaryColor,{h:-160}),this.primaryBorderColor=be(this.primaryColor,this.darkMode),this.secondaryBorderColor=be(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=be(this.tertiaryColor,this.darkMode),this.primaryTextColor=V(this.primaryColor),this.secondaryTextColor=V(this.secondaryColor),this.tertiaryTextColor=V(this.tertiaryColor),this.lineColor=V(this.background),this.textColor=V(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||X(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=X(this.contrast,55),this.border2=this.contrast,this.actorBorder=X(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||V(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||X(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||nt(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||B(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||B(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=X(this.contrast,30),this.sectionBkgColor2=X(this.contrast,30),this.taskBorderColor=nt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=X(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=nt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=B(this.primaryColor,{h:64}),this.fillType3=B(this.secondaryColor,{h:64}),this.fillType4=B(this.primaryColor,{h:-64}),this.fillType5=B(this.secondaryColor,{h:-64}),this.fillType6=B(this.primaryColor,{h:128}),this.fillType7=B(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||B(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||B(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||B(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||B(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||B(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||B(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||oa(this.quadrant1Fill)?X(this.quadrant1Fill):nt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=nt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||B(this.primaryColor,{h:-30}),this.git4=this.pie5||B(this.primaryColor,{h:-60}),this.git5=this.pie6||B(this.primaryColor,{h:-90}),this.git6=this.pie7||B(this.primaryColor,{h:60}),this.git7=this.pie8||B(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||V(this.git0),this.gitInv1=this.gitInv1||V(this.git1),this.gitInv2=this.gitInv2||V(this.git2),this.gitInv3=this.gitInv3||V(this.git3),this.gitInv4=this.gitInv4||V(this.git4),this.gitInv5=this.gitInv5||V(this.git5),this.gitInv6=this.gitInv6||V(this.git6),this.gitInv7=this.gitInv7||V(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sl,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||vl}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},m(wi,"Theme"),wi),WE=m(e=>{const t=new qE;return t.calculate(e),t},"getThemeVariables"),Rr={base:{getThemeVariables:FE},dark:{getThemeVariables:OE},default:{getThemeVariables:DE},forest:{getThemeVariables:zE},neutral:{getThemeVariables:WE}},cr={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},Xy={...cr,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Rr.default.getThemeVariables(),sequence:{...cr.sequence,messageFont:m(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:m(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:m(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...cr.gantt,tickInterval:void 0,useWidth:void 0},c4:{...cr.c4,useWidth:void 0,personFont:m(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...cr.flowchart,inheritDir:!1},external_personFont:m(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:m(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:m(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:m(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:m(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:m(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:m(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:m(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:m(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:m(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:m(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:m(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:m(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:m(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:m(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:m(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:m(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:m(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:m(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:m(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:m(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...cr.pie,useWidth:984},xyChart:{...cr.xyChart,useWidth:void 0},requirement:{...cr.requirement,useWidth:void 0},packet:{...cr.packet},radar:{...cr.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},Ky=m((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...Ky(e[n],"")]:[...r,t+n],[]),"keyify"),HE=new Set(Ky(Xy,"")),Qy=Xy,To=m(e=>{if(N.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>To(t));return}for(const t of Object.keys(e)){if(N.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!HE.has(t)||e[t]==null){N.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){N.debug("sanitizing object",t),To(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(N.debug("sanitizing css option",t),e[t]=jE(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}N.debug("After sanitization",e)}},"sanitizeDirective"),jE=m(e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),vi=Object.freeze(Qy),Me=Yt({},vi),Ao,Bn=[],$s=Yt({},vi),Tl=m((e,t)=>{let r=Yt({},e),n={};for(const i of t)t0(i),n=Yt(n,i);if(r=Yt(r,n),n.theme&&n.theme in Rr){const i=Yt({},Ao),s=Yt(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Rr&&(r.themeVariables=Rr[r.theme].getThemeVariables(s))}return $s=r,e0($s),$s},"updateCurrentConfig"),UE=m(e=>(Me=Yt({},vi),Me=Yt(Me,e),e.theme&&Rr[e.theme]&&(Me.themeVariables=Rr[e.theme].getThemeVariables(e.themeVariables)),Tl(Me,Bn),Me),"setSiteConfig"),VE=m(e=>{Ao=Yt({},e)},"saveConfigFromInitialize"),YE=m(e=>(Me=Yt(Me,e),Tl(Me,Bn),Me),"updateSiteConfig"),Jy=m(()=>Yt({},Me),"getSiteConfig"),Zy=m(e=>(e0(e),Yt($s,e),he()),"setConfig"),he=m(()=>Yt({},$s),"getConfig"),t0=m(e=>{e&&(["secure",...Me.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(N.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&t0(e[t])}))},"sanitize"),GE=m(e=>{To(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Bn.push(e),Tl(Me,Bn)},"addDirective"),Eo=m((e=Me)=>{Bn=[],Tl(e,Bn)},"reset"),XE={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Rp={},KE=m(e=>{Rp[e]||(N.warn(XE[e]),Rp[e]=!0)},"issueWarning"),e0=m(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&KE("LAZY_LOAD_DEPRECATED")},"checkConfig"),D9=m(()=>{let e={};Ao&&(e=Yt(e,Ao));for(const t of Bn)e=Yt(e,t);return e},"getUserDefinedConfig"),la=/<br\s*\/?>/gi,QE=m(e=>e?i0(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),JE=(()=>{let e=!1;return()=>{e||(r0(),e=!0)}})();function r0(){const e="data-temp-href-target";Si.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Si.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}m(r0,"setupDompurifyHooks");var n0=m(e=>(JE(),Si.sanitize(e)),"removeScript"),Op=m((e,t)=>{if(t.flowchart?.htmlLabels!==!1){const r=t.securityLevel;r==="antiscript"||r==="strict"?e=n0(e):r!=="loose"&&(e=i0(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=rL(e))}return e},"sanitizeMore"),Xe=m((e,t)=>e&&(t.dompurifyConfig?e=Si.sanitize(Op(e,t),t.dompurifyConfig).toString():e=Si.sanitize(Op(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),ZE=m((e,t)=>typeof e=="string"?Xe(e,t):e.flat().map(r=>Xe(r,t)),"sanitizeTextOrArray"),tL=m(e=>la.test(e),"hasBreaks"),eL=m(e=>e.split(la),"splitBreaks"),rL=m(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),i0=m(e=>e.replace(la,"#br#"),"breakToPlaceholder"),nL=m(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),Xt=m(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),iL=m(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),sL=m(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),Pp=m(function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){const s=t[n-1],a=t[n+1];aL(s,a)&&(i=s+","+a,n++,r.pop())}r.push(oL(i))}return r.join("")},"parseGenericTypes"),bh=m((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),aL=m((e,t)=>{const r=bh(e,"~"),n=bh(t,"~");return r===1&&n===1},"shouldCombineSets"),oL=m(e=>{const t=bh(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),s=n.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)n[i]="<",n[s]=">",i=n.indexOf("~"),s=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),Dp=m(()=>window.MathMLElement!==void 0,"isMathMLSupported"),wh=/\$\$(.*)\$\$/g,Ti=m(e=>(e.match(wh)?.length??0)>0,"hasKatex"),N9=m(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await Yu(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),lL=m(async(e,t)=>{if(!Ti(e))return e;if(!(Dp()||t.legacyMathML||t.forceLegacyMathML))return e.replace(wh,"MathML is unsupported in this environment.");{const{default:r}=await Mt(async()=>{const{default:i}=await import("./katex-DsmCZfJr.js");return{default:i}},[]),n=t.forceLegacyMathML||!Dp()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(la).map(i=>Ti(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(wh,(i,s)=>r.renderToString(s,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Yu=m(async(e,t)=>Xe(await lL(e,t),t),"renderKatexSanitized"),Ri={getRows:QE,sanitizeText:Xe,sanitizeTextOrArray:ZE,hasBreaks:tL,splitBreaks:eL,lineBreakRegex:la,removeScript:n0,getUrl:nL,evaluate:Xt,getMax:iL,getMin:sL},cL=m(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),hL=m(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),s0=m(function(e,t,r,n){const i=hL(t,r,n);cL(e,i)},"configureSvgSize"),uL=m(function(e,t,r,n){const i=t.node().getBBox(),s=i.width,a=i.height;N.info(`SVG bounds: ${s}x${a}`,i);let o=0,l=0;N.info(`Graph bounds: ${o}x${l}`,e),o=s+r*2,l=a+r*2,N.info(`Calculated bounds: ${o}x${l}`),s0(t,l,o,n);const c=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",c)},"setupGraphViewbox"),to={},fL=m((e,t,r)=>{let n="";return e in to&&to[e]?n=to[e](r):N.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),dL=m((e,t)=>{t!==void 0&&(to[e]=t)},"addStylesForDiagram"),pL=fL,a0={};rE(a0,{clear:()=>gL,getAccDescription:()=>bL,getAccTitle:()=>yL,getDiagramTitle:()=>_L,setAccDescription:()=>xL,setAccTitle:()=>mL,setDiagramTitle:()=>wL});var Gu="",Xu="",Ku="",Qu=m(e=>Xe(e,he()),"sanitizeText"),gL=m(()=>{Gu="",Ku="",Xu=""},"clear"),mL=m(e=>{Gu=Qu(e).replace(/^\s+/g,"")},"setAccTitle"),yL=m(()=>Gu,"getAccTitle"),xL=m(e=>{Ku=Qu(e).replace(/\n\s+/g,`
`)},"setAccDescription"),bL=m(()=>Ku,"getAccDescription"),wL=m(e=>{Xu=Qu(e)},"setDiagramTitle"),_L=m(()=>Xu,"getDiagramTitle"),Np=N,kL=Uu,Lt=he,z9=Zy,q9=vi,Ju=m(e=>Xe(e,Lt()),"sanitizeText"),CL=uL,SL=m(()=>a0,"getCommonDb"),Lo={},Bo=m((e,t,r)=>{Lo[e]&&Np.warn(`Diagram with id ${e} already registered. Overwriting.`),Lo[e]=t,r&&Gy(e,r),dL(e,t.styles),t.injectUtils?.(Np,kL,Lt,Ju,CL,SL(),()=>{})},"registerDiagram"),_h=m(e=>{if(e in Lo)return Lo[e];throw new vL(e)},"getDiagram"),_i,vL=(_i=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},m(_i,"DiagramNotFoundError"),_i),TL={value:()=>{}};function o0(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new eo(r)}function eo(e){this._=e}function AL(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}eo.prototype=o0.prototype={constructor:eo,on:function(e,t){var r=this._,n=AL(e+"",r),i,s=-1,a=n.length;if(arguments.length<2){for(;++s<a;)if((i=(e=n[s]).type)&&(i=EL(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=n[s]).type)r[i]=zp(r[i],e.name,t);else if(t==null)for(i in r)r[i]=zp(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new eo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function EL(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function zp(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=TL,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var kh="http://www.w3.org/1999/xhtml";const qp={svg:"http://www.w3.org/2000/svg",xhtml:kh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Al(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),qp.hasOwnProperty(t)?{space:qp[t],local:e}:e}function LL(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===kh&&t.documentElement.namespaceURI===kh?t.createElement(e):t.createElementNS(r,e)}}function BL(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function l0(e){var t=Al(e);return(t.local?BL:LL)(t)}function ML(){}function Zu(e){return e==null?ML:function(){return this.querySelector(e)}}function IL(e){typeof e!="function"&&(e=Zu(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=new Array(a),l,c,h=0;h<a;++h)(l=s[h])&&(c=e.call(l,l.__data__,h,s))&&("__data__"in l&&(c.__data__=l.__data__),o[h]=c);return new We(n,this._parents)}function $L(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function FL(){return[]}function c0(e){return e==null?FL:function(){return this.querySelectorAll(e)}}function RL(e){return function(){return $L(e.apply(this,arguments))}}function OL(e){typeof e=="function"?e=RL(e):e=c0(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var a=t[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&(n.push(e.call(l,l.__data__,c,a)),i.push(l));return new We(n,i)}function h0(e){return function(){return this.matches(e)}}function u0(e){return function(t){return t.matches(e)}}var PL=Array.prototype.find;function DL(e){return function(){return PL.call(this.children,e)}}function NL(){return this.firstElementChild}function zL(e){return this.select(e==null?NL:DL(typeof e=="function"?e:u0(e)))}var qL=Array.prototype.filter;function WL(){return Array.from(this.children)}function HL(e){return function(){return qL.call(this.children,e)}}function jL(e){return this.selectAll(e==null?WL:HL(typeof e=="function"?e:u0(e)))}function UL(e){typeof e!="function"&&(e=h0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=[],l,c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new We(n,this._parents)}function f0(e){return new Array(e.length)}function VL(){return new We(this._enter||this._groups.map(f0),this._parents)}function Mo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Mo.prototype={constructor:Mo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function YL(e){return function(){return e}}function GL(e,t,r,n,i,s){for(var a=0,o,l=t.length,c=s.length;a<c;++a)(o=t[a])?(o.__data__=s[a],n[a]=o):r[a]=new Mo(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function XL(e,t,r,n,i,s,a){var o,l,c=new Map,h=t.length,u=s.length,d=new Array(h),f;for(o=0;o<h;++o)(l=t[o])&&(d[o]=f=a.call(l,l.__data__,o,t)+"",c.has(f)?i[o]=l:c.set(f,l));for(o=0;o<u;++o)f=a.call(e,s[o],o,s)+"",(l=c.get(f))?(n[o]=l,l.__data__=s[o],c.delete(f)):r[o]=new Mo(e,s[o]);for(o=0;o<h;++o)(l=t[o])&&c.get(d[o])===l&&(i[o]=l)}function KL(e){return e.__data__}function QL(e,t){if(!arguments.length)return Array.from(this,KL);var r=t?XL:GL,n=this._parents,i=this._groups;typeof e!="function"&&(e=YL(e));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var h=n[c],u=i[c],d=u.length,f=JL(e.call(h,h&&h.__data__,c,n)),p=f.length,g=o[c]=new Array(p),x=a[c]=new Array(p),y=l[c]=new Array(d);r(h,u,g,x,y,f,t);for(var b=0,w=0,k,S;b<p;++b)if(k=g[b]){for(b>=w&&(w=b+1);!(S=x[w])&&++w<p;);k._next=S||null}}return a=new We(a,n),a._enter=o,a._exit=l,a}function JL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZL(){return new We(this._exit||this._groups.map(f0),this._parents)}function tB(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function eB(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=r[l],h=n[l],u=c.length,d=o[l]=new Array(u),f,p=0;p<u;++p)(f=c[p]||h[p])&&(d[p]=f);for(;l<i;++l)o[l]=r[l];return new We(o,this._parents)}function rB(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],a;--i>=0;)(a=n[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function nB(e){e||(e=iB);function t(u,d){return u&&d?e(u.__data__,d.__data__):!u-!d}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var a=r[s],o=a.length,l=i[s]=new Array(o),c,h=0;h<o;++h)(c=a[h])&&(l[h]=c);l.sort(t)}return new We(i,this._parents).order()}function iB(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sB(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function aB(){return Array.from(this)}function oB(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var a=n[i];if(a)return a}return null}function lB(){let e=0;for(const t of this)++e;return e}function cB(){return!this.node()}function hB(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function uB(e){return function(){this.removeAttribute(e)}}function fB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dB(e,t){return function(){this.setAttribute(e,t)}}function pB(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function gB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function mB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function yB(e,t){var r=Al(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?fB:uB:typeof t=="function"?r.local?mB:gB:r.local?pB:dB)(r,t))}function d0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function xB(e){return function(){this.style.removeProperty(e)}}function bB(e,t,r){return function(){this.style.setProperty(e,t,r)}}function wB(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function _B(e,t,r){return arguments.length>1?this.each((t==null?xB:typeof t=="function"?wB:bB)(e,t,r??"")):Ai(this.node(),e)}function Ai(e,t){return e.style.getPropertyValue(t)||d0(e).getComputedStyle(e,null).getPropertyValue(t)}function kB(e){return function(){delete this[e]}}function CB(e,t){return function(){this[e]=t}}function SB(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function vB(e,t){return arguments.length>1?this.each((t==null?kB:typeof t=="function"?SB:CB)(e,t)):this.node()[e]}function p0(e){return e.trim().split(/^|\s+/)}function tf(e){return e.classList||new g0(e)}function g0(e){this._node=e,this._names=p0(e.getAttribute("class")||"")}g0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function m0(e,t){for(var r=tf(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function y0(e,t){for(var r=tf(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function TB(e){return function(){m0(this,e)}}function AB(e){return function(){y0(this,e)}}function EB(e,t){return function(){(t.apply(this,arguments)?m0:y0)(this,e)}}function LB(e,t){var r=p0(e+"");if(arguments.length<2){for(var n=tf(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?EB:t?TB:AB)(r,t))}function BB(){this.textContent=""}function MB(e){return function(){this.textContent=e}}function IB(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $B(e){return arguments.length?this.each(e==null?BB:(typeof e=="function"?IB:MB)(e)):this.node().textContent}function FB(){this.innerHTML=""}function RB(e){return function(){this.innerHTML=e}}function OB(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function PB(e){return arguments.length?this.each(e==null?FB:(typeof e=="function"?OB:RB)(e)):this.node().innerHTML}function DB(){this.nextSibling&&this.parentNode.appendChild(this)}function NB(){return this.each(DB)}function zB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qB(){return this.each(zB)}function WB(e){var t=typeof e=="function"?e:l0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function HB(){return null}function jB(e,t){var r=typeof e=="function"?e:l0(e),n=t==null?HB:typeof t=="function"?t:Zu(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function UB(){var e=this.parentNode;e&&e.removeChild(this)}function VB(){return this.each(UB)}function YB(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function GB(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function XB(e){return this.select(e?GB:YB)}function KB(e){return arguments.length?this.property("__data__",e):this.node().__data__}function QB(e){return function(t){e.call(this,t,this.__data__)}}function JB(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function ZB(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function tM(e,t,r){return function(){var n=this.__on,i,s=QB(t);if(n){for(var a=0,o=n.length;a<o;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function eM(e,t,r){var n=JB(e+""),i,s=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,h;l<c;++l)for(i=0,h=o[l];i<s;++i)if((a=n[i]).type===h.type&&a.name===h.name)return h.value}return}for(o=t?tM:ZB,i=0;i<s;++i)this.each(o(n[i],t,r));return this}function x0(e,t,r){var n=d0(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function rM(e,t){return function(){return x0(this,e,t)}}function nM(e,t){return function(){return x0(this,e,t.apply(this,arguments))}}function iM(e,t){return this.each((typeof t=="function"?nM:rM)(e,t))}function*sM(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,a;i<s;++i)(a=n[i])&&(yield a)}var b0=[null];function We(e,t){this._groups=e,this._parents=t}function ca(){return new We([[document.documentElement]],b0)}function aM(){return this}We.prototype=ca.prototype={constructor:We,select:IL,selectAll:OL,selectChild:zL,selectChildren:jL,filter:UL,data:QL,enter:VL,exit:ZL,join:tB,merge:eB,selection:aM,order:rB,sort:nB,call:sB,nodes:aB,node:oB,size:lB,empty:cB,each:hB,attr:yB,style:_B,property:vB,classed:LB,text:$B,html:PB,raise:NB,lower:qB,append:WB,insert:jB,remove:VB,clone:XB,datum:KB,on:eM,dispatch:iM,[Symbol.iterator]:sM};function St(e){return typeof e=="string"?new We([[document.querySelector(e)]],[document.documentElement]):new We([[e]],b0)}function ef(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function w0(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ha(){}var qs=.7,Io=1/qs,di="\\s*([+-]?\\d+)\\s*",Ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oM=/^#([0-9a-f]{3,8})$/,lM=new RegExp(`^rgb\\(${di},${di},${di}\\)$`),cM=new RegExp(`^rgb\\(${mr},${mr},${mr}\\)$`),hM=new RegExp(`^rgba\\(${di},${di},${di},${Ws}\\)$`),uM=new RegExp(`^rgba\\(${mr},${mr},${mr},${Ws}\\)$`),fM=new RegExp(`^hsl\\(${Ws},${mr},${mr}\\)$`),dM=new RegExp(`^hsla\\(${Ws},${mr},${mr},${Ws}\\)$`),Wp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ef(ha,Hs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hp,formatHex:Hp,formatHex8:pM,formatHsl:gM,formatRgb:jp,toString:jp});function Hp(){return this.rgb().formatHex()}function pM(){return this.rgb().formatHex8()}function gM(){return _0(this).formatHsl()}function jp(){return this.rgb().formatRgb()}function Hs(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=oM.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Up(t):r===3?new $e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ia(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ia(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lM.exec(e))?new $e(t[1],t[2],t[3],1):(t=cM.exec(e))?new $e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hM.exec(e))?Ia(t[1],t[2],t[3],t[4]):(t=uM.exec(e))?Ia(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fM.exec(e))?Gp(t[1],t[2]/100,t[3]/100,1):(t=dM.exec(e))?Gp(t[1],t[2]/100,t[3]/100,t[4]):Wp.hasOwnProperty(e)?Up(Wp[e]):e==="transparent"?new $e(NaN,NaN,NaN,0):null}function Up(e){return new $e(e>>16&255,e>>8&255,e&255,1)}function Ia(e,t,r,n){return n<=0&&(e=t=r=NaN),new $e(e,t,r,n)}function mM(e){return e instanceof ha||(e=Hs(e)),e?(e=e.rgb(),new $e(e.r,e.g,e.b,e.opacity)):new $e}function Ch(e,t,r,n){return arguments.length===1?mM(e):new $e(e,t,r,n??1)}function $e(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ef($e,Ch,w0(ha,{brighter(e){return e=e==null?Io:Math.pow(Io,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qs:Math.pow(qs,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $e(Tn(this.r),Tn(this.g),Tn(this.b),$o(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vp,formatHex:Vp,formatHex8:yM,formatRgb:Yp,toString:Yp}));function Vp(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}`}function yM(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}${wn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yp(){const e=$o(this.opacity);return`${e===1?"rgb(":"rgba("}${Tn(this.r)}, ${Tn(this.g)}, ${Tn(this.b)}${e===1?")":`, ${e})`}`}function $o(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wn(e){return e=Tn(e),(e<16?"0":"")+e.toString(16)}function Gp(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new er(e,t,r,n)}function _0(e){if(e instanceof er)return new er(e.h,e.s,e.l,e.opacity);if(e instanceof ha||(e=Hs(e)),!e)return new er;if(e instanceof er)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-t)/o+2:a=(t-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new er(a,o,l,e.opacity)}function xM(e,t,r,n){return arguments.length===1?_0(e):new er(e,t,r,n??1)}function er(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ef(er,xM,w0(ha,{brighter(e){return e=e==null?Io:Math.pow(Io,e),new er(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qs:Math.pow(qs,e),new er(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new $e(Lc(e>=240?e-240:e+120,i,n),Lc(e,i,n),Lc(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new er(Xp(this.h),$a(this.s),$a(this.l),$o(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$o(this.opacity);return`${e===1?"hsl(":"hsla("}${Xp(this.h)}, ${$a(this.s)*100}%, ${$a(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xp(e){return e=(e||0)%360,e<0?e+360:e}function $a(e){return Math.max(0,Math.min(1,e||0))}function Lc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rf=e=>()=>e;function k0(e,t){return function(r){return e+r*t}}function bM(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function W9(e,t){var r=t-e;return r?k0(e,r>180||r<-180?r-360*Math.round(r/360):r):rf(isNaN(e)?t:e)}function wM(e){return(e=+e)==1?C0:function(t,r){return r-t?bM(t,r,e):rf(isNaN(t)?r:t)}}function C0(e,t){var r=t-e;return r?k0(e,r):rf(isNaN(e)?t:e)}const Kp=(function e(t){var r=wM(t);function n(i,s){var a=r((i=Ch(i)).r,(s=Ch(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),c=C0(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=o(h),i.b=l(h),i.opacity=c(h),i+""}}return n.gamma=e,n})(1);function Xr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Sh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bc=new RegExp(Sh.source,"g");function _M(e){return function(){return e}}function kM(e){return function(t){return e(t)+""}}function CM(e,t){var r=Sh.lastIndex=Bc.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Sh.exec(e))&&(i=Bc.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Xr(n,i)})),r=Bc.lastIndex;return r<t.length&&(s=t.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?kM(l[0].x):_M(t):(t=l.length,function(c){for(var h=0,u;h<t;++h)o[(u=l[h]).i]=u.x(c);return o.join("")})}var Qp=180/Math.PI,vh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function S0(e,t,r,n,i,s){var a,o,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Qp,skewX:Math.atan(l)*Qp,scaleX:a,scaleY:o}}var Fa;function SM(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vh:S0(t.a,t.b,t.c,t.d,t.e,t.f)}function vM(e){return e==null||(Fa||(Fa=document.createElementNS("http://www.w3.org/2000/svg","g")),Fa.setAttribute("transform",e),!(e=Fa.transform.baseVal.consolidate()))?vh:(e=e.matrix,S0(e.a,e.b,e.c,e.d,e.e,e.f))}function v0(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function s(c,h,u,d,f,p){if(c!==u||h!==d){var g=f.push("translate(",null,t,null,r);p.push({i:g-4,x:Xr(c,u)},{i:g-2,x:Xr(h,d)})}else(u||d)&&f.push("translate("+u+t+d+r)}function a(c,h,u,d){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),d.push({i:u.push(i(u)+"rotate(",null,n)-2,x:Xr(c,h)})):h&&u.push(i(u)+"rotate("+h+n)}function o(c,h,u,d){c!==h?d.push({i:u.push(i(u)+"skewX(",null,n)-2,x:Xr(c,h)}):h&&u.push(i(u)+"skewX("+h+n)}function l(c,h,u,d,f,p){if(c!==u||h!==d){var g=f.push(i(f)+"scale(",null,",",null,")");p.push({i:g-4,x:Xr(c,u)},{i:g-2,x:Xr(h,d)})}else(u!==1||d!==1)&&f.push(i(f)+"scale("+u+","+d+")")}return function(c,h){var u=[],d=[];return c=e(c),h=e(h),s(c.translateX,c.translateY,h.translateX,h.translateY,u,d),a(c.rotate,h.rotate,u,d),o(c.skewX,h.skewX,u,d),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,u,d),c=h=null,function(f){for(var p=-1,g=d.length,x;++p<g;)u[(x=d[p]).i]=x.x(f);return u.join("")}}}var TM=v0(SM,"px, ","px)","deg)"),AM=v0(vM,", ",")",")"),Ei=0,cs=0,ts=0,T0=1e3,Fo,hs,Ro=0,Mn=0,El=0,js=typeof performance=="object"&&performance.now?performance:Date,A0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nf(){return Mn||(A0(EM),Mn=js.now()+El)}function EM(){Mn=0}function Oo(){this._call=this._time=this._next=null}Oo.prototype=E0.prototype={constructor:Oo,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?nf():+r)+(t==null?0:+t),!this._next&&hs!==this&&(hs?hs._next=this:Fo=this,hs=this),this._call=e,this._time=r,Th()},stop:function(){this._call&&(this._call=null,this._time=1/0,Th())}};function E0(e,t,r){var n=new Oo;return n.restart(e,t,r),n}function LM(){nf(),++Ei;for(var e=Fo,t;e;)(t=Mn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ei}function Jp(){Mn=(Ro=js.now())+El,Ei=cs=0;try{LM()}finally{Ei=0,MM(),Mn=0}}function BM(){var e=js.now(),t=e-Ro;t>T0&&(El-=t,Ro=e)}function MM(){for(var e,t=Fo,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Fo=r);hs=e,Th(n)}function Th(e){if(!Ei){cs&&(cs=clearTimeout(cs));var t=e-Mn;t>24?(e<1/0&&(cs=setTimeout(Jp,e-js.now()-El)),ts&&(ts=clearInterval(ts))):(ts||(Ro=js.now(),ts=setInterval(BM,T0)),Ei=1,A0(Jp))}}function Zp(e,t,r){var n=new Oo;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var IM=o0("start","end","cancel","interrupt"),$M=[],L0=0,tg=1,Ah=2,ro=3,eg=4,Eh=5,no=6;function Ll(e,t,r,n,i,s){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;FM(e,r,{name:t,index:n,group:i,on:IM,tween:$M,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:L0})}function sf(e,t){var r=ar(e,t);if(r.state>L0)throw new Error("too late; already scheduled");return r}function br(e,t){var r=ar(e,t);if(r.state>ro)throw new Error("too late; already running");return r}function ar(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function FM(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=E0(s,0,r.time);function s(c){r.state=tg,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var h,u,d,f;if(r.state!==tg)return l();for(h in n)if(f=n[h],f.name===r.name){if(f.state===ro)return Zp(a);f.state===eg?(f.state=no,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete n[h]):+h<t&&(f.state=no,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete n[h])}if(Zp(function(){r.state===ro&&(r.state=eg,r.timer.restart(o,r.delay,r.time),o(c))}),r.state=Ah,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Ah){for(r.state=ro,i=new Array(d=r.tween.length),h=0,u=-1;h<d;++h)(f=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(i[++u]=f);i.length=u+1}}function o(c){for(var h=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=Eh,1),u=-1,d=i.length;++u<d;)i[u].call(e,h);r.state===Eh&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=no,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function RM(e,t){var r=e.__transition,n,i,s=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){s=!1;continue}i=n.state>Ah&&n.state<Eh,n.state=no,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}s&&delete e.__transition}}function OM(e){return this.each(function(){RM(this,e)})}function PM(e,t){var r,n;return function(){var i=br(this,e),s=i.tween;if(s!==r){n=r=s;for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function DM(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=br(this,e),a=s.tween;if(a!==n){i=(n=a).slice();for(var o={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=o;break}l===c&&i.push(o)}s.tween=i}}function NM(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ar(this.node(),r).tween,i=0,s=n.length,a;i<s;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?PM:DM)(r,e,t))}function af(e,t,r){var n=e._id;return e.each(function(){var i=br(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return ar(i,n).value[t]}}function B0(e,t){var r;return(typeof t=="number"?Xr:t instanceof Hs?Kp:(r=Hs(t))?(t=r,Kp):CM)(e,t)}function zM(e){return function(){this.removeAttribute(e)}}function qM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WM(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===n?s:s=t(n=a,r)}}function HM(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?s:s=t(n=a,r)}}function jM(e,t,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o)))}}function UM(e,t,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o)))}}function VM(e,t){var r=Al(e),n=r==="transform"?AM:B0;return this.attrTween(e,typeof t=="function"?(r.local?UM:jM)(r,n,af(this,"attr."+e,t)):t==null?(r.local?qM:zM)(r):(r.local?HM:WM)(r,n,t))}function YM(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function GM(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function XM(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&GM(e,s)),r}return i._value=t,i}function KM(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&YM(e,s)),r}return i._value=t,i}function QM(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Al(e);return this.tween(r,(n.local?XM:KM)(n,t))}function JM(e,t){return function(){sf(this,e).delay=+t.apply(this,arguments)}}function ZM(e,t){return t=+t,function(){sf(this,e).delay=t}}function tI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JM:ZM)(t,e)):ar(this.node(),t).delay}function eI(e,t){return function(){br(this,e).duration=+t.apply(this,arguments)}}function rI(e,t){return t=+t,function(){br(this,e).duration=t}}function nI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?eI:rI)(t,e)):ar(this.node(),t).duration}function iI(e,t){if(typeof t!="function")throw new Error;return function(){br(this,e).ease=t}}function sI(e){var t=this._id;return arguments.length?this.each(iI(t,e)):ar(this.node(),t).ease}function aI(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;br(this,e).ease=r}}function oI(e){if(typeof e!="function")throw new Error;return this.each(aI(this._id,e))}function lI(e){typeof e!="function"&&(e=h0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=[],l,c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new Pr(n,this._parents,this._name,this._id)}function cI(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),a=new Array(n),o=0;o<s;++o)for(var l=t[o],c=r[o],h=l.length,u=a[o]=new Array(h),d,f=0;f<h;++f)(d=l[f]||c[f])&&(u[f]=d);for(;o<n;++o)a[o]=t[o];return new Pr(a,this._parents,this._name,this._id)}function hI(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function uI(e,t,r){var n,i,s=hI(t)?sf:br;return function(){var a=s(this,e),o=a.on;o!==n&&(i=(n=o).copy()).on(t,r),a.on=i}}function fI(e,t){var r=this._id;return arguments.length<2?ar(this.node(),r).on.on(e):this.each(uI(r,e,t))}function dI(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function pI(){return this.on("end.remove",dI(this._id))}function gI(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Zu(e));for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a)for(var o=n[a],l=o.length,c=s[a]=new Array(l),h,u,d=0;d<l;++d)(h=o[d])&&(u=e.call(h,h.__data__,d,o))&&("__data__"in h&&(u.__data__=h.__data__),c[d]=u,Ll(c[d],t,r,d,c,ar(h,r)));return new Pr(s,this._parents,t,r)}function mI(e){var t=this._name,r=this._id;typeof e!="function"&&(e=c0(e));for(var n=this._groups,i=n.length,s=[],a=[],o=0;o<i;++o)for(var l=n[o],c=l.length,h,u=0;u<c;++u)if(h=l[u]){for(var d=e.call(h,h.__data__,u,l),f,p=ar(h,r),g=0,x=d.length;g<x;++g)(f=d[g])&&Ll(f,t,r,g,d,p);s.push(d),a.push(h)}return new Pr(s,a,t,r)}var yI=ca.prototype.constructor;function xI(){return new yI(this._groups,this._parents)}function bI(e,t){var r,n,i;return function(){var s=Ai(this,e),a=(this.style.removeProperty(e),Ai(this,e));return s===a?null:s===r&&a===n?i:i=t(r=s,n=a)}}function M0(e){return function(){this.style.removeProperty(e)}}function wI(e,t,r){var n,i=r+"",s;return function(){var a=Ai(this,e);return a===i?null:a===n?s:s=t(n=a,r)}}function _I(e,t,r){var n,i,s;return function(){var a=Ai(this,e),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),Ai(this,e))),a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o))}}function kI(e,t){var r,n,i,s="style."+t,a="end."+s,o;return function(){var l=br(this,e),c=l.on,h=l.value[s]==null?o||(o=M0(t)):void 0;(c!==r||i!==h)&&(n=(r=c).copy()).on(a,i=h),l.on=n}}function CI(e,t,r){var n=(e+="")=="transform"?TM:B0;return t==null?this.styleTween(e,bI(e,n)).on("end.style."+e,M0(e)):typeof t=="function"?this.styleTween(e,_I(e,n,af(this,"style."+e,t))).each(kI(this._id,e)):this.styleTween(e,wI(e,n,t),r).on("end.style."+e,null)}function SI(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function vI(e,t,r){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&SI(e,a,r)),n}return s._value=t,s}function TI(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,vI(e,t,r??""))}function AI(e){return function(){this.textContent=e}}function EI(e){return function(){var t=e(this);this.textContent=t??""}}function LI(e){return this.tween("text",typeof e=="function"?EI(af(this,"text",e)):AI(e==null?"":e+""))}function BI(e){return function(t){this.textContent=e.call(this,t)}}function MI(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&BI(i)),t}return n._value=e,n}function II(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,MI(e))}function $I(){for(var e=this._name,t=this._id,r=I0(),n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,c=0;c<o;++c)if(l=a[c]){var h=ar(l,t);Ll(l,e,r,c,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Pr(n,this._parents,e,r)}function FI(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};r.each(function(){var c=br(this,n),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),c.on=t}),i===0&&s()})}var RI=0;function Pr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function I0(){return++RI}var Ar=ca.prototype;Pr.prototype={constructor:Pr,select:gI,selectAll:mI,selectChild:Ar.selectChild,selectChildren:Ar.selectChildren,filter:lI,merge:cI,selection:xI,transition:$I,call:Ar.call,nodes:Ar.nodes,node:Ar.node,size:Ar.size,empty:Ar.empty,each:Ar.each,on:fI,attr:VM,attrTween:QM,style:CI,styleTween:TI,text:LI,textTween:II,remove:pI,tween:NM,delay:tI,duration:nI,ease:sI,easeVarying:oI,end:FI,[Symbol.iterator]:Ar[Symbol.iterator]};function OI(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var PI={time:null,delay:0,duration:250,ease:OI};function DI(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function NI(e){var t,r;e instanceof Pr?(t=e._id,e=e._name):(t=I0(),(r=PI).time=nf(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&Ll(l,e,t,c,a,r||DI(l,t));return new Pr(n,this._parents,e,t)}ca.prototype.interrupt=OM;ca.prototype.transition=NI;const Lh=Math.PI,Bh=2*Lh,pn=1e-6,zI=Bh-pn;function $0(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function qI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $0;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class WI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$0:qI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-t,c=i-r,h=a-t,u=o-r,d=h*h+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(d>pn)if(!(Math.abs(u*l-c*h)>pn)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let f=n-a,p=i-o,g=l*l+c*c,x=f*f+p*p,y=Math.sqrt(g),b=Math.sqrt(d),w=s*Math.tan((Lh-Math.acos((g+d-x)/(2*y*b)))/2),k=w/b,S=w/y;Math.abs(k-1)>pn&&this._append`L${t+k*h},${r+k*u}`,this._append`A${s},${s},0,0,${+(u*f>h*p)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,h=r+l,u=1^a,d=a?i-s:s-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>pn||Math.abs(this._y1-h)>pn)&&this._append`L${c},${h}`,n&&(d<0&&(d=d%Bh+Bh),d>zI?this._append`A${n},${n},0,1,${u},${t-o},${r-l}A${n},${n},0,1,${u},${this._x1=c},${this._y1=h}`:d>pn&&this._append`A${n},${n},0,${+(d>=Lh)},${u},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Jn(e){return function(){return e}}const H9=Math.abs,j9=Math.atan2,U9=Math.cos,V9=Math.max,Y9=Math.min,G9=Math.sin,X9=Math.sqrt,rg=1e-12,of=Math.PI,ng=of/2,K9=2*of;function Q9(e){return e>1?0:e<-1?of:Math.acos(e)}function J9(e){return e>=1?ng:e<=-1?-ng:Math.asin(e)}function HI(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new WI(t)}function jI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function F0(e){this._context=e}F0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Po(e){return new F0(e)}function UI(e){return e[0]}function VI(e){return e[1]}function YI(e,t){var r=Jn(!0),n=null,i=Po,s=null,a=HI(o);e=typeof e=="function"?e:e===void 0?UI:Jn(e),t=typeof t=="function"?t:t===void 0?VI:Jn(t);function o(l){var c,h=(l=jI(l)).length,u,d=!1,f;for(n==null&&(s=i(f=a())),c=0;c<=h;++c)!(c<h&&r(u=l[c],c,l))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(u,c,l),+t(u,c,l));if(f)return s=null,f+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Jn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Jn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Jn(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}class R0{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function O0(e){return new R0(e,!0)}function P0(e){return new R0(e,!1)}function Jr(){}function Do(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Bl(e){this._context=e}Bl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Do(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Do(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function io(e){return new Bl(e)}function D0(e){this._context=e}D0.prototype={areaStart:Jr,areaEnd:Jr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Do(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GI(e){return new D0(e)}function N0(e){this._context=e}N0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Do(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XI(e){return new N0(e)}function z0(e,t){this._basis=new Bl(e),this._beta=t}z0.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],s=e[r]-n,a=t[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(n+l*s),this._beta*t[o]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const KI=(function e(t){function r(n){return t===1?new Bl(n):new z0(n,t)}return r.beta=function(n){return e(+n)},r})(.85);function No(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function lf(e,t){this._context=e,this._k=(1-t)/6}lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:No(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:No(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const q0=(function e(t){function r(n){return new lf(n,t)}return r.tension=function(n){return e(+n)},r})(0);function cf(e,t){this._context=e,this._k=(1-t)/6}cf.prototype={areaStart:Jr,areaEnd:Jr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:No(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const QI=(function e(t){function r(n){return new cf(n,t)}return r.tension=function(n){return e(+n)},r})(0);function hf(e,t){this._context=e,this._k=(1-t)/6}hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:No(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const JI=(function e(t){function r(n){return new hf(n,t)}return r.tension=function(n){return e(+n)},r})(0);function uf(e,t,r){var n=e._x1,i=e._y1,s=e._x2,a=e._y2;if(e._l01_a>rg){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>rg){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*c+e._x1*e._l23_2a-t*e._l12_2a)/h,a=(a*c+e._y1*e._l23_2a-r*e._l12_2a)/h}e._context.bezierCurveTo(n,i,s,a,e._x2,e._y2)}function W0(e,t){this._context=e,this._alpha=t}W0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:uf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const H0=(function e(t){function r(n){return t?new W0(n,t):new lf(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function j0(e,t){this._context=e,this._alpha=t}j0.prototype={areaStart:Jr,areaEnd:Jr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:uf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ZI=(function e(t){function r(n){return t?new j0(n,t):new cf(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function U0(e,t){this._context=e,this._alpha=t}U0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:uf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const t$=(function e(t){function r(n){return t?new U0(n,t):new hf(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function V0(e){this._context=e}V0.prototype={areaStart:Jr,areaEnd:Jr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function e$(e){return new V0(e)}function ig(e){return e<0?-1:1}function sg(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(ig(s)+ig(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function ag(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Mc(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,i+o*t,s-o,a-o*r,s,a)}function zo(e){this._context=e}zo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mc(this,this._t0,ag(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Mc(this,ag(this,r=sg(this,e,t)),r);break;default:Mc(this,this._t0,r=sg(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Y0(e){this._context=new G0(e)}(Y0.prototype=Object.create(zo.prototype)).point=function(e,t){zo.prototype.point.call(this,t,e)};function G0(e){this._context=e}G0.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function X0(e){return new zo(e)}function K0(e){return new Y0(e)}function Q0(e){this._context=e}Q0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=og(e),i=og(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function og(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function J0(e){return new Q0(e)}function Ml(e,t){this._context=e,this._t=t}Ml.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Z0(e){return new Ml(e,.5)}function tx(e){return new Ml(e,0)}function ex(e){return new Ml(e,1)}function us(e,t,r){this.k=e,this.x=t,this.y=r}us.prototype={constructor:us,scale:function(e){return e===1?this:new us(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new us(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};us.prototype;var r$=m(e=>{const{securityLevel:t}=Lt();let r=St("body");if(t==="sandbox"){const s=St(`#i${e}`).node()?.contentDocument??document;r=St(s.body)}return r.select(`#${e}`)},"selectSvgElement");function ff(e){return typeof e>"u"||e===null}m(ff,"isNothing");function rx(e){return typeof e=="object"&&e!==null}m(rx,"isObject");function nx(e){return Array.isArray(e)?e:ff(e)?[]:[e]}m(nx,"toArray");function ix(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}m(ix,"extend");function sx(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}m(sx,"repeat");function ax(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}m(ax,"isNegativeZero");var n$=ff,i$=rx,s$=nx,a$=sx,o$=ax,l$=ix,Gt={isNothing:n$,isObject:i$,toArray:s$,repeat:a$,isNegativeZero:o$,extend:l$};function df(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}m(df,"formatError");function Li(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=df(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}m(Li,"YAMLException$1");Li.prototype=Object.create(Error.prototype);Li.prototype.constructor=Li;Li.prototype.toString=m(function(t){return this.name+": "+df(this,t)},"toString");var Ie=Li;function so(e,t,r,n,i){var s="",a="",o=Math.floor(i/2)-1;return n-t>o&&(s=" ... ",t=n-o+s.length),r-n>o&&(a=" ...",r=n+o-a.length),{str:s+e.slice(t,r).replace(/\t/g,"→")+a,pos:n-t+s.length}}m(so,"getLine");function ao(e,t){return Gt.repeat(" ",t-e.length)+e}m(ao,"padStart");function ox(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var o="",l,c,h=Math.min(e.line+t.linesAfter,i.length).toString().length,u=t.maxLength-(t.indent+h+3);for(l=1;l<=t.linesBefore&&!(a-l<0);l++)c=so(e.buffer,n[a-l],i[a-l],e.position-(n[a]-n[a-l]),u),o=Gt.repeat(" ",t.indent)+ao((e.line-l+1).toString(),h)+" | "+c.str+`
`+o;for(c=so(e.buffer,n[a],i[a],e.position,u),o+=Gt.repeat(" ",t.indent)+ao((e.line+1).toString(),h)+" | "+c.str+`
`,o+=Gt.repeat("-",t.indent+h+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(a+l>=i.length);l++)c=so(e.buffer,n[a+l],i[a+l],e.position-(n[a]-n[a+l]),u),o+=Gt.repeat(" ",t.indent)+ao((e.line+l+1).toString(),h)+" | "+c.str+`
`;return o.replace(/\n$/,"")}m(ox,"makeSnippet");var c$=ox,h$=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],u$=["scalar","sequence","mapping"];function lx(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}m(lx,"compileStyleAliases");function cx(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(h$.indexOf(r)===-1)throw new Ie('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=lx(t.styleAliases||null),u$.indexOf(this.kind)===-1)throw new Ie('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}m(cx,"Type$1");var ue=cx;function Mh(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}m(Mh,"compileList");function hx(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(m(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}m(hx,"compileMap");function qo(e){return this.extend(e)}m(qo,"Schema$1");qo.prototype.extend=m(function(t){var r=[],n=[];if(t instanceof ue)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Ie("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof ue))throw new Ie("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Ie("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Ie("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof ue))throw new Ie("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(qo.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Mh(i,"implicit"),i.compiledExplicit=Mh(i,"explicit"),i.compiledTypeMap=hx(i.compiledImplicit,i.compiledExplicit),i},"extend");var f$=qo,d$=new ue("tag:yaml.org,2002:str",{kind:"scalar",construct:m(function(e){return e!==null?e:""},"construct")}),p$=new ue("tag:yaml.org,2002:seq",{kind:"sequence",construct:m(function(e){return e!==null?e:[]},"construct")}),g$=new ue("tag:yaml.org,2002:map",{kind:"mapping",construct:m(function(e){return e!==null?e:{}},"construct")}),m$=new f$({explicit:[d$,p$,g$]});function ux(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}m(ux,"resolveYamlNull");function fx(){return null}m(fx,"constructYamlNull");function dx(e){return e===null}m(dx,"isNull");var y$=new ue("tag:yaml.org,2002:null",{kind:"scalar",resolve:ux,construct:fx,predicate:dx,represent:{canonical:m(function(){return"~"},"canonical"),lowercase:m(function(){return"null"},"lowercase"),uppercase:m(function(){return"NULL"},"uppercase"),camelcase:m(function(){return"Null"},"camelcase"),empty:m(function(){return""},"empty")},defaultStyle:"lowercase"});function px(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}m(px,"resolveYamlBoolean");function gx(e){return e==="true"||e==="True"||e==="TRUE"}m(gx,"constructYamlBoolean");function mx(e){return Object.prototype.toString.call(e)==="[object Boolean]"}m(mx,"isBoolean");var x$=new ue("tag:yaml.org,2002:bool",{kind:"scalar",resolve:px,construct:gx,predicate:mx,represent:{lowercase:m(function(e){return e?"true":"false"},"lowercase"),uppercase:m(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:m(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function yx(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}m(yx,"isHexCode");function xx(e){return 48<=e&&e<=55}m(xx,"isOctCode");function bx(e){return 48<=e&&e<=57}m(bx,"isDecCode");function wx(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!yx(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!xx(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!bx(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}m(wx,"resolveYamlInteger");function _x(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}m(_x,"constructYamlInteger");function kx(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Gt.isNegativeZero(e)}m(kx,"isInteger");var b$=new ue("tag:yaml.org,2002:int",{kind:"scalar",resolve:wx,construct:_x,predicate:kx,represent:{binary:m(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:m(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:m(function(e){return e.toString(10)},"decimal"),hexadecimal:m(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),w$=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Cx(e){return!(e===null||!w$.test(e)||e[e.length-1]==="_")}m(Cx,"resolveYamlFloat");function Sx(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}m(Sx,"constructYamlFloat");var _$=/^[-+]?[0-9]+e/;function vx(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Gt.isNegativeZero(e))return"-0.0";return r=e.toString(10),_$.test(r)?r.replace("e",".e"):r}m(vx,"representYamlFloat");function Tx(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Gt.isNegativeZero(e))}m(Tx,"isFloat");var k$=new ue("tag:yaml.org,2002:float",{kind:"scalar",resolve:Cx,construct:Sx,predicate:Tx,represent:vx,defaultStyle:"lowercase"}),Ax=m$.extend({implicit:[y$,x$,b$,k$]}),C$=Ax,Ex=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Lx=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Bx(e){return e===null?!1:Ex.exec(e)!==null||Lx.exec(e)!==null}m(Bx,"resolveYamlTimestamp");function Mx(e){var t,r,n,i,s,a,o,l=0,c=null,h,u,d;if(t=Ex.exec(e),t===null&&(t=Lx.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],o=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(h=+t[10],u=+(t[11]||0),c=(h*60+u)*6e4,t[9]==="-"&&(c=-c)),d=new Date(Date.UTC(r,n,i,s,a,o,l)),c&&d.setTime(d.getTime()-c),d}m(Mx,"constructYamlTimestamp");function Ix(e){return e.toISOString()}m(Ix,"representYamlTimestamp");var S$=new ue("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Bx,construct:Mx,instanceOf:Date,represent:Ix});function $x(e){return e==="<<"||e===null}m($x,"resolveYamlMerge");var v$=new ue("tag:yaml.org,2002:merge",{kind:"scalar",resolve:$x}),pf=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Fx(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=pf;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}m(Fx,"resolveYamlBinary");function Rx(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=pf,a=0,o=[];for(t=0;t<i;t++)t%4===0&&t&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):r===18?(o.push(a>>10&255),o.push(a>>2&255)):r===12&&o.push(a>>4&255),new Uint8Array(o)}m(Rx,"constructYamlBinary");function Ox(e){var t="",r=0,n,i,s=e.length,a=pf;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}m(Ox,"representYamlBinary");function Px(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}m(Px,"isBinary");var T$=new ue("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Fx,construct:Rx,predicate:Px,represent:Ox}),A$=Object.prototype.hasOwnProperty,E$=Object.prototype.toString;function Dx(e){if(e===null)return!0;var t=[],r,n,i,s,a,o=e;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],a=!1,E$.call(i)!=="[object Object]")return!1;for(s in i)if(A$.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}m(Dx,"resolveYamlOmap");function Nx(e){return e!==null?e:[]}m(Nx,"constructYamlOmap");var L$=new ue("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Dx,construct:Nx}),B$=Object.prototype.toString;function zx(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],B$.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}m(zx,"resolveYamlPairs");function qx(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}m(qx,"constructYamlPairs");var M$=new ue("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:zx,construct:qx}),I$=Object.prototype.hasOwnProperty;function Wx(e){if(e===null)return!0;var t,r=e;for(t in r)if(I$.call(r,t)&&r[t]!==null)return!1;return!0}m(Wx,"resolveYamlSet");function Hx(e){return e!==null?e:{}}m(Hx,"constructYamlSet");var $$=new ue("tag:yaml.org,2002:set",{kind:"mapping",resolve:Wx,construct:Hx}),jx=C$.extend({implicit:[S$,v$],explicit:[T$,L$,M$,$$]}),Zr=Object.prototype.hasOwnProperty,Wo=1,Ux=2,Vx=3,Ho=4,Ic=1,F$=2,lg=3,R$=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,O$=/[\x85\u2028\u2029]/,P$=/[,\[\]\{\}]/,Yx=/^(?:!|!!|![a-z\-]+!)$/i,Gx=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ih(e){return Object.prototype.toString.call(e)}m(Ih,"_class");function ir(e){return e===10||e===13}m(ir,"is_EOL");function Qr(e){return e===9||e===32}m(Qr,"is_WHITE_SPACE");function we(e){return e===9||e===32||e===10||e===13}m(we,"is_WS_OR_EOL");function _n(e){return e===44||e===91||e===93||e===123||e===125}m(_n,"is_FLOW_INDICATOR");function Xx(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}m(Xx,"fromHexCode");function Kx(e){return e===120?2:e===117?4:e===85?8:0}m(Kx,"escapedHexLen");function Qx(e){return 48<=e&&e<=57?e-48:-1}m(Qx,"fromDecimalCode");function $h(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}m($h,"simpleEscapeSequence");function Jx(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}m(Jx,"charFromCodepoint");var Zx=new Array(256),tb=new Array(256);for(fn=0;fn<256;fn++)Zx[fn]=$h(fn)?1:0,tb[fn]=$h(fn);var fn;function eb(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||jx,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}m(eb,"State$1");function gf(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=c$(r),new Ie(t,r)}m(gf,"generateError");function et(e,t){throw gf(e,t)}m(et,"throwError");function Us(e,t){e.onWarning&&e.onWarning.call(null,gf(e,t))}m(Us,"throwWarning");var cg={YAML:m(function(t,r,n){var i,s,a;t.version!==null&&et(t,"duplication of %YAML directive"),n.length!==1&&et(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&et(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&et(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&Us(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:m(function(t,r,n){var i,s;n.length!==2&&et(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],Yx.test(i)||et(t,"ill-formed tag handle (first argument) of the TAG directive"),Zr.call(t.tagMap,i)&&et(t,'there is a previously declared suffix for "'+i+'" tag handle'),Gx.test(s)||et(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{et(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function Or(e,t,r,n){var i,s,a,o;if(t<r){if(o=e.input.slice(t,r),n)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||et(e,"expected valid JSON character");else R$.test(o)&&et(e,"the stream contains non-printable characters");e.result+=o}}m(Or,"captureSegment");function Fh(e,t,r,n){var i,s,a,o;for(Gt.isObject(r)||et(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,o=i.length;a<o;a+=1)s=i[a],Zr.call(t,s)||(t[s]=r[s],n[s]=!0)}m(Fh,"mergeMappings");function kn(e,t,r,n,i,s,a,o,l){var c,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,h=i.length;c<h;c+=1)Array.isArray(i[c])&&et(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Ih(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&Ih(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,h=s.length;c<h;c+=1)Fh(e,t,s[c],r);else Fh(e,t,s,r);else!e.json&&!Zr.call(r,i)&&Zr.call(t,i)&&(e.line=a||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,et(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}m(kn,"storeMappingPair");function Il(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):et(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}m(Il,"readLineBreak");function Nt(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Qr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(ir(i))for(Il(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Us(e,"deficient indentation"),n}m(Nt,"skipSeparationSpace");function ua(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||we(r)))}m(ua,"testDocumentSeparator");function $l(e,t){t===1?e.result+=" ":t>1&&(e.result+=Gt.repeat(`
`,t-1))}m($l,"writeFoldedLines");function rb(e,t,r){var n,i,s,a,o,l,c,h,u=e.kind,d=e.result,f;if(f=e.input.charCodeAt(e.position),we(f)||_n(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(i=e.input.charCodeAt(e.position+1),we(i)||r&&_n(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,o=!1;f!==0;){if(f===58){if(i=e.input.charCodeAt(e.position+1),we(i)||r&&_n(i))break}else if(f===35){if(n=e.input.charCodeAt(e.position-1),we(n))break}else{if(e.position===e.lineStart&&ua(e)||r&&_n(f))break;if(ir(f))if(l=e.line,c=e.lineStart,h=e.lineIndent,Nt(e,!1,-1),e.lineIndent>=t){o=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=l,e.lineStart=c,e.lineIndent=h;break}}o&&(Or(e,s,a,!1),$l(e,e.line-l),s=a=e.position,o=!1),Qr(f)||(a=e.position+1),f=e.input.charCodeAt(++e.position)}return Or(e,s,a,!1),e.result?!0:(e.kind=u,e.result=d,!1)}m(rb,"readPlainScalar");function nb(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Or(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else ir(r)?(Or(e,n,i,!0),$l(e,Nt(e,!1,t)),n=i=e.position):e.position===e.lineStart&&ua(e)?et(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);et(e,"unexpected end of the stream within a single quoted scalar")}m(nb,"readSingleQuotedScalar");function ib(e,t){var r,n,i,s,a,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return Or(e,r,e.position,!0),e.position++,!0;if(o===92){if(Or(e,r,e.position,!0),o=e.input.charCodeAt(++e.position),ir(o))Nt(e,!1,t);else if(o<256&&Zx[o])e.result+=tb[o],e.position++;else if((a=Kx(o))>0){for(i=a,s=0;i>0;i--)o=e.input.charCodeAt(++e.position),(a=Xx(o))>=0?s=(s<<4)+a:et(e,"expected hexadecimal character");e.result+=Jx(s),e.position++}else et(e,"unknown escape sequence");r=n=e.position}else ir(o)?(Or(e,r,n,!0),$l(e,Nt(e,!1,t)),r=n=e.position):e.position===e.lineStart&&ua(e)?et(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}et(e,"unexpected end of the stream within a double quoted scalar")}m(ib,"readDoubleQuotedScalar");function sb(e,t){var r=!0,n,i,s,a=e.tag,o,l=e.anchor,c,h,u,d,f,p=Object.create(null),g,x,y,b;if(b=e.input.charCodeAt(e.position),b===91)h=93,f=!1,o=[];else if(b===123)h=125,f=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),b=e.input.charCodeAt(++e.position);b!==0;){if(Nt(e,!0,t),b=e.input.charCodeAt(e.position),b===h)return e.position++,e.tag=a,e.anchor=l,e.kind=f?"mapping":"sequence",e.result=o,!0;r?b===44&&et(e,"expected the node content, but found ','"):et(e,"missed comma between flow collection entries"),x=g=y=null,u=d=!1,b===63&&(c=e.input.charCodeAt(e.position+1),we(c)&&(u=d=!0,e.position++,Nt(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,In(e,t,Wo,!1,!0),x=e.tag,g=e.result,Nt(e,!0,t),b=e.input.charCodeAt(e.position),(d||e.line===n)&&b===58&&(u=!0,b=e.input.charCodeAt(++e.position),Nt(e,!0,t),In(e,t,Wo,!1,!0),y=e.result),f?kn(e,o,p,x,g,y,n,i,s):u?o.push(kn(e,null,p,x,g,y,n,i,s)):o.push(g),Nt(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}et(e,"unexpected end of the stream within a flow collection")}m(sb,"readFlowCollection");function ab(e,t){var r,n,i=Ic,s=!1,a=!1,o=t,l=0,c=!1,h,u;if(u=e.input.charCodeAt(e.position),u===124)n=!1;else if(u===62)n=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)Ic===i?i=u===43?lg:F$:et(e,"repeat of a chomping mode identifier");else if((h=Qx(u))>=0)h===0?et(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?et(e,"repeat of an indentation width identifier"):(o=t+h-1,a=!0);else break;if(Qr(u)){do u=e.input.charCodeAt(++e.position);while(Qr(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!ir(u)&&u!==0)}for(;u!==0;){for(Il(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!a||e.lineIndent<o)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>o&&(o=e.lineIndent),ir(u)){l++;continue}if(e.lineIndent<o){i===lg?e.result+=Gt.repeat(`
`,s?1+l:l):i===Ic&&s&&(e.result+=`
`);break}for(n?Qr(u)?(c=!0,e.result+=Gt.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=Gt.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=Gt.repeat(`
`,l):e.result+=Gt.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,r=e.position;!ir(u)&&u!==0;)u=e.input.charCodeAt(++e.position);Or(e,r,e.position,!1)}return!0}m(ab,"readBlockScalar");function Rh(e,t){var r,n=e.tag,i=e.anchor,s=[],a,o=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,et(e,"tab characters must not be used in indentation")),!(l!==45||(a=e.input.charCodeAt(e.position+1),!we(a))));){if(o=!0,e.position++,Nt(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,In(e,t,Vx,!1,!0),s.push(e.result),Nt(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)et(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}m(Rh,"readBlockSequence");function ob(e,t,r){var n,i,s,a,o,l,c=e.tag,h=e.anchor,u={},d=Object.create(null),f=null,p=null,g=null,x=!1,y=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),b=e.input.charCodeAt(e.position);b!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,et(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&we(n))b===63?(x&&(kn(e,u,d,f,p,null,a,o,l),f=p=g=null),y=!0,x=!0,i=!0):x?(x=!1,i=!0):et(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(a=e.line,o=e.lineStart,l=e.position,!In(e,r,Ux,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);Qr(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),we(b)||et(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(kn(e,u,d,f,p,null,a,o,l),f=p=g=null),y=!0,x=!1,i=!1,f=e.tag,p=e.result;else if(y)et(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=h,!0}else if(y)et(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=h,!0}if((e.line===s||e.lineIndent>t)&&(x&&(a=e.line,o=e.lineStart,l=e.position),In(e,t,Ho,!0,i)&&(x?p=e.result:g=e.result),x||(kn(e,u,d,f,p,g,a,o,l),f=p=g=null),Nt(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)et(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&kn(e,u,d,f,p,null,a,o,l),y&&(e.tag=c,e.anchor=h,e.kind="mapping",e.result=u),y}m(ob,"readBlockMapping");function lb(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&et(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):et(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!we(a);)a===33&&(n?et(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Yx.test(i)||et(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),P$.test(s)&&et(e,"tag suffix cannot contain flow indicator characters")}s&&!Gx.test(s)&&et(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{et(e,"tag name is malformed: "+s)}return r?e.tag=s:Zr.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:et(e,'undeclared tag handle "'+i+'"'),!0}m(lb,"readTagProperty");function cb(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&et(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!we(r)&&!_n(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&et(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}m(cb,"readAnchorProperty");function hb(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!we(n)&&!_n(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&et(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Zr.call(e.anchorMap,r)||et(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Nt(e,!0,-1),!0}m(hb,"readAlias");function In(e,t,r,n,i){var s,a,o,l=1,c=!1,h=!1,u,d,f,p,g,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=o=Ho===r||Vx===r,n&&Nt(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;lb(e)||cb(e);)Nt(e,!0,-1)?(c=!0,o=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):o=!1;if(o&&(o=c||i),(l===1||Ho===r)&&(Wo===r||Ux===r?g=t:g=t+1,x=e.position-e.lineStart,l===1?o&&(Rh(e,x)||ob(e,x,g))||sb(e,g)?h=!0:(a&&ab(e,g)||nb(e,g)||ib(e,g)?h=!0:hb(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&et(e,"alias node should not have any properties")):rb(e,g,Wo===r)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(h=o&&Rh(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&et(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,d=e.implicitTypes.length;u<d;u+=1)if(p=e.implicitTypes[u],p.resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Zr.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,f=e.typeMap.multi[e.kind||"fallback"],u=0,d=f.length;u<d;u+=1)if(e.tag.slice(0,f[u].tag.length)===f[u].tag){p=f[u];break}p||et(e,"unknown tag !<"+e.tag+">"),e.result!==null&&p.kind!==e.kind&&et(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):et(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}m(In,"composeNode");function ub(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Nt(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!we(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&et(e,"directive name must not be less than one character in length");a!==0;){for(;Qr(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!ir(a));break}if(ir(a))break;for(r=e.position;a!==0&&!we(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&Il(e),Zr.call(cg,n)?cg[n](e,n,i):Us(e,'unknown document directive "'+n+'"')}if(Nt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Nt(e,!0,-1)):s&&et(e,"directives end mark is expected"),In(e,e.lineIndent-1,Ho,!1,!0),Nt(e,!0,-1),e.checkLineBreaks&&O$.test(e.input.slice(t,e.position))&&Us(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ua(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Nt(e,!0,-1));return}if(e.position<e.length-1)et(e,"end of the stream or a document separator is expected");else return}m(ub,"readDocument");function mf(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new eb(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,et(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)ub(r);return r.documents}m(mf,"loadDocuments");function D$(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=mf(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}m(D$,"loadAll$1");function fb(e,t){var r=mf(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ie("expected a single document in the stream, but found more")}}m(fb,"load$1");var N$=fb,z$={load:N$},db=Object.prototype.toString,pb=Object.prototype.hasOwnProperty,yf=65279,q$=9,Vs=10,W$=13,H$=32,j$=33,U$=34,Oh=35,V$=37,Y$=38,G$=39,X$=42,gb=44,K$=45,jo=58,Q$=61,J$=62,Z$=63,tF=64,mb=91,yb=93,eF=96,xb=123,rF=124,bb=125,pe={};pe[0]="\\0";pe[7]="\\a";pe[8]="\\b";pe[9]="\\t";pe[10]="\\n";pe[11]="\\v";pe[12]="\\f";pe[13]="\\r";pe[27]="\\e";pe[34]='\\"';pe[92]="\\\\";pe[133]="\\N";pe[160]="\\_";pe[8232]="\\L";pe[8233]="\\P";var nF=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],iF=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function wb(e,t){var r,n,i,s,a,o,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],o=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=e.compiledTypeMap.fallback[a],l&&pb.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[a]=o;return r}m(wb,"compileStyleMap");function _b(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Ie("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Gt.repeat("0",n-t.length)+t}m(_b,"encodeHex");var sF=1,Ys=2;function kb(e){this.schema=e.schema||jx,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Gt.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=wb(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Ys:sF,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}m(kb,"State");function Ph(e,t){for(var r=Gt.repeat(" ",t),n=0,i=-1,s="",a,o=e.length;n<o;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=o):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}m(Ph,"indentString");function Uo(e,t){return`
`+Gt.repeat(" ",e.indent*t)}m(Uo,"generateNextLine");function Cb(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}m(Cb,"testImplicitResolving");function Gs(e){return e===H$||e===q$}m(Gs,"isWhitespace");function Bi(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==yf||65536<=e&&e<=1114111}m(Bi,"isPrintable");function Dh(e){return Bi(e)&&e!==yf&&e!==W$&&e!==Vs}m(Dh,"isNsCharOrWhitespace");function Nh(e,t,r){var n=Dh(e),i=n&&!Gs(e);return(r?n:n&&e!==gb&&e!==mb&&e!==yb&&e!==xb&&e!==bb)&&e!==Oh&&!(t===jo&&!i)||Dh(t)&&!Gs(t)&&e===Oh||t===jo&&i}m(Nh,"isPlainSafe");function Sb(e){return Bi(e)&&e!==yf&&!Gs(e)&&e!==K$&&e!==Z$&&e!==jo&&e!==gb&&e!==mb&&e!==yb&&e!==xb&&e!==bb&&e!==Oh&&e!==Y$&&e!==X$&&e!==j$&&e!==rF&&e!==Q$&&e!==J$&&e!==G$&&e!==U$&&e!==V$&&e!==tF&&e!==eF}m(Sb,"isPlainSafeFirst");function vb(e){return!Gs(e)&&e!==jo}m(vb,"isPlainSafeLast");function ci(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}m(ci,"codePointAt");function xf(e){var t=/^\n* /;return t.test(e)}m(xf,"needIndentIndicator");var Tb=1,zh=2,Ab=3,Eb=4,ni=5;function Lb(e,t,r,n,i,s,a,o){var l,c=0,h=null,u=!1,d=!1,f=n!==-1,p=-1,g=Sb(ci(e,0))&&vb(ci(e,e.length-1));if(t||a)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ci(e,l),!Bi(c))return ni;g=g&&Nh(c,h,o),h=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ci(e,l),c===Vs)u=!0,f&&(d=d||l-p-1>n&&e[p+1]!==" ",p=l);else if(!Bi(c))return ni;g=g&&Nh(c,h,o),h=c}d=d||f&&l-p-1>n&&e[p+1]!==" "}return!u&&!d?g&&!a&&!i(e)?Tb:s===Ys?ni:zh:r>9&&xf(e)?ni:a?s===Ys?ni:zh:d?Eb:Ab}m(Lb,"chooseScalarStyle");function Bb(e,t,r,n,i){e.dump=(function(){if(t.length===0)return e.quotingType===Ys?'""':"''";if(!e.noCompatMode&&(nF.indexOf(t)!==-1||iF.test(t)))return e.quotingType===Ys?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),o=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return Cb(e,c)}switch(m(l,"testAmbiguity"),Lb(t,o,e.indent,a,l,e.quotingType,e.forceQuotes&&!n,i)){case Tb:return t;case zh:return"'"+t.replace(/'/g,"''")+"'";case Ab:return"|"+qh(t,e.indent)+Wh(Ph(t,s));case Eb:return">"+qh(t,e.indent)+Wh(Ph(Mb(t,a),s));case ni:return'"'+Ib(t)+'"';default:throw new Ie("impossible error: invalid scalar style")}})()}m(Bb,"writeScalar");function qh(e,t){var r=xf(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}m(qh,"blockHeader");function Wh(e){return e[e.length-1]===`
`?e.slice(0,-1):e}m(Wh,"dropEndingNewline");function Mb(e,t){for(var r=/(\n+)([^\n]*)/g,n=(function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,Hh(e.slice(0,c),t)})(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var o=a[1],l=a[2];s=l[0]===" ",n+=o+(!i&&!s&&l!==""?`
`:"")+Hh(l,t),i=s}return n}m(Mb,"foldString");function Hh(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,o=0,l="";n=r.exec(e);)o=n.index,o-i>t&&(s=a>i?a:o,l+=`
`+e.slice(i,s),i=s+1),a=o;return l+=`
`,e.length-i>t&&a>i?l+=e.slice(i,a)+`
`+e.slice(a+1):l+=e.slice(i),l.slice(1)}m(Hh,"foldLine");function Ib(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ci(e,i),n=pe[r],!n&&Bi(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||_b(r);return t}m(Ib,"escapeString");function $b(e,t,r){var n="",i=e.tag,s,a,o;for(s=0,a=r.length;s<a;s+=1)o=r[s],e.replacer&&(o=e.replacer.call(r,String(s),o)),(xr(e,t,o,!1,!1)||typeof o>"u"&&xr(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}m($b,"writeFlowSequence");function jh(e,t,r,n){var i="",s=e.tag,a,o,l;for(a=0,o=r.length;a<o;a+=1)l=r[a],e.replacer&&(l=e.replacer.call(r,String(a),l)),(xr(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&xr(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Uo(e,t)),e.dump&&Vs===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}m(jh,"writeBlockSequence");function Fb(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,o,l,c,h;for(a=0,o=s.length;a<o;a+=1)h="",n!==""&&(h+=", "),e.condenseFlow&&(h+='"'),l=s[a],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),xr(e,t,l,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),xr(e,t,c,!1,!1)&&(h+=e.dump,n+=h));e.tag=i,e.dump="{"+n+"}"}m(Fb,"writeFlowMapping");function Rb(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),o,l,c,h,u,d;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new Ie("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)d="",(!n||i!=="")&&(d+=Uo(e,t)),c=a[o],h=r[c],e.replacer&&(h=e.replacer.call(r,c,h)),xr(e,t+1,c,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&Vs===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,u&&(d+=Uo(e,t)),xr(e,t+1,h,!0,u)&&(e.dump&&Vs===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=s,e.dump=i||"{}"}m(Rb,"writeBlockMapping");function Uh(e,t,r){var n,i,s,a,o,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(l=e.styleMap[o.tag]||o.defaultStyle,db.call(o.represent)==="[object Function]")n=o.represent(t,l);else if(pb.call(o.represent,l))n=o.represent[l](t,l);else throw new Ie("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}m(Uh,"detectType");function xr(e,t,r,n,i,s,a){e.tag=null,e.dump=r,Uh(e,r,!1)||Uh(e,r,!0);var o=db.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var h=o==="[object Object]"||o==="[object Array]",u,d;if(h&&(u=e.duplicates.indexOf(r),d=u!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(h&&d&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),o==="[object Object]")n&&Object.keys(e.dump).length!==0?(Rb(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(Fb(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(o==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?jh(e,t-1,e.dump,i):jh(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):($b(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(o==="[object String]")e.tag!=="?"&&Bb(e,e.dump,t,s,l);else{if(o==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Ie("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}m(xr,"writeNode");function Ob(e,t){var r=[],n=[],i,s;for(Vo(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}m(Ob,"getDuplicateReferences");function Vo(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Vo(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Vo(e[n[i]],t,r)}m(Vo,"inspectNode");function aF(e,t){t=t||{};var r=new kb(t);r.noRefs||Ob(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),xr(r,0,n,!0,!0)?r.dump+`
`:""}m(aF,"dump$1");function oF(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}m(oF,"renamed");var lF=Ax,cF=z$.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var le={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},hg={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function fs(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Dt(e),t=Dt(t);const[r,n]=[e.x,e.y],[i,s]=[t.x,t.y],a=i-r,o=s-n;return{angle:Math.atan(o/a),deltaX:a,deltaY:o}}m(fs,"calculateDeltaAndAngle");var Dt=m(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),hF=m(e=>({x:m(function(t,r,n){let i=0;const s=Dt(n[0]).x<Dt(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(le,e.arrowTypeStart)){const{angle:f,deltaX:p}=fs(n[0],n[1]);i=le[e.arrowTypeStart]*Math.cos(f)*(p>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(le,e.arrowTypeEnd)){const{angle:f,deltaX:p}=fs(n[n.length-1],n[n.length-2]);i=le[e.arrowTypeEnd]*Math.cos(f)*(p>=0?1:-1)}const a=Math.abs(Dt(t).x-Dt(n[n.length-1]).x),o=Math.abs(Dt(t).y-Dt(n[n.length-1]).y),l=Math.abs(Dt(t).x-Dt(n[0]).x),c=Math.abs(Dt(t).y-Dt(n[0]).y),h=le[e.arrowTypeStart],u=le[e.arrowTypeEnd],d=1;if(a<u&&a>0&&o<u){let f=u+d-a;f*=s==="right"?-1:1,i-=f}if(l<h&&l>0&&c<h){let f=h+d-l;f*=s==="right"?-1:1,i+=f}return Dt(t).x+i},"x"),y:m(function(t,r,n){let i=0;const s=Dt(n[0]).y<Dt(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(le,e.arrowTypeStart)){const{angle:f,deltaY:p}=fs(n[0],n[1]);i=le[e.arrowTypeStart]*Math.abs(Math.sin(f))*(p>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(le,e.arrowTypeEnd)){const{angle:f,deltaY:p}=fs(n[n.length-1],n[n.length-2]);i=le[e.arrowTypeEnd]*Math.abs(Math.sin(f))*(p>=0?1:-1)}const a=Math.abs(Dt(t).y-Dt(n[n.length-1]).y),o=Math.abs(Dt(t).x-Dt(n[n.length-1]).x),l=Math.abs(Dt(t).y-Dt(n[0]).y),c=Math.abs(Dt(t).x-Dt(n[0]).x),h=le[e.arrowTypeStart],u=le[e.arrowTypeEnd],d=1;if(a<u&&a>0&&o<u){let f=u+d-a;f*=s==="up"?-1:1,i-=f}if(l<h&&l>0&&c<h){let f=h+d-l;f*=s==="up"?-1:1,i+=f}return Dt(t).y+i},"y")}),"getLineFunctionsWithOffset"),bf=m(({flowchart:e})=>{const t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),uF=m(e=>{const{handDrawnSeed:t}=Lt();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Oi=m(e=>{const t=fF([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),fF=m(e=>{const t=new Map;return e.forEach(r=>{const[n,i]=r.split(":");t.set(n.trim(),i?.trim())}),t},"styles2Map"),Pb=m(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),J=m(e=>{const{stylesArray:t}=Oi(e),r=[],n=[],i=[],s=[];return t.forEach(a=>{const o=a[0];Pb(o)?r.push(a.join(":")+" !important"):(n.push(a.join(":")+" !important"),o.includes("stroke")&&i.push(a.join(":")+" !important"),o==="fill"&&s.push(a.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:s}},"styles2String"),Q=m((e,t)=>{const{themeVariables:r,handDrawnSeed:n}=Lt(),{nodeBorder:i,mainBkg:s}=r,{stylesMap:a}=Oi(e);return Object.assign({roughness:.7,fill:a.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:a.get("stroke")||i,seed:n,strokeWidth:a.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:dF(a.get("stroke-dasharray"))},t)},"userNodeOverrides"),dF=m(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const i=isNaN(t[0])?0:t[0];return[i,i]}const r=isNaN(t[0])?0:t[0],n=isNaN(t[1])?0:t[1];return[r,n]},"getStrokeDashArray"),es={},jt={},ug;function pF(){return ug||(ug=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.BLANK_URL=jt.relativeFirstCharacters=jt.whitespaceEscapeCharsRegex=jt.urlSchemeRegex=jt.ctrlCharactersRegex=jt.htmlCtrlEntityRegex=jt.htmlEntitiesRegex=jt.invalidProtocolRegex=void 0,jt.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,jt.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,jt.htmlCtrlEntityRegex=/&(newline|tab);/gi,jt.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,jt.urlSchemeRegex=/^.+(:|&colon;)/gim,jt.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,jt.relativeFirstCharacters=[".","/"],jt.BLANK_URL="about:blank"),jt}var fg;function gF(){if(fg)return es;fg=1,Object.defineProperty(es,"__esModule",{value:!0}),es.sanitizeUrl=void 0;var e=pF();function t(a){return e.relativeFirstCharacters.indexOf(a[0])>-1}function r(a){var o=a.replace(e.ctrlCharactersRegex,"");return o.replace(e.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function n(a){return URL.canParse(a)}function i(a){try{return decodeURIComponent(a)}catch{return a}}function s(a){if(!a)return e.BLANK_URL;var o,l=i(a.trim());do l=r(l).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),l=i(l),o=l.match(e.ctrlCharactersRegex)||l.match(e.htmlEntitiesRegex)||l.match(e.htmlCtrlEntityRegex)||l.match(e.whitespaceEscapeCharsRegex);while(o&&o.length>0);var c=l;if(!c)return e.BLANK_URL;if(t(c))return c;var h=c.trimStart(),u=h.match(e.urlSchemeRegex);if(!u)return c;var d=u[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(d))return e.BLANK_URL;var f=h.replace(/\\/g,"/");if(d==="mailto:"||d.includes("://"))return f;if(d==="http:"||d==="https:"){if(!n(f))return e.BLANK_URL;var p=new URL(f);return p.protocol=p.protocol.toLowerCase(),p.hostname=p.hostname.toLowerCase(),p.toString()}return f}return es.sanitizeUrl=s,es}var mF=gF(),Db=typeof global=="object"&&global&&global.Object===Object&&global,yF=typeof self=="object"&&self&&self.Object===Object&&self,wr=Db||yF||Function("return this")(),Yo=wr.Symbol,Nb=Object.prototype,xF=Nb.hasOwnProperty,bF=Nb.toString,rs=Yo?Yo.toStringTag:void 0;function wF(e){var t=xF.call(e,rs),r=e[rs];try{e[rs]=void 0;var n=!0}catch{}var i=bF.call(e);return n&&(t?e[rs]=r:delete e[rs]),i}var _F=Object.prototype,kF=_F.toString;function CF(e){return kF.call(e)}var SF="[object Null]",vF="[object Undefined]",dg=Yo?Yo.toStringTag:void 0;function Pi(e){return e==null?e===void 0?vF:SF:dg&&dg in Object(e)?wF(e):CF(e)}function Nn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var TF="[object AsyncFunction]",AF="[object Function]",EF="[object GeneratorFunction]",LF="[object Proxy]";function wf(e){if(!Nn(e))return!1;var t=Pi(e);return t==AF||t==EF||t==TF||t==LF}var $c=wr["__core-js_shared__"],pg=(function(){var e=/[^.]+$/.exec($c&&$c.keys&&$c.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function BF(e){return!!pg&&pg in e}var MF=Function.prototype,IF=MF.toString;function zn(e){if(e!=null){try{return IF.call(e)}catch{}try{return e+""}catch{}}return""}var $F=/[\\^$.*+?()[\]{}|]/g,FF=/^\[object .+?Constructor\]$/,RF=Function.prototype,OF=Object.prototype,PF=RF.toString,DF=OF.hasOwnProperty,NF=RegExp("^"+PF.call(DF).replace($F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zF(e){if(!Nn(e)||BF(e))return!1;var t=wf(e)?NF:FF;return t.test(zn(e))}function qF(e,t){return e?.[t]}function qn(e,t){var r=qF(e,t);return zF(r)?r:void 0}var Xs=qn(Object,"create");function WF(){this.__data__=Xs?Xs(null):{},this.size=0}function HF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jF="__lodash_hash_undefined__",UF=Object.prototype,VF=UF.hasOwnProperty;function YF(e){var t=this.__data__;if(Xs){var r=t[e];return r===jF?void 0:r}return VF.call(t,e)?t[e]:void 0}var GF=Object.prototype,XF=GF.hasOwnProperty;function KF(e){var t=this.__data__;return Xs?t[e]!==void 0:XF.call(t,e)}var QF="__lodash_hash_undefined__";function JF(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Xs&&t===void 0?QF:t,this}function $n(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$n.prototype.clear=WF;$n.prototype.delete=HF;$n.prototype.get=YF;$n.prototype.has=KF;$n.prototype.set=JF;function ZF(){this.__data__=[],this.size=0}function Fl(e,t){return e===t||e!==e&&t!==t}function Rl(e,t){for(var r=e.length;r--;)if(Fl(e[r][0],t))return r;return-1}var tR=Array.prototype,eR=tR.splice;function rR(e){var t=this.__data__,r=Rl(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():eR.call(t,r,1),--this.size,!0}function nR(e){var t=this.__data__,r=Rl(t,e);return r<0?void 0:t[r][1]}function iR(e){return Rl(this.__data__,e)>-1}function sR(e,t){var r=this.__data__,n=Rl(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function zr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zr.prototype.clear=ZF;zr.prototype.delete=rR;zr.prototype.get=nR;zr.prototype.has=iR;zr.prototype.set=sR;var Ks=qn(wr,"Map");function aR(){this.size=0,this.__data__={hash:new $n,map:new(Ks||zr),string:new $n}}function oR(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ol(e,t){var r=e.__data__;return oR(t)?r[typeof t=="string"?"string":"hash"]:r.map}function lR(e){var t=Ol(this,e).delete(e);return this.size-=t?1:0,t}function cR(e){return Ol(this,e).get(e)}function hR(e){return Ol(this,e).has(e)}function uR(e,t){var r=Ol(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function nn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nn.prototype.clear=aR;nn.prototype.delete=lR;nn.prototype.get=cR;nn.prototype.has=hR;nn.prototype.set=uR;var fR="Expected a function";function fa(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fR);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(fa.Cache||nn),r}fa.Cache=nn;function dR(){this.__data__=new zr,this.size=0}function pR(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function gR(e){return this.__data__.get(e)}function mR(e){return this.__data__.has(e)}var yR=200;function xR(e,t){var r=this.__data__;if(r instanceof zr){var n=r.__data__;if(!Ks||n.length<yR-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new nn(n)}return r.set(e,t),this.size=r.size,this}function Di(e){var t=this.__data__=new zr(e);this.size=t.size}Di.prototype.clear=dR;Di.prototype.delete=pR;Di.prototype.get=gR;Di.prototype.has=mR;Di.prototype.set=xR;var Go=(function(){try{var e=qn(Object,"defineProperty");return e({},"",{}),e}catch{}})();function _f(e,t,r){t=="__proto__"&&Go?Go(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Vh(e,t,r){(r!==void 0&&!Fl(e[t],r)||r===void 0&&!(t in e))&&_f(e,t,r)}function bR(e){return function(t,r,n){for(var i=-1,s=Object(t),a=n(t),o=a.length;o--;){var l=a[++i];if(r(s[l],l,s)===!1)break}return t}}var wR=bR(),zb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gg=zb&&typeof module=="object"&&module&&!module.nodeType&&module,_R=gg&&gg.exports===zb,mg=_R?wr.Buffer:void 0,yg=mg?mg.allocUnsafe:void 0;function kR(e,t){if(t)return e.slice();var r=e.length,n=yg?yg(r):new e.constructor(r);return e.copy(n),n}var xg=wr.Uint8Array;function CR(e){var t=new e.constructor(e.byteLength);return new xg(t).set(new xg(e)),t}function SR(e,t){var r=t?CR(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function vR(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var bg=Object.create,TR=(function(){function e(){}return function(t){if(!Nn(t))return{};if(bg)return bg(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function qb(e,t){return function(r){return e(t(r))}}var Wb=qb(Object.getPrototypeOf,Object),AR=Object.prototype;function Pl(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||AR;return e===r}function ER(e){return typeof e.constructor=="function"&&!Pl(e)?TR(Wb(e)):{}}function da(e){return e!=null&&typeof e=="object"}var LR="[object Arguments]";function wg(e){return da(e)&&Pi(e)==LR}var Hb=Object.prototype,BR=Hb.hasOwnProperty,MR=Hb.propertyIsEnumerable,Xo=wg((function(){return arguments})())?wg:function(e){return da(e)&&BR.call(e,"callee")&&!MR.call(e,"callee")},Ko=Array.isArray,IR=9007199254740991;function jb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=IR}function Dl(e){return e!=null&&jb(e.length)&&!wf(e)}function $R(e){return da(e)&&Dl(e)}function FR(){return!1}var Ub=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_g=Ub&&typeof module=="object"&&module&&!module.nodeType&&module,RR=_g&&_g.exports===Ub,kg=RR?wr.Buffer:void 0,OR=kg?kg.isBuffer:void 0,kf=OR||FR,PR="[object Object]",DR=Function.prototype,NR=Object.prototype,Vb=DR.toString,zR=NR.hasOwnProperty,qR=Vb.call(Object);function WR(e){if(!da(e)||Pi(e)!=PR)return!1;var t=Wb(e);if(t===null)return!0;var r=zR.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Vb.call(r)==qR}var HR="[object Arguments]",jR="[object Array]",UR="[object Boolean]",VR="[object Date]",YR="[object Error]",GR="[object Function]",XR="[object Map]",KR="[object Number]",QR="[object Object]",JR="[object RegExp]",ZR="[object Set]",tO="[object String]",eO="[object WeakMap]",rO="[object ArrayBuffer]",nO="[object DataView]",iO="[object Float32Array]",sO="[object Float64Array]",aO="[object Int8Array]",oO="[object Int16Array]",lO="[object Int32Array]",cO="[object Uint8Array]",hO="[object Uint8ClampedArray]",uO="[object Uint16Array]",fO="[object Uint32Array]",Ot={};Ot[iO]=Ot[sO]=Ot[aO]=Ot[oO]=Ot[lO]=Ot[cO]=Ot[hO]=Ot[uO]=Ot[fO]=!0;Ot[HR]=Ot[jR]=Ot[rO]=Ot[UR]=Ot[nO]=Ot[VR]=Ot[YR]=Ot[GR]=Ot[XR]=Ot[KR]=Ot[QR]=Ot[JR]=Ot[ZR]=Ot[tO]=Ot[eO]=!1;function dO(e){return da(e)&&jb(e.length)&&!!Ot[Pi(e)]}function pO(e){return function(t){return e(t)}}var Yb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Fs=Yb&&typeof module=="object"&&module&&!module.nodeType&&module,gO=Fs&&Fs.exports===Yb,Fc=gO&&Db.process,Cg=(function(){try{var e=Fs&&Fs.require&&Fs.require("util").types;return e||Fc&&Fc.binding&&Fc.binding("util")}catch{}})(),Sg=Cg&&Cg.isTypedArray,Cf=Sg?pO(Sg):dO;function Yh(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var mO=Object.prototype,yO=mO.hasOwnProperty;function xO(e,t,r){var n=e[t];(!(yO.call(e,t)&&Fl(n,r))||r===void 0&&!(t in e))&&_f(e,t,r)}function bO(e,t,r,n){var i=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=void 0;l===void 0&&(l=e[o]),i?_f(r,o,l):xO(r,o,l)}return r}function wO(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _O=9007199254740991,kO=/^(?:0|[1-9]\d*)$/;function Gb(e,t){var r=typeof e;return t=t??_O,!!t&&(r=="number"||r!="symbol"&&kO.test(e))&&e>-1&&e%1==0&&e<t}var CO=Object.prototype,SO=CO.hasOwnProperty;function vO(e,t){var r=Ko(e),n=!r&&Xo(e),i=!r&&!n&&kf(e),s=!r&&!n&&!i&&Cf(e),a=r||n||i||s,o=a?wO(e.length,String):[],l=o.length;for(var c in e)(t||SO.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Gb(c,l)))&&o.push(c);return o}function TO(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var AO=Object.prototype,EO=AO.hasOwnProperty;function LO(e){if(!Nn(e))return TO(e);var t=Pl(e),r=[];for(var n in e)n=="constructor"&&(t||!EO.call(e,n))||r.push(n);return r}function Xb(e){return Dl(e)?vO(e,!0):LO(e)}function BO(e){return bO(e,Xb(e))}function MO(e,t,r,n,i,s,a){var o=Yh(e,r),l=Yh(t,r),c=a.get(l);if(c){Vh(e,r,c);return}var h=s?s(o,l,r+"",e,t,a):void 0,u=h===void 0;if(u){var d=Ko(l),f=!d&&kf(l),p=!d&&!f&&Cf(l);h=l,d||f||p?Ko(o)?h=o:$R(o)?h=vR(o):f?(u=!1,h=kR(l,!0)):p?(u=!1,h=SR(l,!0)):h=[]:WR(l)||Xo(l)?(h=o,Xo(o)?h=BO(o):(!Nn(o)||wf(o))&&(h=ER(l))):u=!1}u&&(a.set(l,h),i(h,l,n,s,a),a.delete(l)),Vh(e,r,h)}function Kb(e,t,r,n,i){e!==t&&wR(t,function(s,a){if(i||(i=new Di),Nn(s))MO(e,t,a,r,Kb,n,i);else{var o=n?n(Yh(e,a),s,a+"",e,t,i):void 0;o===void 0&&(o=s),Vh(e,a,o)}},Xb)}function Qb(e){return e}function IO(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var vg=Math.max;function $O(e,t,r){return t=vg(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=vg(n.length-t,0),a=Array(s);++i<s;)a[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(a),IO(e,this,o)}}function FO(e){return function(){return e}}var RO=Go?function(e,t){return Go(e,"toString",{configurable:!0,enumerable:!1,value:FO(t),writable:!0})}:Qb,OO=800,PO=16,DO=Date.now;function NO(e){var t=0,r=0;return function(){var n=DO(),i=PO-(n-r);if(r=n,i>0){if(++t>=OO)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zO=NO(RO);function qO(e,t){return zO($O(e,t,Qb),e+"")}function WO(e,t,r){if(!Nn(r))return!1;var n=typeof t;return(n=="number"?Dl(r)&&Gb(t,r.length):n=="string"&&t in r)?Fl(r[t],e):!1}function HO(e){return qO(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,a&&WO(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var o=r[n];o&&e(t,o,n,s)}return t})}var jO=HO(function(e,t,r){Kb(e,t,r)}),UO="​",VO={curveBasis:io,curveBasisClosed:GI,curveBasisOpen:XI,curveBumpX:O0,curveBumpY:P0,curveBundle:KI,curveCardinalClosed:QI,curveCardinalOpen:JI,curveCardinal:q0,curveCatmullRomClosed:ZI,curveCatmullRomOpen:t$,curveCatmullRom:H0,curveLinear:Po,curveLinearClosed:e$,curveMonotoneX:X0,curveMonotoneY:K0,curveNatural:J0,curveStep:Z0,curveStepAfter:ex,curveStepBefore:tx},YO=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,GO=m(function(e,t){const r=Jb(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const a=r.map(o=>o.args);To(a),n=Yt(n,[...a])}else n=r.args;if(!n)return;let i=Vu(e,t);const s="config";return n[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s]),n},"detectInit"),Jb=m(function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${YO.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),N.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n;const i=[];for(;(n=Is.exec(e))!==null;)if(n.index===Is.lastIndex&&Is.lastIndex++,n&&!t||t&&n[1]?.match(t)||t&&n[2]?.match(t)){const s=n[1]?n[1]:n[2],a=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:s,args:a})}return i.length===0?{type:e,args:null}:i.length===1?i[0]:i}catch(r){return N.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),XO=m(function(e){return e.replace(Is,"")},"removeDirectives"),KO=m(function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");function Sf(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return VO[r]??t}m(Sf,"interpolateToCurve");function Zb(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?mF.sanitizeUrl(r):r}m(Zb,"formatUrl");var QO=m((e,...t)=>{const r=e.split("."),n=r.length-1,i=r[n];let s=window;for(let a=0;a<n;a++)if(s=s[r[a]],!s){N.error(`Function name: ${e} not found in window`);return}s[i](...t)},"runFunc");function vf(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}m(vf,"distance");function tw(e){let t,r=0;e.forEach(i=>{r+=vf(i,t),t=i});const n=r/2;return Tf(e,n)}m(tw,"traverseEdge");function ew(e){return e.length===1?e[0]:tw(e)}m(ew,"calcLabelPosition");var Tg=m((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),Tf=m((e,t)=>{let r,n=t;for(const i of e){if(r){const s=vf(i,r);if(s===0)return r;if(s<n)n-=s;else{const a=n/s;if(a<=0)return r;if(a>=1)return{x:i.x,y:i.y};if(a>0&&a<1)return{x:Tg((1-a)*r.x+a*i.x,5),y:Tg((1-a)*r.y+a*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),JO=m((e,t,r)=>{N.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const i=Tf(t,25),s=e?10:5,a=Math.atan2(t[0].y-i.y,t[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(a)*s+(t[0].x+i.x)/2,o.y=-Math.cos(a)*s+(t[0].y+i.y)/2,o},"calcCardinalityPosition");function rw(e,t,r){const n=structuredClone(r);N.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const i=25+e,s=Tf(n,i),a=10+e*.5,o=Math.atan2(n[0].y-s.y,n[0].x-s.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(o+Math.PI)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o+Math.PI)*a+(n[0].y+s.y)/2):t==="end_right"?(l.x=Math.sin(o-Math.PI)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o-Math.PI)*a+(n[0].y+s.y)/2-5):t==="end_left"?(l.x=Math.sin(o)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2-5):(l.x=Math.sin(o)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2),l}m(rw,"calcTerminalLabelPosition");function nw(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}m(nw,"getStylesFromArray");var Ag=0,ZO=m(()=>(Ag++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Ag),"generateId");function iw(e){let t="";const r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}m(iw,"makeRandomHex");var tP=m(e=>iw(e.length),"random"),eP=m(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),rP=m(function(e,t){const r=t.text.replace(Ri.lineBreakRegex," "),[,n]=Nl(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const s=i.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(r),i},"drawSimpleText"),nP=fa((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Ri.lineBreakRegex.test(e)))return e;const n=e.split(" ").filter(Boolean),i=[];let s="";return n.forEach((a,o)=>{const l=Dr(`${a} `,r),c=Dr(s,r);if(l>t){const{hyphenatedStrings:d,remainingWord:f}=iP(a,t,"-",r);i.push(s,...d),s=f}else c+l>=t?(i.push(s),s=a):s=[s,a].filter(Boolean).join(" ");o+1===n.length&&i.push(s)}),i.filter(a=>a!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),iP=fa((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],s=[];let a="";return i.forEach((o,l)=>{const c=`${a}${o}`;if(Dr(c,n)>=t){const u=l+1,d=i.length===u,f=`${c}${r}`;s.push(d?c:f),a=""}else a=c}),{hyphenatedStrings:s,remainingWord:a}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function sw(e,t){return Af(e,t).height}m(sw,"calculateTextHeight");function Dr(e,t){return Af(e,t).width}m(Dr,"calculateTextWidth");var Af=fa((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,s]=Nl(r),a=["sans-serif",n],o=e.split(Ri.lineBreakRegex),l=[],c=St("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const h=c.append("svg");for(const d of a){let f=0;const p={width:0,height:0,lineHeight:0};for(const g of o){const x=eP();x.text=g||UO;const y=rP(h,x).style("font-size",s).style("font-weight",i).style("font-family",d),b=(y._groups||y)[0][0].getBBox();if(b.width===0&&b.height===0)throw new Error("svg element not in render tree");p.width=Math.round(Math.max(p.width,b.width)),f=Math.round(b.height),p.height+=f,p.lineHeight=Math.round(Math.max(p.lineHeight,f))}l.push(p)}h.remove();const u=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[u]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),ki,sP=(ki=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},m(ki,"InitIDGenerator"),ki),Ra,aP=m(function(e){return Ra=Ra||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Ra.innerHTML=e,unescape(Ra.textContent)},"entityDecode");function Ef(e){return"str"in e}m(Ef,"isDetailedError");var oP=m((e,t,r,n)=>{if(!n)return;const i=e.node()?.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Nl=m(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function Lf(e,t){return jO({},e,t)}m(Lf,"cleanAndMerge");var rr={assignWithDepth:Yt,wrapLabel:nP,calculateTextHeight:sw,calculateTextWidth:Dr,calculateTextDimensions:Af,cleanAndMerge:Lf,detectInit:GO,detectDirective:Jb,isSubstringInArray:KO,interpolateToCurve:Sf,calcLabelPosition:ew,calcCardinalityPosition:JO,calcTerminalLabelPosition:rw,formatUrl:Zb,getStylesFromArray:nw,generateId:ZO,random:tP,runFunc:QO,entityDecode:aP,insertTitle:oP,isLabelCoordinateInPath:aw,parseFontSize:Nl,InitIDGenerator:sP},lP=m(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),t},"encodeEntities"),Wn=m(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),Z9=m((e,t,{counter:r=0,prefix:n,suffix:i},s)=>s||`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId");function fe(e){return e??null}m(fe,"handleUndefinedAttr");function aw(e,t){const r=Math.round(e.x),n=Math.round(e.y),i=t.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(r.toString())||i.includes(n.toString())}m(aw,"isLabelCoordinateInPath");const cP=Object.freeze({left:0,top:0,width:16,height:16}),Qo=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ow=Object.freeze({...cP,...Qo}),hP=Object.freeze({...ow,body:"",hidden:!1}),uP=Object.freeze({width:null,height:null}),fP=Object.freeze({...uP,...Qo}),dP=(e,t,r,n="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:n,prefix:l,name:o};return Rc(c)?c:null}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:n,prefix:a.shift(),name:a.join("-")};return Rc(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:s};return Rc(o,r)?o:null}return null},Rc=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function pP(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function Eg(e,t){const r=pP(e,t);for(const n in hP)n in Qo?n in e&&!(n in r)&&(r[n]=Qo[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function gP(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function s(a){if(r[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=n[a]&&n[a].parent,l=o&&s(o);l&&(i[a]=[o].concat(l))}return i[a]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function Lg(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let s={};function a(o){s=Eg(n[o]||i[o],s)}return a(t),r.forEach(a),Eg(e,s)}function mP(e,t){if(e.icons[t])return Lg(e,t,[]);const r=gP(e,[t])[t];return r?Lg(e,t,r):null}const yP=/(-?[0-9.]*[0-9]+[0-9.]*)/g,xP=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Bg(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(yP);if(n===null||!n.length)return e;const i=[];let s=n.shift(),a=xP.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*t*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");a=!a}}function bP(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),s=e.indexOf("</"+t);if(i===-1||s===-1)break;const a=e.indexOf(">",s);if(a===-1)break;r+=e.slice(i+1,s).trim(),e=e.slice(0,n).trim()+e.slice(a+1)}return{defs:r,content:e}}function wP(e,t){return e?"<defs>"+e+"</defs>"+t:t}function _P(e,t,r){const n=bP(e);return wP(n.defs,t+n.content+r)}const kP=e=>e==="unset"||e==="undefined"||e==="none";function CP(e,t){const r={...ow,...e},n={...fP,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(g=>{const x=[],y=g.hFlip,b=g.vFlip;let w=g.rotate;y?b?w+=2:(x.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),x.push("scale(-1 1)"),i.top=i.left=0):b&&(x.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),x.push("scale(1 -1)"),i.top=i.left=0);let k;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:k=i.height/2+i.top,x.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:x.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:k=i.width/2+i.left,x.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}w%2===1&&(i.left!==i.top&&(k=i.left,i.left=i.top,i.top=k),i.width!==i.height&&(k=i.width,i.width=i.height,i.height=k)),x.length&&(s=_P(s,'<g transform="'+x.join(" ")+'">',"</g>"))});const a=n.width,o=n.height,l=i.width,c=i.height;let h,u;a===null?(u=o===null?"1em":o==="auto"?c:o,h=Bg(u,l/c)):(h=a==="auto"?l:a,u=o===null?Bg(h,c/l):o==="auto"?c:o);const d={},f=(g,x)=>{kP(x)||(d[g]=x.toString())};f("width",h),f("height",u);const p=[i.left,i.top,l,c];return d.viewBox=p.join(" "),{attributes:d,viewBox:p,body:s}}const SP=/\sid="(\S+)"/g,vP="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let TP=0;function AP(e,t=vP){const r=[];let n;for(;n=SP.exec(e);)r.push(n[1]);if(!r.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(s=>{const a=typeof t=="function"?t(s):t+(TP++).toString(),o=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}function EP(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function Bf(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Hn=Bf();function lw(e){Hn=e}var Rs={exec:()=>null};function It(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(_e.caret,"$1"),r=r.replace(i,a),n},getRegex:()=>new RegExp(r,t)};return n}var _e={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},LP=/^(?:[ \t]*(?:\n|$))+/,BP=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,MP=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,pa=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,IP=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Mf=/(?:[*+-]|\d{1,9}[.)])/,cw=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,hw=It(cw).replace(/bull/g,Mf).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),$P=It(cw).replace(/bull/g,Mf).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),If=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,FP=/^[^\n]+/,$f=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,RP=It(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",$f).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),OP=It(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Mf).getRegex(),zl="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ff=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,PP=It("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ff).replace("tag",zl).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),uw=It(If).replace("hr",pa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zl).getRegex(),DP=It(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",uw).getRegex(),Rf={blockquote:DP,code:BP,def:RP,fences:MP,heading:IP,hr:pa,html:PP,lheading:hw,list:OP,newline:LP,paragraph:uw,table:Rs,text:FP},Mg=It("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",pa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zl).getRegex(),NP={...Rf,lheading:$P,table:Mg,paragraph:It(If).replace("hr",pa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Mg).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zl).getRegex()},zP={...Rf,html:It(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ff).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Rs,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:It(If).replace("hr",pa).replace("heading",` *#{1,6} *[^
]`).replace("lheading",hw).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},qP=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,WP=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,fw=/^( {2,}|\\)\n(?!\s*$)/,HP=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ql=/[\p{P}\p{S}]/u,Of=/[\s\p{P}\p{S}]/u,dw=/[^\s\p{P}\p{S}]/u,jP=It(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Of).getRegex(),pw=/(?!~)[\p{P}\p{S}]/u,UP=/(?!~)[\s\p{P}\p{S}]/u,VP=/(?:[^\s\p{P}\p{S}]|~)/u,YP=/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,gw=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,GP=It(gw,"u").replace(/punct/g,ql).getRegex(),XP=It(gw,"u").replace(/punct/g,pw).getRegex(),mw="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",KP=It(mw,"gu").replace(/notPunctSpace/g,dw).replace(/punctSpace/g,Of).replace(/punct/g,ql).getRegex(),QP=It(mw,"gu").replace(/notPunctSpace/g,VP).replace(/punctSpace/g,UP).replace(/punct/g,pw).getRegex(),JP=It("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,dw).replace(/punctSpace/g,Of).replace(/punct/g,ql).getRegex(),ZP=It(/\\(punct)/,"gu").replace(/punct/g,ql).getRegex(),tD=It(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),eD=It(Ff).replace("(?:-->|$)","-->").getRegex(),rD=It("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",eD).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Jo=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,nD=It(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Jo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),yw=It(/^!?\[(label)\]\[(ref)\]/).replace("label",Jo).replace("ref",$f).getRegex(),xw=It(/^!?\[(ref)\](?:\[\])?/).replace("ref",$f).getRegex(),iD=It("reflink|nolink(?!\\()","g").replace("reflink",yw).replace("nolink",xw).getRegex(),Pf={_backpedal:Rs,anyPunctuation:ZP,autolink:tD,blockSkip:YP,br:fw,code:WP,del:Rs,emStrongLDelim:GP,emStrongRDelimAst:KP,emStrongRDelimUnd:JP,escape:qP,link:nD,nolink:xw,punctuation:jP,reflink:yw,reflinkSearch:iD,tag:rD,text:HP,url:Rs},sD={...Pf,link:It(/^!?\[(label)\]\((.*?)\)/).replace("label",Jo).getRegex(),reflink:It(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Jo).getRegex()},Gh={...Pf,emStrongRDelimAst:QP,emStrongLDelim:XP,url:It(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},aD={...Gh,br:It(fw).replace("{2,}","*").getRegex(),text:It(Gh.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Oa={normal:Rf,gfm:NP,pedantic:zP},ns={normal:Pf,gfm:Gh,breaks:aD,pedantic:sD},oD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ig=e=>oD[e];function ur(e,t){if(t){if(_e.escapeTest.test(e))return e.replace(_e.escapeReplace,Ig)}else if(_e.escapeTestNoEncode.test(e))return e.replace(_e.escapeReplaceNoEncode,Ig);return e}function $g(e){try{e=encodeURI(e).replace(_e.percentDecode,"%")}catch{return null}return e}function Fg(e,t){let r=e.replace(_e.findPipe,(s,a,o)=>{let l=!1,c=a;for(;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),n=r.split(_e.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(_e.slashPipe,"|");return n}function is(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function lD(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function Rg(e,t,r,n,i){let s=t.href,a=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function cD(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(s=>{let a=s.match(r.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var Zo=class{options;rules;lexer;constructor(t){this.options=t||Hn}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:is(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],i=cD(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let i=is(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:is(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=is(r[0],`
`).split(`
`),i="",s="",a=[];for(;n.length>0;){let o=!1,l=[],c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),o=!0;else if(!o)l.push(n[c]);else break;n=n.slice(c);let h=l.join(`
`),u=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${h}`:h,s=s?`${s}
${u}`:u;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,a,!0),this.lexer.state.top=d,n.length===0)break;let f=a.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){let p=f,g=p.raw+`
`+n.join(`
`),x=this.blockquote(g);a[a.length-1]=x,i=i.substring(0,i.length-p.raw.length)+x.raw,s=s.substring(0,s.length-p.text.length)+x.text;break}else if(f?.type==="list"){let p=f,g=p.raw+`
`+n.join(`
`),x=this.list(g);a[a.length-1]=x,i=i.substring(0,i.length-f.raw.length)+x.raw,s=s.substring(0,s.length-p.raw.length)+x.raw,n=g.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim(),i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let a=this.rules.other.listItemRegex(n),o=!1;for(;t;){let c=!1,h="",u="";if(!(r=a.exec(t))||this.rules.block.hr.test(t))break;h=r[0],t=t.substring(h.length);let d=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),f=t.split(`
`,1)[0],p=!d.trim(),g=0;if(this.options.pedantic?(g=2,u=d.trimStart()):p?g=r[1].length+1:(g=r[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,u=d.slice(g),g+=r[1].length),p&&this.rules.other.blankLine.test(f)&&(h+=f+`
`,t=t.substring(f.length+1),c=!0),!c){let b=this.rules.other.nextBulletRegex(g),w=this.rules.other.hrRegex(g),k=this.rules.other.fencesBeginRegex(g),S=this.rules.other.headingBeginRegex(g),_=this.rules.other.htmlBeginRegex(g);for(;t;){let A=t.split(`
`,1)[0],F;if(f=A,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),F=f):F=f.replace(this.rules.other.tabCharGlobal,"    "),k.test(f)||S.test(f)||_.test(f)||b.test(f)||w.test(f))break;if(F.search(this.rules.other.nonSpaceChar)>=g||!f.trim())u+=`
`+F.slice(g);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(d)||S.test(d)||w.test(d))break;u+=`
`+f}!p&&!f.trim()&&(p=!0),h+=A+`
`,t=t.substring(A.length+1),d=F.slice(g)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(o=!0));let x=null,y;this.options.gfm&&(x=this.rules.other.listIsTask.exec(u),x&&(y=x[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:h,task:!!x,checked:y,loose:!1,text:u,tokens:[]}),s.raw+=h}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let h=s.items[c].tokens.filter(d=>d.type==="space"),u=h.length>0&&h.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=u}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:s}}}table(t){let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=Fg(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=r[3]?.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let o of i)this.rules.other.tableAlignRight.test(o)?a.align.push("right"):this.rules.other.tableAlignCenter.test(o)?a.align.push("center"):this.rules.other.tableAlignLeft.test(o)?a.align.push("left"):a.align.push(null);for(let o=0;o<n.length;o++)a.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:a.align[o]});for(let o of s)a.rows.push(Fg(o,a.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[c]})));return a}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let a=is(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{let a=lD(r[2],"()");if(a===-2)return;if(a>-1){let o=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,o).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),Rg(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[i.toLowerCase()];if(!s){let a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return Rg(n,s,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...i[0]].length-1,a,o,l=s,c=0,h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);(i=h.exec(r))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){l+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+c);let u=[...i[0]][0].length,d=t.slice(0,s+i.index+u+o);if(Math.min(s,o)%2){let p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}let f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,i;if(r[2]==="@")n=r[0],i="mailto:"+n;else{let s;do s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(s!==r[0]);n=r[0],r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},$r=class Xh{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Hn,this.options.tokenizer=this.options.tokenizer||new Zo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:_e,block:Oa.normal,inline:ns.normal};this.options.pedantic?(r.block=Oa.pedantic,r.inline=ns.pedantic):this.options.gfm&&(r.block=Oa.gfm,this.options.breaks?r.inline=ns.breaks:r.inline=ns.gfm),this.tokenizer.rules=r}static get rules(){return{block:Oa,inline:ns}}static lex(t,r){return new Xh(r).lex(t)}static lexInline(t,r){return new Xh(r).inlineTokens(t)}lex(t){t=t.replace(_e.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){for(this.options.pedantic&&(t=t.replace(_e.tabCharGlobal,"    ").replace(_e.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(a=>(i=a.call({lexer:this},t,r))?(t=t.substring(i.raw.length),r.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let a=r.at(-1);i.raw.length===1&&a!==void 0?a.raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.at(-1).src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},r.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),r.push(i);continue}let s=t;if(this.options.extensions?.startBlock){let a=1/0,o=t.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},o),typeof l=="number"&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(s=t.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let a=r.at(-1);n&&a?.type==="paragraph"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(i),n=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(i);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n=t,i=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)o.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,a="";for(;t;){s||(a=""),s=!1;let o;if(this.options.extensions?.inline?.some(c=>(o=c.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length);let c=r.at(-1);o.type==="text"&&c?.type==="text"?(c.raw+=o.raw,c.text+=o.text):r.push(o);continue}if(o=this.tokenizer.emStrong(t,n,a)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.autolink(t)){t=t.substring(o.raw.length),r.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t))){t=t.substring(o.raw.length),r.push(o);continue}let l=t;if(this.options.extensions?.startInline){let c=1/0,h=t.slice(1),u;this.options.extensions.startInline.forEach(d=>{u=d.call({lexer:this},h),typeof u=="number"&&u>=0&&(c=Math.min(c,u))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(o=this.tokenizer.inlineText(l)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(a=o.raw.slice(-1)),s=!0;let c=r.at(-1);c?.type==="text"?(c.raw+=o.raw,c.text+=o.text):r.push(o);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return r}},tl=class{options;parser;constructor(t){this.options=t||Hn}space(t){return""}code({text:t,lang:r,escaped:n}){let i=(r||"").match(_e.notSpaceStart)?.[0],s=t.replace(_e.endingNewline,"")+`
`;return i?'<pre><code class="language-'+ur(i)+'">'+(n?s:ur(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:ur(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,i="";for(let o=0;o<t.items.length;o++){let l=t.items[o];i+=this.listitem(l)}let s=r?"ol":"ul",a=r&&n!==1?' start="'+n+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(t){let r="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+ur(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);r+=this.tablerow({text:n});let i="";for(let s=0;s<t.rows.length;s++){let a=t.rows[s];n="";for(let o=0;o<a.length;o++)n+=this.tablecell(a[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${ur(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let i=this.parser.parseInline(n),s=$g(t);if(s===null)return i;t=s;let a='<a href="'+t+'"';return r&&(a+=' title="'+ur(r)+'"'),a+=">"+i+"</a>",a}image({href:t,title:r,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let s=$g(t);if(s===null)return ur(n);t=s;let a=`<img src="${t}" alt="${n}"`;return r&&(a+=` title="${ur(r)}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:ur(t.text)}},Df=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Fr=class Kh{options;renderer;textRenderer;constructor(t){this.options=t||Hn,this.options.renderer=this.options.renderer||new tl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Df}static parse(t,r){return new Kh(r).parse(t)}static parseInline(t,r){return new Kh(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=l||"";continue}}let a=s;switch(a.type){case"space":{n+=this.renderer.space(a);continue}case"hr":{n+=this.renderer.hr(a);continue}case"heading":{n+=this.renderer.heading(a);continue}case"code":{n+=this.renderer.code(a);continue}case"table":{n+=this.renderer.table(a);continue}case"blockquote":{n+=this.renderer.blockquote(a);continue}case"list":{n+=this.renderer.list(a);continue}case"html":{n+=this.renderer.html(a);continue}case"def":{n+=this.renderer.def(a);continue}case"paragraph":{n+=this.renderer.paragraph(a);continue}case"text":{let o=a,l=this.renderer.text(o);for(;i+1<t.length&&t[i+1].type==="text";)o=t[++i],l+=`
`+this.renderer.text(o);r?n+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):n+=l;continue}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(t,r=this.renderer){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=o||"";continue}}let a=s;switch(a.type){case"escape":{n+=r.text(a);break}case"html":{n+=r.html(a);break}case"link":{n+=r.link(a);break}case"image":{n+=r.image(a);break}case"strong":{n+=r.strong(a);break}case"em":{n+=r.em(a);break}case"codespan":{n+=r.codespan(a);break}case"br":{n+=r.br(a);break}case"del":{n+=r.del(a);break}case"text":{n+=r.text(a);break}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},ds=class{options;block;constructor(t){this.options=t||Hn}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?$r.lex:$r.lexInline}provideParser(){return this.block?Fr.parse:Fr.parseInline}},hD=class{defaults=Bf();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Fr;Renderer=tl;TextRenderer=Df;Lexer=$r;Tokenizer=Zo;Hooks=ds;constructor(...t){this.use(...t)}walkTokens(t,r){let n=[];for(let i of t)switch(n=n.concat(r.call(this,i)),i.type){case"table":{let s=i;for(let a of s.header)n=n.concat(this.walkTokens(a.tokens,r));for(let a of s.rows)for(let o of a)n=n.concat(this.walkTokens(o.tokens,r));break}case"list":{let s=i;n=n.concat(this.walkTokens(s.items,r));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(a=>{let o=s[a].flat(1/0);n=n.concat(this.walkTokens(o,r))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,r)))}}return n}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let a=r.renderers[s.name];a?r.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=r[s.level];a?a.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),n.renderer){let s=this.defaults.renderer||new tl(this.defaults);for(let a in n.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let o=a,l=n.renderer[o],c=s[o];s[o]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=c.apply(s,h)),u||""}}i.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Zo(this.defaults);for(let a in n.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,l=n.tokenizer[o],c=s[o];s[o]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=c.apply(s,h)),u}}i.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new ds;for(let a in n.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let o=a,l=n.hooks[o],c=s[o];ds.passThroughHooks.has(a)?s[o]=h=>{if(this.defaults.async&&ds.passThroughHooksRespectAsync.has(a))return Promise.resolve(l.call(s,h)).then(d=>c.call(s,d));let u=l.call(s,h);return c.call(s,u)}:s[o]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=c.apply(s,h)),u}}i.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,a=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(a.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return $r.lex(t,r??this.defaults)}parser(t,r){return Fr.parse(t,r??this.defaults)}parseMarkdown(t){return(r,n)=>{let i={...n},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let o=s.hooks?s.hooks.provideLexer():t?$r.lex:$r.lexInline,l=s.hooks?s.hooks.provideParser():t?Fr.parse:Fr.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(c=>o(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>l(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let c=o(r,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let h=l(c,s);return s.hooks&&(h=s.hooks.postprocess(h)),h}catch(c){return a(c)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+ur(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}},Fn=new hD;function Bt(e,t){return Fn.parse(e,t)}Bt.options=Bt.setOptions=function(e){return Fn.setOptions(e),Bt.defaults=Fn.defaults,lw(Bt.defaults),Bt};Bt.getDefaults=Bf;Bt.defaults=Hn;Bt.use=function(...e){return Fn.use(...e),Bt.defaults=Fn.defaults,lw(Bt.defaults),Bt};Bt.walkTokens=function(e,t){return Fn.walkTokens(e,t)};Bt.parseInline=Fn.parseInline;Bt.Parser=Fr;Bt.parser=Fr.parse;Bt.Renderer=tl;Bt.TextRenderer=Df;Bt.Lexer=$r;Bt.lexer=$r.lex;Bt.Tokenizer=Zo;Bt.Hooks=ds;Bt.parse=Bt;Bt.options;Bt.setOptions;Bt.use;Bt.walkTokens;Bt.parseInline;Fr.parse;$r.lex;function bw(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(h){var u,d;return(d=(u=h.match(/[\t ]/g))===null||u===void 0?void 0:u.length)!==null&&d!==void 0?d:0})):o},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(o,l){var c=a.match(/(?:^|\n)( *)$/),h=c?c[1]:"",u=o;typeof o=="string"&&o.includes(`
`)&&(u=String(o).split(`
`).map(function(d,f){return f===0?d:""+h+d}).join(`
`)),a+=u+n[l+1]}),a}var uD={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Qh=new Map,ww=new Map,fD=m(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(N.debug("Registering icon pack:",t.name),"loader"in t)ww.set(t.name,t.loader);else if("icons"in t)Qh.set(t.name,t.icons);else throw N.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),_w=m(async(e,t)=>{const r=dP(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let i=Qh.get(n);if(!i){const a=ww.get(n);if(!a)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await a(),prefix:n},Qh.set(n,i)}catch(o){throw N.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const s=mP(i,r.name);if(!s)throw new Error(`Icon not found: ${e}`);return s},"getRegisteredIconData"),dD=m(async e=>{try{return await _w(e),!0}catch{return!1}},"isIconAvailable"),ga=m(async(e,t,r)=>{let n;try{n=await _w(e,t?.fallbackPrefix)}catch(a){N.error(a),n=uD}const i=CP(n,t),s=EP(AP(i.body),{...i.attributes,...r});return Xe(s,he())},"getIconSVG");function kw(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=bw(n);return t===!1?i.replace(/ /g,"&nbsp;"):i}m(kw,"preprocessMarkdown");function Cw(e,t={}){const r=kw(e,t),n=Bt.lexer(r),i=[[]];let s=0;function a(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((h,u)=>{u!==0&&(s++,i.push([])),h.split(" ").forEach(d=>{d=d.replace(/&#39;/g,"'"),d&&i[s].push({content:d,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(c=>{a(c,o.type)}):o.type==="html"&&i[s].push({content:o.text,type:"normal"})}return m(a,"processNode"),n.forEach(o=>{o.type==="paragraph"?o.tokens?.forEach(l=>{a(l)}):o.type==="html"?i[s].push({content:o.text,type:"normal"}):i[s].push({content:o.raw,type:"normal"})}),i}m(Cw,"markdownToLines");function Sw(e,{markdownAutoWrap:t}={}){const r=Bt.lexer(e);function n(i){return i.type==="text"?t===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${i.tokens?.map(n).join("")}</strong>`:i.type==="em"?`<em>${i.tokens?.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${i.tokens?.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(N.warn(`Unsupported markdown: ${i.type}`),i.raw)}return m(n,"output"),r.map(n).join("")}m(Sw,"markdownToHTML");function vw(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}m(vw,"splitTextToChars");function Tw(e,t){const r=vw(t.content);return Nf(e,[],r,t.type)}m(Tw,"splitWordToFitWidth");function Nf(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];const[i,...s]=r,a=[...t,i];return e([{content:a.join(""),type:n}])?Nf(e,a,s,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}m(Nf,"splitWordToFitWidthRecursion");function Aw(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return el(e,t)}m(Aw,"splitLineToFitWidth");function el(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());const s=e.shift()??{content:" ",type:"normal"},a=[...n];if(i!==""&&a.push({content:i,type:"normal"}),a.push(s),t(a))return el(e,t,r,a);if(n.length>0)r.push(n),e.unshift(s);else if(s.content){const[o,l]=Tw(t,s);r.push([o]),l.content&&e.unshift(l)}return el(e,t,r)}m(el,"splitLineToFitWidthRecursion");function Jh(e,t){t&&e.attr("style",t)}m(Jh,"applyStyle");async function Ew(e,t,r,n,i=!1,s=he()){const a=e.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const o=a.append("xhtml:div"),l=Ti(t.label)?await Yu(t.label.replace(Ri.lineBreakRegex,`
`),s):Xe(t.label,s),c=t.isNode?"nodeLabel":"edgeLabel",h=o.append("span");h.html(l),Jh(h,t.labelStyle),h.attr("class",`${c} ${n}`),Jh(o,t.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",r+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&o.attr("class","labelBkg");let u=o.node().getBoundingClientRect();return u.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),u=o.node().getBoundingClientRect()),a.node()}m(Ew,"addHtmlSpan");function Wl(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}m(Wl,"createTspan");function Lw(e,t,r){const n=e.append("text"),i=Wl(n,1,t);Hl(i,r);const s=i.node().getComputedTextLength();return n.remove(),s}m(Lw,"computeWidthOfText");function pD(e,t,r){const n=e.append("text"),i=Wl(n,1,t);Hl(i,[{content:r,type:"normal"}]);const s=i.node()?.getBoundingClientRect();return s&&n.remove(),s}m(pD,"computeDimensionOfText");function Bw(e,t,r,n=!1){const s=t.append("g"),a=s.insert("rect").attr("class","background").attr("style","stroke: none"),o=s.append("text").attr("y","-10.1");let l=0;for(const c of r){const h=m(d=>Lw(s,1.1,d)<=e,"checkWidth"),u=h(c)?[c]:Aw(c,h);for(const d of u){const f=Wl(o,l,1.1);Hl(f,d),l++}}if(n){const c=o.node().getBBox(),h=2;return a.attr("x",c.x-h).attr("y",c.y-h).attr("width",c.width+2*h).attr("height",c.height+2*h),s.node()}else return o.node()}m(Bw,"createFormattedText");function Hl(e,t){e.text(""),t.forEach((r,n)=>{const i=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}m(Hl,"updateTextContentAndStyles");async function Mw(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,a)=>(r.push((async()=>{const o=`${s}:${a}`;return await dD(o)?await ga(o,void 0,{class:"label-icon"}):`<i class='${Xe(i,t).replace(":"," ")}'></i>`})()),i));const n=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}m(Mw,"replaceIconSubstring");var sn=m(async(e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:s=!0,isNode:a=!0,width:o=200,addSvgBackground:l=!1}={},c)=>{if(N.debug("XYZ createText",t,r,n,i,s,a,"addSvgBackground: ",l),s){const h=Sw(t,c),u=await Mw(Wn(h),c),d=t.replace(/\\\\/g,"\\"),f={isNode:a,label:Ti(t)?d:u,labelStyle:r.replace("fill:","color:")};return await Ew(e,f,o,i,l,c)}else{const h=t.replace(/<br\s*\/?>/g,"<br/>"),u=Cw(h.replace("<br>","<br/>"),c),d=Bw(o,e,u,t?l:!1);if(a){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");St(d).attr("style",f)}else{const f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");St(d).select("rect").attr("style",f.replace(/background:/g,"fill:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");St(d).select("text").attr("style",p)}return d}},"createText");function Oc(e,t,r){if(e&&e.length){const[n,i]=t,s=Math.PI/180*r,a=Math.cos(s),o=Math.sin(s);for(const l of e){const[c,h]=l;l[0]=(c-n)*a-(h-i)*o+n,l[1]=(c-n)*o+(h-i)*a+i}}}function gD(e,t){return e[0]===t[0]&&e[1]===t[1]}function mD(e,t,r,n=1){const i=r,s=Math.max(t,.1),a=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(i)for(const c of a)Oc(c,o,i);const l=(function(c,h,u){const d=[];for(const b of c){const w=[...b];gD(w[0],w[w.length-1])||w.push([w[0][0],w[0][1]]),w.length>2&&d.push(w)}const f=[];h=Math.max(h,.1);const p=[];for(const b of d)for(let w=0;w<b.length-1;w++){const k=b[w],S=b[w+1];if(k[1]!==S[1]){const _=Math.min(k[1],S[1]);p.push({ymin:_,ymax:Math.max(k[1],S[1]),x:_===k[1]?k[0]:S[0],islope:(S[0]-k[0])/(S[1]-k[1])})}}if(p.sort(((b,w)=>b.ymin<w.ymin?-1:b.ymin>w.ymin?1:b.x<w.x?-1:b.x>w.x?1:b.ymax===w.ymax?0:(b.ymax-w.ymax)/Math.abs(b.ymax-w.ymax))),!p.length)return f;let g=[],x=p[0].ymin,y=0;for(;g.length||p.length;){if(p.length){let b=-1;for(let w=0;w<p.length&&!(p[w].ymin>x);w++)b=w;p.splice(0,b+1).forEach((w=>{g.push({s:x,edge:w})}))}if(g=g.filter((b=>!(b.edge.ymax<=x))),g.sort(((b,w)=>b.edge.x===w.edge.x?0:(b.edge.x-w.edge.x)/Math.abs(b.edge.x-w.edge.x))),(u!==1||y%h==0)&&g.length>1)for(let b=0;b<g.length;b+=2){const w=b+1;if(w>=g.length)break;const k=g[b].edge,S=g[w].edge;f.push([[Math.round(k.x),x],[Math.round(S.x),x]])}x+=u,g.forEach((b=>{b.edge.x=b.edge.x+u*b.edge.islope})),y++}return f})(a,s,n);if(i){for(const c of a)Oc(c,o,-i);(function(c,h,u){const d=[];c.forEach((f=>d.push(...f))),Oc(d,h,u)})(l,o,-i)}return l}function ma(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),mD(e,i,n,s||1)}class zf{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=ma(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function jl(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class yD extends zf{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=ma(t,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,a=[],o=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[c,h]of i)jl([c,h])&&a.push([[c[0]-o,c[1]+l],[...h]],[[c[0]+o,c[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,r)}}}class xD extends zf{fillPolygons(t,r){const n=this._fillPolygons(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(t,i);return n.ops=n.ops.concat(s.ops),n}}class bD{constructor(t){this.helper=t}fillPolygons(t,r){const n=ma(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const a=i/4;for(const o of t){const l=jl(o),c=l/i,h=Math.ceil(c)-1,u=l-h*i,d=(o[0][0]+o[1][0])/2-i/4,f=Math.min(o[0][1],o[1][1]);for(let p=0;p<h;p++){const g=f+u+p*i,x=d-a+2*Math.random()*a,y=g-a+2*Math.random()*a,b=this.helper.ellipse(x,y,s,s,r);n.push(...b.ops)}}return{type:"fillSketch",ops:n}}}class wD{constructor(t){this.helper=t}fillPolygons(t,r){const n=ma(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return t.forEach((a=>{const o=jl(a),l=Math.floor(o/(n+i)),c=(o+i-l*(n+i))/2;let h=a[0],u=a[1];h[0]>u[0]&&(h=a[1],u=a[0]);const d=Math.atan((u[1]-h[1])/(u[0]-h[0]));for(let f=0;f<l;f++){const p=f*(n+i),g=p+n,x=[h[0]+p*Math.cos(d)+c*Math.cos(d),h[1]+p*Math.sin(d)+c*Math.sin(d)],y=[h[0]+g*Math.cos(d)+c*Math.cos(d),h[1]+g*Math.sin(d)+c*Math.sin(d)];s.push(...this.helper.doubleLineOps(x[0],x[1],y[0],y[1],r))}})),s}}class _D{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=ma(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(t,r,n){const i=[];return t.forEach((s=>{const a=jl(s),o=Math.round(a/(2*r));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const h=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let u=0;u<o;u++){const d=2*u*r,f=2*(u+1)*r,p=Math.sqrt(2*Math.pow(r,2)),g=[l[0]+d*Math.cos(h),l[1]+d*Math.sin(h)],x=[l[0]+f*Math.cos(h),l[1]+f*Math.sin(h)],y=[g[0]+p*Math.cos(h+Math.PI/4),g[1]+p*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],n),...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],n))}})),i}}const Ee={};class kD{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const CD=0,Pc=1,Og=2,Pa={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Dc(e,t){return e.type===t}function qf(e){const t=[],r=(function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:CD,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:Pc,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:Og,text:""},o})(e);let n="BOD",i=0,s=r[i];for(;!Dc(s,Og);){let a=0;const o=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return qf("M0,0"+e);i++,a=Pa[s.text],n=s.text}else Dc(s,Pc)?a=Pa[n]:(i++,a=Pa[s.text],n=s.text);if(!(i+a<r.length))throw new Error("Path data ended short");for(let l=i;l<i+a;l++){const c=r[l];if(!Dc(c,Pc))throw new Error("Param not a number: "+n+","+c.text);o[o.length]=+c.text}if(typeof Pa[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};t.push(l),i+=a,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function Iw(e){let t=0,r=0,n=0,i=0;const s=[];for(const{key:a,data:o}of e)switch(a){case"M":s.push({key:"M",data:[...o]}),[t,r]=o,[n,i]=o;break;case"m":t+=o[0],r+=o[1],s.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":s.push({key:"L",data:[...o]}),[t,r]=o;break;case"l":t+=o[0],r+=o[1],s.push({key:"L",data:[t,r]});break;case"C":s.push({key:"C",data:[...o]}),t=o[4],r=o[5];break;case"c":{const l=o.map(((c,h)=>h%2?c+r:c+t));s.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...o]}),t=o[2],r=o[3];break;case"q":{const l=o.map(((c,h)=>h%2?c+r:c+t));s.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...o]}),t=o[5],r=o[6];break;case"a":t+=o[5],r+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,r]});break;case"H":s.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...o]}),t=o[2],r=o[3];break;case"s":{const l=o.map(((c,h)=>h%2?c+r:c+t));s.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...o]}),t=o[0],r=o[1];break;case"t":t+=o[0],r+=o[1],s.push({key:"T",data:[t,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=n,r=i}return s}function $w(e){const t=[];let r="",n=0,i=0,s=0,a=0,o=0,l=0;for(const{key:c,data:h}of e){switch(c){case"M":t.push({key:"M",data:[...h]}),[n,i]=h,[s,a]=h;break;case"C":t.push({key:"C",data:[...h]}),n=h[4],i=h[5],o=h[2],l=h[3];break;case"L":t.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],t.push({key:"L",data:[n,i]});break;case"V":i=h[0],t.push({key:"L",data:[n,i]});break;case"S":{let u=0,d=0;r==="C"||r==="S"?(u=n+(n-o),d=i+(i-l)):(u=n,d=i),t.push({key:"C",data:[u,d,...h]}),o=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[u,d]=h;let f=0,p=0;r==="Q"||r==="T"?(f=n+(n-o),p=i+(i-l)):(f=n,p=i);const g=n+2*(f-n)/3,x=i+2*(p-i)/3,y=u+2*(f-u)/3,b=d+2*(p-d)/3;t.push({key:"C",data:[g,x,y,b,u,d]}),o=f,l=p,n=u,i=d;break}case"Q":{const[u,d,f,p]=h,g=n+2*(u-n)/3,x=i+2*(d-i)/3,y=f+2*(u-f)/3,b=p+2*(d-p)/3;t.push({key:"C",data:[g,x,y,b,f,p]}),o=u,l=d,n=f,i=p;break}case"A":{const u=Math.abs(h[0]),d=Math.abs(h[1]),f=h[2],p=h[3],g=h[4],x=h[5],y=h[6];u===0||d===0?(t.push({key:"C",data:[n,i,x,y,x,y]}),n=x,i=y):(n!==x||i!==y)&&(Fw(n,i,x,y,u,d,f,p,g).forEach((function(b){t.push({key:"C",data:b})})),n=x,i=y);break}case"Z":t.push({key:"Z",data:[]}),n=s,i=a}r=c}return t}function ss(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function Fw(e,t,r,n,i,s,a,o,l,c){const h=(u=a,Math.PI*u/180);var u;let d=[],f=0,p=0,g=0,x=0;if(c)[f,p,g,x]=c;else{[e,t]=ss(e,t,-h),[r,n]=ss(r,n,-h);const I=(e-r)/2,M=(t-n)/2;let D=I*I/(i*i)+M*M/(s*s);D>1&&(D=Math.sqrt(D),i*=D,s*=D);const z=i*i,U=s*s,Y=z*U-z*M*M-U*I*I,Tt=z*M*M+U*I*I,T=(o===l?-1:1)*Math.sqrt(Math.abs(Y/Tt));g=T*i*M/s+(e+r)/2,x=T*-s*I/i+(t+n)/2,f=Math.asin(parseFloat(((t-x)/s).toFixed(9))),p=Math.asin(parseFloat(((n-x)/s).toFixed(9))),e<g&&(f=Math.PI-f),r<g&&(p=Math.PI-p),f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),l&&f>p&&(f-=2*Math.PI),!l&&p>f&&(p-=2*Math.PI)}let y=p-f;if(Math.abs(y)>120*Math.PI/180){const I=p,M=r,D=n;p=l&&p>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,d=Fw(r=g+i*Math.cos(p),n=x+s*Math.sin(p),M,D,i,s,a,0,l,[p,I,g,x])}y=p-f;const b=Math.cos(f),w=Math.sin(f),k=Math.cos(p),S=Math.sin(p),_=Math.tan(y/4),A=4/3*i*_,F=4/3*s*_,R=[e,t],v=[e+A*w,t-F*b],L=[r+A*S,n-F*k],O=[r,n];if(v[0]=2*R[0]-v[0],v[1]=2*R[1]-v[1],c)return[v,L,O].concat(d);{d=[v,L,O].concat(d);const I=[];for(let M=0;M<d.length;M+=3){const D=ss(d[M][0],d[M][1],h),z=ss(d[M+1][0],d[M+1][1],h),U=ss(d[M+2][0],d[M+2][1],h);I.push([D[0],D[1],z[0],z[1],U[0],U[1]])}return I}}const SD={randOffset:function(e,t){return ht(e,t)},randOffsetWithRange:function(e,t,r){return rl(e,t,r)},ellipse:function(e,t,r,n,i){const s=Ow(r,n,i);return Zh(e,t,i,s).opset},doubleLineOps:function(e,t,r,n,i){return tn(e,t,r,n,i,!0)}};function Rw(e,t,r,n,i){return{type:"path",ops:tn(e,t,r,n,i)}}function oo(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...tn(e[s][0],e[s][1],e[s+1][0],e[s+1][1],r));return t&&i.push(...tn(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?Rw(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function vD(e,t,r,n,i){return(function(s,a){return oo(s,!0,a)})([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function Pg(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=Da(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:Da(r[0],1.5*(1+.22*t.roughness),zg(t));for(let s=1;s<r.length;s++){const a=r[s];if(a.length){const o=Da(a,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:Da(a,1.5*(1+.22*t.roughness),zg(t));for(const c of o)c.op!=="move"&&n.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function Ow(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let a=Math.abs(e/2),o=Math.abs(t/2);const l=1-r.curveFitting;return a+=ht(a*l,r),o+=ht(o*l,r),{increment:s,rx:a,ry:o}}function Zh(e,t,r,n){const[i,s]=qg(n.increment,e,t,n.rx,n.ry,1,n.increment*rl(.1,rl(.4,1,r),r),r);let a=nl(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=qg(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=nl(o,null,r);a=a.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function Dg(e,t,r,n,i,s,a,o,l){const c=e,h=t;let u=Math.abs(r/2),d=Math.abs(n/2);u+=ht(.01*u,l),d+=ht(.01*d,l);let f=i,p=s;for(;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);const g=2*Math.PI/l.curveStepCount,x=Math.min(g/2,(p-f)/2),y=Wg(x,c,h,u,d,f,p,1,l);if(!l.disableMultiStroke){const b=Wg(x,c,h,u,d,f,p,1.5,l);y.push(...b)}return a&&(o?y.push(...tn(c,h,c+u*Math.cos(f),h+d*Math.sin(f),l),...tn(c,h,c+u*Math.cos(p),h+d*Math.sin(p),l)):y.push({op:"lineTo",data:[c,h]},{op:"lineTo",data:[c+u*Math.cos(f),h+d*Math.sin(f)]})),{type:"path",ops:y}}function Ng(e,t){const r=$w(Iw(qf(e))),n=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of r)switch(a){case"M":s=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...tn(s[0],s[1],o[0],o[1],t)),s=[o[0],o[1]];break;case"C":{const[l,c,h,u,d,f]=o;n.push(...TD(l,c,h,u,d,f,s,t)),s=[d,f];break}case"Z":n.push(...tn(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]]}return{type:"path",ops:n}}function Nc(e,t){const r=[];for(const n of e)if(n.length){const i=t.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+ht(i,t),n[0][1]+ht(i,t)]});for(let a=1;a<s;a++)r.push({op:"lineTo",data:[n[a][0]+ht(i,t),n[a][1]+ht(i,t)]})}}return{type:"fillPath",ops:r}}function Zn(e,t){return(function(r,n){let i=r.fillStyle||"hachure";if(!Ee[i])switch(i){case"zigzag":Ee[i]||(Ee[i]=new yD(n));break;case"cross-hatch":Ee[i]||(Ee[i]=new xD(n));break;case"dots":Ee[i]||(Ee[i]=new bD(n));break;case"dashed":Ee[i]||(Ee[i]=new wD(n));break;case"zigzag-line":Ee[i]||(Ee[i]=new _D(n));break;default:i="hachure",Ee[i]||(Ee[i]=new zf(n))}return Ee[i]})(t,SD).fillPolygons(e,t)}function zg(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function Pw(e){return e.randomizer||(e.randomizer=new kD(e.seed||0)),e.randomizer.next()}function rl(e,t,r,n=1){return r.roughness*n*(Pw(r)*(t-e)+e)}function ht(e,t,r=1){return rl(-e,e,t,r)}function tn(e,t,r,n,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=tu(e,t,r,n,i,!0,!1);if(a)return o;const l=tu(e,t,r,n,i,!0,!0);return o.concat(l)}function tu(e,t,r,n,i,s,a){const o=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(o);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const u=h/2,d=.2+.2*Pw(i);let f=i.bowing*i.maxRandomnessOffset*(n-t)/200,p=i.bowing*i.maxRandomnessOffset*(e-r)/200;f=ht(f,i,c),p=ht(p,i,c);const g=[],x=()=>ht(u,i,c),y=()=>ht(h,i,c),b=i.preserveVertices;return a?g.push({op:"move",data:[e+(b?0:x()),t+(b?0:x())]}):g.push({op:"move",data:[e+(b?0:ht(h,i,c)),t+(b?0:ht(h,i,c))]}),a?g.push({op:"bcurveTo",data:[f+e+(r-e)*d+x(),p+t+(n-t)*d+x(),f+e+2*(r-e)*d+x(),p+t+2*(n-t)*d+x(),r+(b?0:x()),n+(b?0:x())]}):g.push({op:"bcurveTo",data:[f+e+(r-e)*d+y(),p+t+(n-t)*d+y(),f+e+2*(r-e)*d+y(),p+t+2*(n-t)*d+y(),r+(b?0:y()),n+(b?0:y())]}),g}function Da(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+ht(t,r),e[0][1]+ht(t,r)]),n.push([e[0][0]+ht(t,r),e[0][1]+ht(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+ht(t,r),e[i][1]+ht(t,r)]),i===e.length-1&&n.push([e[i][0]+ht(t,r),e[i][1]+ht(t,r)]);return nl(n,null,r)}function nl(e,t,r){const n=e.length,i=[];if(n>3){const s=[],a=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<n;o++){const l=e[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*e[o+1][0]-a*e[o-1][0])/6,l[1]+(a*e[o+1][1]-a*e[o-1][1])/6],s[2]=[e[o+1][0]+(a*e[o][0]-a*e[o+2][0])/6,e[o+1][1]+(a*e[o][1]-a*e[o+2][1])/6],s[3]=[e[o+1][0],e[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...tu(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function qg(e,t,r,n,i,s,a,o){const l=[],c=[];if(o.roughness===0){e/=4,c.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let h=0;h<=2*Math.PI;h+=e){const u=[t+n*Math.cos(h),r+i*Math.sin(h)];l.push(u),c.push(u)}c.push([t+n*Math.cos(0),r+i*Math.sin(0)]),c.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const h=ht(.5,o)-Math.PI/2;c.push([ht(s,o)+t+.9*n*Math.cos(h-e),ht(s,o)+r+.9*i*Math.sin(h-e)]);const u=2*Math.PI+h-.01;for(let d=h;d<u;d+=e){const f=[ht(s,o)+t+n*Math.cos(d),ht(s,o)+r+i*Math.sin(d)];l.push(f),c.push(f)}c.push([ht(s,o)+t+n*Math.cos(h+2*Math.PI+.5*a),ht(s,o)+r+i*Math.sin(h+2*Math.PI+.5*a)]),c.push([ht(s,o)+t+.98*n*Math.cos(h+a),ht(s,o)+r+.98*i*Math.sin(h+a)]),c.push([ht(s,o)+t+.9*n*Math.cos(h+.5*a),ht(s,o)+r+.9*i*Math.sin(h+.5*a)])}return[c,l]}function Wg(e,t,r,n,i,s,a,o,l){const c=s+ht(.1,l),h=[];h.push([ht(o,l)+t+.9*n*Math.cos(c-e),ht(o,l)+r+.9*i*Math.sin(c-e)]);for(let u=c;u<=a;u+=e)h.push([ht(o,l)+t+n*Math.cos(u),ht(o,l)+r+i*Math.sin(u)]);return h.push([t+n*Math.cos(a),r+i*Math.sin(a)]),h.push([t+n*Math.cos(a),r+i*Math.sin(a)]),nl(h,null,l)}function TD(e,t,r,n,i,s,a,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const u=o.disableMultiStroke?1:2,d=o.preserveVertices;for(let f=0;f<u;f++)f===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(d?0:ht(c[0],o)),a[1]+(d?0:ht(c[0],o))]}),h=d?[i,s]:[i+ht(c[f],o),s+ht(c[f],o)],l.push({op:"bcurveTo",data:[e+ht(c[f],o),t+ht(c[f],o),r+ht(c[f],o),n+ht(c[f],o),h[0],h[1]]});return l}function as(e){return[...e]}function Hg(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(as(e[0]),as(e[1]),as(e[2]),as(e[2]));else{const i=[];i.push(e[0],e[0]);for(let o=1;o<e.length;o++)i.push(e[o]),o===e.length-1&&i.push(e[o]);const s=[],a=1-t;n.push(as(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*i[o+1][0]-a*i[o-1][0])/6,l[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],n.push(s[1],s[2],s[3])}}return n}function lo(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function AD(e,t,r){const n=lo(t,r);if(n===0)return lo(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),lo(e,gn(t,r,i))}function gn(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function eu(e,t,r,n){const i=n||[];if((function(o,l){const c=o[l+0],h=o[l+1],u=o[l+2],d=o[l+3];let f=3*h[0]-2*c[0]-d[0];f*=f;let p=3*h[1]-2*c[1]-d[1];p*=p;let g=3*u[0]-2*d[0]-c[0];g*=g;let x=3*u[1]-2*d[1]-c[1];return x*=x,f<g&&(f=g),p<x&&(p=x),f+p})(e,t)<r){const o=e[t+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(lo(s,a))>1&&i.push(o)):i.push(o),i.push(e[t+3])}else{const l=e[t+0],c=e[t+1],h=e[t+2],u=e[t+3],d=gn(l,c,.5),f=gn(c,h,.5),p=gn(h,u,.5),g=gn(d,f,.5),x=gn(f,p,.5),y=gn(g,x,.5);eu([l,d,g,y],0,r,i),eu([y,x,p,u],0,r,i)}var s,a;return i}function ED(e,t){return il(e,0,e.length,t)}function il(e,t,r,n,i){const s=i||[],a=e[t],o=e[r-1];let l=0,c=1;for(let h=t+1;h<r-1;++h){const u=AD(e[h],a,o);u>l&&(l=u,c=h)}return Math.sqrt(l)>n?(il(e,t,c+1,n,s),il(e,c,r,n,s)):(s.length||s.push(a),s.push(o)),s}function zc(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let s=0;s<i;s++)eu(e,3*s,t,n);return r&&r>0?il(n,0,n.length,r):n}const Oe="none";class sl{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,s){const a=this._o(s);return this._d("line",[Rw(t,r,n,i,a)],a)}rectangle(t,r,n,i,s){const a=this._o(s),o=[],l=vD(t,r,n,i,a);if(a.fill){const c=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];a.fillStyle==="solid"?o.push(Nc([c],a)):o.push(Zn([c],a))}return a.stroke!==Oe&&o.push(l),this._d("rectangle",o,a)}ellipse(t,r,n,i,s){const a=this._o(s),o=[],l=Ow(n,i,a),c=Zh(t,r,a,l);if(a.fill)if(a.fillStyle==="solid"){const h=Zh(t,r,a,l).opset;h.type="fillPath",o.push(h)}else o.push(Zn([c.estimatedPoints],a));return a.stroke!==Oe&&o.push(c.opset),this._d("ellipse",o,a)}circle(t,r,n,i){const s=this.ellipse(t,r,n,n,i);return s.shape="circle",s}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[oo(t,!1,n)],n)}arc(t,r,n,i,s,a,o=!1,l){const c=this._o(l),h=[],u=Dg(t,r,n,i,s,a,o,!0,c);if(o&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const f=Dg(t,r,n,i,s,a,!0,!1,d);f.type="fillPath",h.push(f)}else h.push((function(d,f,p,g,x,y,b){const w=d,k=f;let S=Math.abs(p/2),_=Math.abs(g/2);S+=ht(.01*S,b),_+=ht(.01*_,b);let A=x,F=y;for(;A<0;)A+=2*Math.PI,F+=2*Math.PI;F-A>2*Math.PI&&(A=0,F=2*Math.PI);const R=(F-A)/b.curveStepCount,v=[];for(let L=A;L<=F;L+=R)v.push([w+S*Math.cos(L),k+_*Math.sin(L)]);return v.push([w+S*Math.cos(F),k+_*Math.sin(F)]),v.push([w,k]),Zn([v],b)})(t,r,n,i,s,a,c));return c.stroke!==Oe&&h.push(u),this._d("arc",h,c)}curve(t,r){const n=this._o(r),i=[],s=Pg(t,n);if(n.fill&&n.fill!==Oe)if(n.fillStyle==="solid"){const a=Pg(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=t;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const c of l)c.length<3?a.push(...c):c.length===3?a.push(...zc(Hg([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):a.push(...zc(Hg(c),10,(1+n.roughness)/2))}a.length&&i.push(Zn([a],n))}return n.stroke!==Oe&&i.push(s),this._d("curve",i,n)}polygon(t,r){const n=this._o(r),i=[],s=oo(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(Nc([t],n)):i.push(Zn([t],n))),n.stroke!==Oe&&i.push(s),this._d("polygon",i,n)}path(t,r){const n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==Oe,a=n.stroke!==Oe,o=!!(n.simplification&&n.simplification<1),l=(function(h,u,d){const f=$w(Iw(qf(h))),p=[];let g=[],x=[0,0],y=[];const b=()=>{y.length>=4&&g.push(...zc(y,u)),y=[]},w=()=>{b(),g.length&&(p.push(g),g=[])};for(const{key:S,data:_}of f)switch(S){case"M":w(),x=[_[0],_[1]],g.push(x);break;case"L":b(),g.push([_[0],_[1]]);break;case"C":if(!y.length){const A=g.length?g[g.length-1]:x;y.push([A[0],A[1]])}y.push([_[0],_[1]]),y.push([_[2],_[3]]),y.push([_[4],_[5]]);break;case"Z":b(),g.push([x[0],x[1]])}if(w(),!d)return p;const k=[];for(const S of p){const _=ED(S,d);_.length&&k.push(_)}return k})(t,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),c=Ng(t,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const h=Ng(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(Nc(l,n));else i.push(Zn(l,n));return a&&(o?l.forEach((h=>{i.push(oo(h,!1,n))})):i.push(c)),this._d("path",i,n)}opsToPath(t,r){let n="";for(const i of t.ops){const s=typeof r=="number"&&r>=0?i.data.map((a=>+a.toFixed(r))):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const s of r){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Oe};break;case"fillPath":a={d:this.opsToPath(s),stroke:Oe,strokeWidth:0,fill:n.fill||Oe};break;case"fillSketch":a=this.fillSketch(s,n)}a&&i.push(a)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||Oe,strokeWidth:n,fill:Oe}}_mergedShape(t){return t.filter(((r,n)=>n===0||r.op!=="move"))}}class LD{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new sl(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const a of r)switch(a.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,i="nonzero"){t.beginPath();for(const s of r.ops){const a=typeof n=="number"&&n>=0?s.data.map((o=>+o.toFixed(n))):s.data;switch(s.op){case"move":t.moveTo(a[0],a[1]);break;case"bcurveTo":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":t.lineTo(a[0],a[1])}}r.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,s){const a=this.gen.line(t,r,n,i,s);return this.draw(a),a}rectangle(t,r,n,i,s){const a=this.gen.rectangle(t,r,n,i,s);return this.draw(a),a}ellipse(t,r,n,i,s){const a=this.gen.ellipse(t,r,n,i,s);return this.draw(a),a}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s),s}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,s,a,o=!1,l){const c=this.gen.arc(t,r,n,i,s,a,o,l);return this.draw(c),c}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const Na="http://www.w3.org/2000/svg";class BD{constructor(t,r){this.svg=t,this.gen=new sl(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(Na,"g"),a=t.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(Na,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(Na,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&s.appendChild(l)}return s}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=t.createElementNS(Na,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,i,s){const a=this.gen.line(t,r,n,i,s);return this.draw(a)}rectangle(t,r,n,i,s){const a=this.gen.rectangle(t,r,n,i,s);return this.draw(a)}ellipse(t,r,n,i,s){const a=this.gen.ellipse(t,r,n,i,s);return this.draw(a)}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,s,a,o=!1,l){const c=this.gen.arc(t,r,n,i,s,a,o,l);return this.draw(c)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var K={canvas:(e,t)=>new LD(e,t),svg:(e,t)=>new BD(e,t),generator:e=>new sl(e),newSeed:()=>sl.newSeed()},lt=m(async(e,t,r)=>{let n;const i=t.useHtmlLabels||Xt(Lt()?.htmlLabels);r?n=r:n="node default";const s=e.insert("g").attr("class",n).attr("id",t.domId||t.id),a=s.insert("g").attr("class","label").attr("style",fe(t.labelStyle));let o;t.label===void 0?o="":o=typeof t.label=="string"?t.label:t.label[0];const l=await sn(a,Xe(Wn(o),Lt()),{useHtmlLabels:i,width:t.width||Lt().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let c=l.getBBox();const h=(t?.padding??0)/2;if(i){const u=l.children[0],d=St(l),f=u.getElementsByTagName("img");if(f){const p=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...f].map(g=>new Promise(x=>{function y(){if(g.style.display="flex",g.style.flexDirection="column",p){const b=Lt().fontSize?Lt().fontSize:window.getComputedStyle(document.body).fontSize,w=5,[k=Qy.fontSize]=Nl(b),S=k*w+"px";g.style.minWidth=S,g.style.maxWidth=S}else g.style.width="100%";x(g)}m(y,"setupImage"),setTimeout(()=>{g.complete&&y()}),g.addEventListener("error",y),g.addEventListener("load",y)})))}c=u.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}return i?a.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):a.attr("transform","translate(0, "+-c.height/2+")"),t.centerLabel&&a.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:s,bbox:c,halfPadding:h,label:a}},"labelHelper"),qc=m(async(e,t,r)=>{const n=r.useHtmlLabels||Xt(Lt()?.flowchart?.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),s=await sn(i,Xe(Wn(t),Lt()),{useHtmlLabels:n,width:r.width||Lt()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let a=s.getBBox();const o=r.padding/2;if(Xt(Lt()?.flowchart?.htmlLabels)){const l=s.children[0],c=St(s);a=l.getBoundingClientRect(),c.attr("width",a.width),c.attr("height",a.height)}return n?i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"):i.attr("transform","translate(0, "+-a.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:a,halfPadding:o,label:i}},"insertLabel"),Z=m((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),at=m((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Ct(e){const t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}m(Ct,"createPathFromPoints");function en(e,t,r,n,i,s){const a=[],l=r-e,c=n-t,h=l/s,u=2*Math.PI/h,d=t+c/2;for(let f=0;f<=50;f++){const p=f/50,g=e+p*l,x=d+i*Math.sin(u*(g-e));a.push({x:g,y:x})}return a}m(en,"generateFullSineWavePoints");function Qs(e,t,r,n,i,s){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const d=o+u*h,f=e+r*Math.cos(d),p=t+r*Math.sin(d);a.push({x:-f,y:-p})}return a}m(Qs,"generateCirclePoints");var MD=m((e,t)=>{var r=e.x,n=e.y,i=t.x-r,s=t.y-n,a=e.width/2,o=e.height/2,l,c;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=s===0?0:o*i/s,c=o):(i<0&&(a=-a),l=a,c=i===0?0:a*s/i),{x:r+l,y:n+c}},"intersectRect"),Ni=MD;function Dw(e,t){t&&e.attr("style",t)}m(Dw,"applyStyle");async function Nw(e){const t=St(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=Lt();let i=e.label;e.label&&Ti(e.label)&&(i=await Yu(e.label.replace(Ri.lineBreakRegex,`
`),n));const a='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+i+"</span>";return r.html(Xe(a,n)),Dw(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}m(Nw,"addHtmlLabel");var ID=m(async(e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),Xt(Lt().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),N.info("vertexText"+i);const s={isNode:n,label:Wn(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await Nw(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let a=[];typeof i=="string"?a=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?a=i:a=[];for(const o of a){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),s.appendChild(l)}return s}},"createLabel"),Cn=ID,an=m((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD"),zw=m(async(e,t)=>{N.info("Creating subgraph rect for ",t.id,t);const r=Lt(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:h}=J(t),u=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),d=Xt(r.flowchart.htmlLabels),f=u.insert("g").attr("class","cluster-label "),p=await sn(f,t.label,{style:t.labelStyle,useHtmlLabels:d,isNode:!0});let g=p.getBBox();if(Xt(r.flowchart.htmlLabels)){const A=p.children[0],F=St(p);g=A.getBoundingClientRect(),F.attr("width",g.width),F.attr("height",g.height)}const x=t.width<=g.width+t.padding?g.width+t.padding:t.width;t.width<=g.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const y=t.height,b=t.x-x/2,w=t.y-y/2;N.trace("Data ",t,JSON.stringify(t));let k;if(t.look==="handDrawn"){const A=K.svg(u),F=Q(t,{roughness:.7,fill:s,stroke:a,fillWeight:3,seed:i}),R=A.path(an(b,w,x,y,0),F);k=u.insert(()=>(N.debug("Rough node insert CXC",R),R),":first-child"),k.select("path:nth-child(2)").attr("style",c.join(";")),k.select("path").attr("style",h.join(";").replace("fill","stroke"))}else k=u.insert("rect",":first-child"),k.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",w).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:S}=bf(r);if(f.attr("transform",`translate(${t.x-g.width/2}, ${t.y-t.height/2+S})`),o){const A=f.select("span");A&&A.attr("style",o)}const _=k.node().getBBox();return t.offsetX=0,t.width=_.width,t.height=_.height,t.offsetY=g.height-t.padding/2,t.intersect=function(A){return Ni(t,A)},{cluster:u,labelBBox:g}},"rect"),$D=m((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const a=n.node().getBBox();return t.width=a.width,t.height=a.height,t.intersect=function(o){return Ni(t,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),FD=m(async(e,t)=>{const r=Lt(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:s,compositeBackground:a,compositeTitleBackground:o,nodeBorder:l}=n,c=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),h=c.insert("g",":first-child"),u=c.insert("g").attr("class","cluster-label");let d=c.append("rect");const f=u.node().appendChild(await Cn(t.label,t.labelStyle,void 0,!0));let p=f.getBBox();if(Xt(r.flowchart.htmlLabels)){const R=f.children[0],v=St(f);p=R.getBoundingClientRect(),v.attr("width",p.width),v.attr("height",p.height)}const g=0*t.padding,x=g/2,y=(t.width<=p.width+t.padding?p.width+t.padding:t.width)+g;t.width<=p.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const b=t.height+g,w=t.height+g-p.height-6,k=t.x-y/2,S=t.y-b/2;t.width=y;const _=t.y-t.height/2-x+p.height+2;let A;if(t.look==="handDrawn"){const R=t.cssClasses.includes("statediagram-cluster-alt"),v=K.svg(c),L=t.rx||t.ry?v.path(an(k,S,y,b,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):v.rectangle(k,S,y,b,{seed:i});A=c.insert(()=>L,":first-child");const O=v.rectangle(k,_,y,w,{fill:R?s:a,fillStyle:R?"hachure":"solid",stroke:l,seed:i});A=c.insert(()=>L,":first-child"),d=c.insert(()=>O)}else A=h.insert("rect",":first-child"),A.attr("class","outer").attr("x",k).attr("y",S).attr("width",y).attr("height",b).attr("data-look",t.look),d.attr("class","inner").attr("x",k).attr("y",_).attr("width",y).attr("height",w);u.attr("transform",`translate(${t.x-p.width/2}, ${S+1-(Xt(r.flowchart.htmlLabels)?0:3)})`);const F=A.node().getBBox();return t.height=F.height,t.offsetX=0,t.offsetY=p.height-t.padding/2,t.labelBBox=p,t.intersect=function(R){return Ni(t,R)},{cluster:c,labelBBox:p}},"roundedWithTitle"),RD=m(async(e,t)=>{N.info("Creating subgraph rect for ",t.id,t);const r=Lt(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:h}=J(t),u=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),d=Xt(r.flowchart.htmlLabels),f=u.insert("g").attr("class","cluster-label "),p=await sn(f,t.label,{style:t.labelStyle,useHtmlLabels:d,isNode:!0,width:t.width});let g=p.getBBox();if(Xt(r.flowchart.htmlLabels)){const A=p.children[0],F=St(p);g=A.getBoundingClientRect(),F.attr("width",g.width),F.attr("height",g.height)}const x=t.width<=g.width+t.padding?g.width+t.padding:t.width;t.width<=g.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const y=t.height,b=t.x-x/2,w=t.y-y/2;N.trace("Data ",t,JSON.stringify(t));let k;if(t.look==="handDrawn"){const A=K.svg(u),F=Q(t,{roughness:.7,fill:s,stroke:a,fillWeight:4,seed:i}),R=A.path(an(b,w,x,y,t.rx),F);k=u.insert(()=>(N.debug("Rough node insert CXC",R),R),":first-child"),k.select("path:nth-child(2)").attr("style",c.join(";")),k.select("path").attr("style",h.join(";").replace("fill","stroke"))}else k=u.insert("rect",":first-child"),k.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",w).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:S}=bf(r);if(f.attr("transform",`translate(${t.x-g.width/2}, ${t.y-t.height/2+S})`),o){const A=f.select("span");A&&A.attr("style",o)}const _=k.node().getBBox();return t.offsetX=0,t.width=_.width,t.height=_.height,t.offsetY=g.height-t.padding/2,t.intersect=function(A){return Ni(t,A)},{cluster:u,labelBBox:g}},"kanbanSection"),OD=m((e,t)=>{const r=Lt(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:s}=n,a=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),o=a.insert("g",":first-child"),l=0*t.padding,c=t.width+l;t.diff=-t.padding;const h=t.height+l,u=t.x-c/2,d=t.y-h/2;t.width=c;let f;if(t.look==="handDrawn"){const x=K.svg(a).rectangle(u,d,c,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});f=a.insert(()=>x,":first-child")}else f=o.insert("rect",":first-child"),f.attr("class","divider").attr("x",u).attr("y",d).attr("width",c).attr("height",h).attr("data-look",t.look);const p=f.node().getBBox();return t.height=p.height,t.offsetX=0,t.offsetY=0,t.intersect=function(g){return Ni(t,g)},{cluster:a,labelBBox:{}}},"divider"),PD=zw,DD={rect:zw,squareRect:PD,roundedWithTitle:FD,noteGroup:$D,divider:OD,kanbanSection:RD},qw=new Map,ND=m(async(e,t)=>{const r=t.shape||"rect",n=await DD[r](e,t);return qw.set(t.id,n),n},"insertCluster"),sq=m(()=>{qw=new Map},"clear");function Ww(e,t){return e.intersect(t)}m(Ww,"intersectNode");var zD=Ww;function Hw(e,t,r,n){var i=e.x,s=e.y,a=i-n.x,o=s-n.y,l=Math.sqrt(t*t*o*o+r*r*a*a),c=Math.abs(t*r*a/l);n.x<i&&(c=-c);var h=Math.abs(t*r*o/l);return n.y<s&&(h=-h),{x:i+c,y:s+h}}m(Hw,"intersectEllipse");var jw=Hw;function Uw(e,t,r){return jw(e,t,t,r)}m(Uw,"intersectCircle");var qD=Uw;function Vw(e,t,r,n){{const i=t.y-e.y,s=e.x-t.x,a=t.x*e.y-e.x*t.y,o=i*r.x+s*r.y+a,l=i*n.x+s*n.y+a,c=1e-6;if(o!==0&&l!==0&&ru(o,l))return;const h=n.y-r.y,u=r.x-n.x,d=n.x*r.y-r.x*n.y,f=h*e.x+u*e.y+d,p=h*t.x+u*t.y+d;if(Math.abs(f)<c&&Math.abs(p)<c&&ru(f,p))return;const g=i*u-h*s;if(g===0)return;const x=Math.abs(g/2);let y=s*d-u*a;const b=y<0?(y-x)/g:(y+x)/g;y=h*a-i*d;const w=y<0?(y-x)/g:(y+x)/g;return{x:b,y:w}}}m(Vw,"intersectLine");function ru(e,t){return e*t>0}m(ru,"sameSign");var WD=Vw;function Yw(e,t,r){let n=e.x,i=e.y,s=[],a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(h){a=Math.min(a,h.x),o=Math.min(o,h.y)}):(a=Math.min(a,t.x),o=Math.min(o,t.y));let l=n-e.width/2-a,c=i-e.height/2-o;for(let h=0;h<t.length;h++){let u=t[h],d=t[h<t.length-1?h+1:0],f=WD(e,r,{x:l+u.x,y:c+u.y},{x:l+d.x,y:c+d.y});f&&s.push(f)}return s.length?(s.length>1&&s.sort(function(h,u){let d=h.x-r.x,f=h.y-r.y,p=Math.sqrt(d*d+f*f),g=u.x-r.x,x=u.y-r.y,y=Math.sqrt(g*g+x*x);return p<y?-1:p===y?0:1}),s[0]):e}m(Yw,"intersectPolygon");var HD=Yw,G={node:zD,circle:qD,ellipse:jw,polygon:HD,rect:Ni};function Gw(e,t){const{labelStyles:r}=J(t);t.labelStyle=r;const n=at(t);let i=n;n||(i="anchor");const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),a=1,{cssStyles:o}=t,l=K.svg(s),c=Q(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(c.roughness=0);const h=l.circle(0,0,a*2,c),u=s.insert(()=>h,":first-child");return u.attr("class","anchor").attr("style",fe(o)),Z(t,u),t.intersect=function(d){return N.info("Circle intersect",t,a,d),G.circle(t,a,d)},s}m(Gw,"anchor");function nu(e,t,r,n,i,s,a){const l=(e+r)/2,c=(t+n)/2,h=Math.atan2(n-t,r-e),u=(r-e)/2,d=(n-t)/2,f=u/i,p=d/s,g=Math.sqrt(f**2+p**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-g**2),y=l+x*s*Math.sin(h)*(a?-1:1),b=c-x*i*Math.cos(h)*(a?-1:1),w=Math.atan2((t-b)/s,(e-y)/i);let S=Math.atan2((n-b)/s,(r-y)/i)-w;a&&S<0&&(S+=2*Math.PI),!a&&S>0&&(S-=2*Math.PI);const _=[];for(let A=0;A<20;A++){const F=A/19,R=w+F*S,v=y+i*Math.cos(R),L=b+s*Math.sin(R);_.push({x:v,y:L})}return _}m(nu,"generateArcPoints");async function Xw(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.width+t.padding+20,o=s.height+t.padding,l=o/2,c=l/(2.5+o/50),{cssStyles:h}=t,u=[{x:a/2,y:-o/2},{x:-a/2,y:-o/2},...nu(-a/2,-o/2,-a/2,o/2,c,l,!1),{x:a/2,y:o/2},...nu(a/2,o/2,a/2,-o/2,c,l,!0)],d=K.svg(i),f=Q(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=Ct(u),g=d.path(p,f),x=i.insert(()=>g,":first-child");return x.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(${c/2}, 0)`),Z(t,x),t.intersect=function(y){return G.polygon(t,u,y)},i}m(Xw,"bowTieRect");function on(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}m(on,"insertPolygonShape");async function Kw(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.height+t.padding,o=12,l=s.width+t.padding+o,c=0,h=l,u=-a,d=0,f=[{x:c+o,y:u},{x:h,y:u},{x:h,y:d},{x:c,y:d},{x:c,y:u+o},{x:c+o,y:u}];let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const x=K.svg(i),y=Q(t,{}),b=Ct(f),w=x.path(b,y);p=i.insert(()=>w,":first-child").attr("transform",`translate(${-l/2}, ${a/2})`),g&&p.attr("style",g)}else p=on(i,l,a,f);return n&&p.attr("style",n),Z(t,p),t.intersect=function(x){return G.polygon(t,f,x)},i}m(Kw,"card");function Qw(e,t){const{nodeStyles:r}=J(t);t.label="";const n=e.insert("g").attr("class",at(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,s=Math.max(28,t.width??0),a=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],o=K.svg(n),l=Q(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=Ct(a),h=o.path(c,l),u=n.insert(()=>h,":first-child");return i&&t.look!=="handDrawn"&&u.selectAll("path").attr("style",i),r&&t.look!=="handDrawn"&&u.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(d){return G.polygon(t,a,d)},n}m(Qw,"choice");async function Wf(e,t,r){const{labelStyles:n,nodeStyles:i}=J(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,halfPadding:o}=await lt(e,t,at(t)),l=r?.padding??o,c=a.width/2+l;let h;const{cssStyles:u}=t;if(t.look==="handDrawn"){const d=K.svg(s),f=Q(t,{}),p=d.circle(0,0,c*2,f);h=s.insert(()=>p,":first-child"),h.attr("class","basic label-container").attr("style",fe(u))}else h=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0);return Z(t,h),t.calcIntersect=function(d,f){const p=d.width/2;return G.circle(d,p,f)},t.intersect=function(d){return N.info("Circle intersect",t,c,d),G.circle(t,c,d)},s}m(Wf,"circle");function Jw(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,i={x:n/2*t,y:n/2*r},s={x:-(n/2)*t,y:n/2*r},a={x:-(n/2)*t,y:-(n/2)*r},o={x:n/2*t,y:-(n/2)*r};return`M ${s.x},${s.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${a.x},${a.y}`}m(Jw,"createLine");function Zw(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r,t.label="";const i=e.insert("g").attr("class",at(t)).attr("id",t.domId??t.id),s=Math.max(30,t?.width??0),{cssStyles:a}=t,o=K.svg(i),l=Q(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=o.circle(0,0,s*2,l),h=Jw(s),u=o.path(h,l),d=i.insert(()=>c,":first-child");return d.insert(()=>u),a&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",a),n&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",n),Z(t,d),t.intersect=function(f){return N.info("crossedCircle intersect",t,{radius:s,point:f}),G.circle(t,s,f)},i}m(Zw,"crossedCircle");function Br(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const d=o+u*h,f=e+r*Math.cos(d),p=t+r*Math.sin(d);a.push({x:-f,y:-p})}return a}m(Br,"generateCirclePoints");async function t1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=t,u=[...Br(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...Br(o/2+c*2,-c,c,20,-180,-270),...Br(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...Br(o/2,l/2,c,20,0,90)],d=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...Br(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...Br(o/2+o*.1,-c,c,20,-180,-270),...Br(o/2+o*.1,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...Br(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2,y:l/2+c}],f=K.svg(i),p=Q(t,{fill:"none"});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const x=Ct(u).replace("Z",""),y=f.path(x,p),b=Ct(d),w=f.path(b,{...p}),k=i.insert("g",":first-child");return k.insert(()=>w,":first-child").attr("stroke-opacity",0),k.insert(()=>y,":first-child"),k.attr("class","text"),h&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${c}, 0)`),a.attr("transform",`translate(${-o/2+c-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,k),t.intersect=function(S){return G.polygon(t,d,S)},i}m(t1,"curlyBraceLeft");function Mr(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const d=o+u*h,f=e+r*Math.cos(d),p=t+r*Math.sin(d);a.push({x:f,y:p})}return a}m(Mr,"generateCirclePoints");async function e1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=t,u=[...Mr(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...Mr(o/2+c*2,-c,c,20,-180,-270),...Mr(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...Mr(o/2,l/2,c,20,0,90)],d=[{x:-o/2,y:-l/2-c},{x:o/2,y:-l/2-c},...Mr(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...Mr(o/2+c*2,-c,c,20,-180,-270),...Mr(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...Mr(o/2,l/2,c,20,0,90),{x:o/2,y:l/2+c},{x:-o/2,y:l/2+c}],f=K.svg(i),p=Q(t,{fill:"none"});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const x=Ct(u).replace("Z",""),y=f.path(x,p),b=Ct(d),w=f.path(b,{...p}),k=i.insert("g",":first-child");return k.insert(()=>w,":first-child").attr("stroke-opacity",0),k.insert(()=>y,":first-child"),k.attr("class","text"),h&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${-c}, 0)`),a.attr("transform",`translate(${-o/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,k),t.intersect=function(S){return G.polygon(t,d,S)},i}m(e1,"curlyBraceRight");function ee(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const d=o+u*h,f=e+r*Math.cos(d),p=t+r*Math.sin(d);a.push({x:-f,y:-p})}return a}m(ee,"generateCirclePoints");async function r1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=t,u=[...ee(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...ee(o/2+c*2,-c,c,20,-180,-270),...ee(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...ee(o/2,l/2,c,20,0,90)],d=[...ee(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...ee(-o/2-c/2,-c,c,20,0,90),...ee(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...ee(-o/2+c+c/2,l/2,c,30,-180,-270)],f=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...ee(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...ee(o/2+c*2,-c,c,20,-180,-270),...ee(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...ee(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2-c-c/2,y:l/2+c},...ee(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...ee(-o/2-c/2,-c,c,20,0,90),...ee(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...ee(-o/2+c+c/2,l/2,c,30,-180,-270)],p=K.svg(i),g=Q(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Ct(u).replace("Z",""),b=p.path(y,g),k=Ct(d).replace("Z",""),S=p.path(k,g),_=Ct(f),A=p.path(_,{...g}),F=i.insert("g",":first-child");return F.insert(()=>A,":first-child").attr("stroke-opacity",0),F.insert(()=>b,":first-child"),F.insert(()=>S,":first-child"),F.attr("class","text"),h&&t.look!=="handDrawn"&&F.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&F.selectAll("path").attr("style",n),F.attr("transform",`translate(${c-c/4}, 0)`),a.attr("transform",`translate(${-o/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,F),t.intersect=function(R){return G.polygon(t,f,R)},i}m(r1,"curlyBraces");async function n1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=80,o=20,l=Math.max(a,(s.width+(t.padding??0)*2)*1.25,t?.width??0),c=Math.max(o,s.height+(t.padding??0)*2,t?.height??0),h=c/2,{cssStyles:u}=t,d=K.svg(i),f=Q(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=l,g=c,x=p-h,y=g/4,b=[{x,y:0},{x:y,y:0},{x:0,y:g/2},{x:y,y:g},{x,y:g},...Qs(-x,-g/2,h,50,270,90)],w=Ct(b),k=d.path(w,f),S=i.insert(()=>k,":first-child");return S.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",n),S.attr("transform",`translate(${-l/2}, ${-c/2})`),Z(t,S),t.intersect=function(_){return G.polygon(t,b,_)},i}m(n1,"curvedTrapezoid");var jD=m((e,t,r,n,i,s)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),UD=m((e,t,r,n,i,s)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),VD=m((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function i1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+t.padding,t.width??0),l=o/2,c=l/(2.5+o/50),h=Math.max(s.height+c+t.padding,t.height??0);let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const f=K.svg(i),p=UD(0,0,o,h,l,c),g=VD(0,c,o,h,l,c),x=f.path(p,Q(t,{})),y=f.path(g,Q(t,{fill:"none"}));u=i.insert(()=>y,":first-child"),u=i.insert(()=>x,":first-child"),u.attr("class","basic label-container"),d&&u.attr("style",d)}else{const f=jD(0,0,o,h,l,c);u=i.insert("path",":first-child").attr("d",f).attr("class","basic label-container").attr("style",fe(d)).attr("style",n)}return u.attr("label-offset-y",c),u.attr("transform",`translate(${-o/2}, ${-(h/2+c)})`),Z(t,u),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(t.padding??0)/1.5-(s.y-(s.top??0))})`),t.intersect=function(f){const p=G.rect(t,f),g=p.x-(t.x??0);if(l!=0&&(Math.abs(g)<(t.width??0)/2||Math.abs(g)==(t.width??0)/2&&Math.abs(p.y-(t.y??0))>(t.height??0)/2-c)){let x=c*c*(1-g*g/(l*l));x>0&&(x=Math.sqrt(x)),x=c-x,f.y-(t.y??0)>0&&(x=-x),p.y+=x}return p},i}m(i1,"cylinder");async function s1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=s.width+t.padding,l=s.height+t.padding,c=l*.2,h=-o/2,u=-l/2-c/2,{cssStyles:d}=t,f=K.svg(i),p=Q(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:h,y:u+c},{x:-h,y:u+c},{x:-h,y:-u},{x:h,y:-u},{x:h,y:u},{x:-h,y:u},{x:-h,y:u+c}],x=f.polygon(g.map(b=>[b.x,b.y]),p),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),a.attr("transform",`translate(${h+(t.padding??0)/2-(s.x-(s.left??0))}, ${u+c+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,y),t.intersect=function(b){return G.rect(t,b)},i}m(s1,"dividedRectangle");async function a1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a}=await lt(e,t,at(t)),l=s.width/2+a+5,c=s.width/2+a;let h;const{cssStyles:u}=t;if(t.look==="handDrawn"){const d=K.svg(i),f=Q(t,{roughness:.2,strokeWidth:2.5}),p=Q(t,{roughness:.2,strokeWidth:1.5}),g=d.circle(0,0,l*2,f),x=d.circle(0,0,c*2,p);h=i.insert("g",":first-child"),h.attr("class",fe(t.cssClasses)).attr("style",fe(u)),h.node()?.appendChild(g),h.node()?.appendChild(x)}else{h=i.insert("g",":first-child");const d=h.insert("circle",":first-child"),f=h.insert("circle");h.attr("class","basic label-container").attr("style",n),d.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),f.attr("class","inner-circle").attr("style",n).attr("r",c).attr("cx",0).attr("cy",0)}return Z(t,h),t.intersect=function(d){return N.info("DoubleCircle intersect",t,l,d),G.circle(t,l,d)},i}m(a1,"doublecircle");function o1(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=J(t);t.label="",t.labelStyle=n;const s=e.insert("g").attr("class",at(t)).attr("id",t.domId??t.id),a=7,{cssStyles:o}=t,l=K.svg(s),{nodeBorder:c}=r,h=Q(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const u=l.circle(0,0,a*2,h),d=s.insert(()=>u,":first-child");return d.selectAll("path").attr("style",`fill: ${c} !important;`),o&&o.length>0&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",o),i&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",i),Z(t,d),t.intersect=function(f){return N.info("filledCircle intersect",t,{radius:a,point:f}),G.circle(t,a,f)},s}m(o1,"filledCircle");async function l1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=s.width+(t.padding??0),l=o+s.height,c=o+s.height,h=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:u}=t,d=K.svg(i),f=Q(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=Ct(h),g=d.path(p,f),x=i.insert(()=>g,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return u&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),t.width=o,t.height=l,Z(t,x),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(t.padding??0)/2+(s.y-(s.top??0))})`),t.intersect=function(y){return N.info("Triangle intersect",t,h,y),G.polygon(t,h,y)},i}m(l1,"flippedTriangle");function c1(e,t,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:s}=J(t);t.label="";const a=e.insert("g").attr("class",at(t)).attr("id",t.domId??t.id),{cssStyles:o}=t;let l=Math.max(70,t?.width??0),c=Math.max(10,t?.height??0);r==="LR"&&(l=Math.max(10,t?.width??0),c=Math.max(70,t?.height??0));const h=-1*l/2,u=-1*c/2,d=K.svg(a),f=Q(t,{stroke:i.lineColor,fill:i.lineColor});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=d.rectangle(h,u,l,c,f),g=a.insert(()=>p,":first-child");o&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",o),s&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",s),Z(t,g);const x=n?.padding??0;return t.width&&t.height&&(t.width+=x/2||0,t.height+=x/2||0),t.intersect=function(y){return G.rect(t,y)},a}m(c1,"forkJoin");async function h1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const i=80,s=50,{shapeSvg:a,bbox:o}=await lt(e,t,at(t)),l=Math.max(i,o.width+(t.padding??0)*2,t?.width??0),c=Math.max(s,o.height+(t.padding??0)*2,t?.height??0),h=c/2,{cssStyles:u}=t,d=K.svg(a),f=Q(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:-l/2,y:-c/2},{x:l/2-h,y:-c/2},...Qs(-l/2+h,0,h,50,90,270),{x:l/2-h,y:c/2},{x:-l/2,y:c/2}],g=Ct(p),x=d.path(g,f),y=a.insert(()=>x,":first-child");return y.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),Z(t,y),t.intersect=function(b){return N.info("Pill intersect",t,{radius:h,point:b}),G.polygon(t,p,b)},a}m(h1,"halfRoundedRectangle");async function u1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.height+(t.padding??0),o=s.width+(t.padding??0)*2.5,{cssStyles:l}=t,c=K.svg(i),h=Q(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let u=o/2;const d=u/6;u=u+d;const f=a/2,p=f/2,g=u-p,x=[{x:-g,y:-f},{x:0,y:-f},{x:g,y:-f},{x:u,y:0},{x:g,y:f},{x:0,y:f},{x:-g,y:f},{x:-u,y:0}],y=Ct(x),b=c.path(y,h),w=i.insert(()=>b,":first-child");return w.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",l),n&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",n),t.width=o,t.height=a,Z(t,w),t.intersect=function(k){return G.polygon(t,x,k)},i}m(u1,"hexagon");async function f1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.label="",t.labelStyle=r;const{shapeSvg:i}=await lt(e,t,at(t)),s=Math.max(30,t?.width??0),a=Math.max(30,t?.height??0),{cssStyles:o}=t,l=K.svg(i),c=Q(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const h=[{x:0,y:0},{x:s,y:0},{x:0,y:a},{x:s,y:a}],u=Ct(h),d=l.path(u,c),f=i.insert(()=>d,":first-child");return f.attr("class","basic label-container"),o&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",o),n&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",n),f.attr("transform",`translate(${-s/2}, ${-a/2})`),Z(t,f),t.intersect=function(p){return N.info("Pill intersect",t,{points:h}),G.polygon(t,h,p)},i}m(f1,"hourglass");async function d1(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=J(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,label:u}=await lt(e,t,"icon-shape default"),d=t.pos==="t",f=o,p=o,{nodeBorder:g}=r,{stylesMap:x}=Oi(t),y=-p/2,b=-f/2,w=t.label?8:0,k=K.svg(c),S=Q(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const _=k.rectangle(y,b,p,f,S),A=Math.max(p,h.width),F=f+h.height+w,R=k.rectangle(-A/2,-F/2,A,F,{...S,fill:"transparent",stroke:"none"}),v=c.insert(()=>_,":first-child"),L=c.insert(()=>R);if(t.icon){const O=c.append("g");O.html(`<g>${await ga(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const I=O.node().getBBox(),M=I.width,D=I.height,z=I.x,U=I.y;O.attr("transform",`translate(${-M/2-z},${d?h.height/2+w/2-D/2-U:-h.height/2-w/2-D/2-U})`),O.attr("style",`color: ${x.get("stroke")??g};`)}return u.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${d?-F/2:F/2-h.height})`),v.attr("transform",`translate(0,${d?h.height/2+w/2:-h.height/2-w/2})`),Z(t,L),t.intersect=function(O){if(N.info("iconSquare intersect",t,O),!t.label)return G.rect(t,O);const I=t.x??0,M=t.y??0,D=t.height??0;let z=[];return d?z=[{x:I-h.width/2,y:M-D/2},{x:I+h.width/2,y:M-D/2},{x:I+h.width/2,y:M-D/2+h.height+w},{x:I+p/2,y:M-D/2+h.height+w},{x:I+p/2,y:M+D/2},{x:I-p/2,y:M+D/2},{x:I-p/2,y:M-D/2+h.height+w},{x:I-h.width/2,y:M-D/2+h.height+w}]:z=[{x:I-p/2,y:M-D/2},{x:I+p/2,y:M-D/2},{x:I+p/2,y:M-D/2+f},{x:I+h.width/2,y:M-D/2+f},{x:I+h.width/2/2,y:M+D/2},{x:I-h.width/2,y:M+D/2},{x:I-h.width/2,y:M-D/2+f},{x:I-p/2,y:M-D/2+f}],G.polygon(t,z,O)},c}m(d1,"icon");async function p1(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=J(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,label:u}=await lt(e,t,"icon-shape default"),d=20,f=t.label?8:0,p=t.pos==="t",{nodeBorder:g,mainBkg:x}=r,{stylesMap:y}=Oi(t),b=K.svg(c),w=Q(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const k=y.get("fill");w.stroke=k??x;const S=c.append("g");t.icon&&S.html(`<g>${await ga(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const _=S.node().getBBox(),A=_.width,F=_.height,R=_.x,v=_.y,L=Math.max(A,F)*Math.SQRT2+d*2,O=b.circle(0,0,L,w),I=Math.max(L,h.width),M=L+h.height+f,D=b.rectangle(-I/2,-M/2,I,M,{...w,fill:"transparent",stroke:"none"}),z=c.insert(()=>O,":first-child"),U=c.insert(()=>D);return S.attr("transform",`translate(${-A/2-R},${p?h.height/2+f/2-F/2-v:-h.height/2-f/2-F/2-v})`),S.attr("style",`color: ${y.get("stroke")??g};`),u.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-M/2:M/2-h.height})`),z.attr("transform",`translate(0,${p?h.height/2+f/2:-h.height/2-f/2})`),Z(t,U),t.intersect=function(Y){return N.info("iconSquare intersect",t,Y),G.rect(t,Y)},c}m(p1,"iconCircle");async function g1(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=J(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,halfPadding:u,label:d}=await lt(e,t,"icon-shape default"),f=t.pos==="t",p=o+u*2,g=o+u*2,{nodeBorder:x,mainBkg:y}=r,{stylesMap:b}=Oi(t),w=-g/2,k=-p/2,S=t.label?8:0,_=K.svg(c),A=Q(t,{});t.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const F=b.get("fill");A.stroke=F??y;const R=_.path(an(w,k,g,p,5),A),v=Math.max(g,h.width),L=p+h.height+S,O=_.rectangle(-v/2,-L/2,v,L,{...A,fill:"transparent",stroke:"none"}),I=c.insert(()=>R,":first-child").attr("class","icon-shape2"),M=c.insert(()=>O);if(t.icon){const D=c.append("g");D.html(`<g>${await ga(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const z=D.node().getBBox(),U=z.width,Y=z.height,Tt=z.x,T=z.y;D.attr("transform",`translate(${-U/2-Tt},${f?h.height/2+S/2-Y/2-T:-h.height/2-S/2-Y/2-T})`),D.attr("style",`color: ${b.get("stroke")??x};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-L/2:L/2-h.height})`),I.attr("transform",`translate(0,${f?h.height/2+S/2:-h.height/2-S/2})`),Z(t,M),t.intersect=function(D){if(N.info("iconSquare intersect",t,D),!t.label)return G.rect(t,D);const z=t.x??0,U=t.y??0,Y=t.height??0;let Tt=[];return f?Tt=[{x:z-h.width/2,y:U-Y/2},{x:z+h.width/2,y:U-Y/2},{x:z+h.width/2,y:U-Y/2+h.height+S},{x:z+g/2,y:U-Y/2+h.height+S},{x:z+g/2,y:U+Y/2},{x:z-g/2,y:U+Y/2},{x:z-g/2,y:U-Y/2+h.height+S},{x:z-h.width/2,y:U-Y/2+h.height+S}]:Tt=[{x:z-g/2,y:U-Y/2},{x:z+g/2,y:U-Y/2},{x:z+g/2,y:U-Y/2+p},{x:z+h.width/2,y:U-Y/2+p},{x:z+h.width/2/2,y:U+Y/2},{x:z-h.width/2,y:U+Y/2},{x:z-h.width/2,y:U-Y/2+p},{x:z-g/2,y:U-Y/2+p}],G.polygon(t,Tt,D)},c}m(g1,"iconRounded");async function m1(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=J(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,halfPadding:u,label:d}=await lt(e,t,"icon-shape default"),f=t.pos==="t",p=o+u*2,g=o+u*2,{nodeBorder:x,mainBkg:y}=r,{stylesMap:b}=Oi(t),w=-g/2,k=-p/2,S=t.label?8:0,_=K.svg(c),A=Q(t,{});t.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const F=b.get("fill");A.stroke=F??y;const R=_.path(an(w,k,g,p,.1),A),v=Math.max(g,h.width),L=p+h.height+S,O=_.rectangle(-v/2,-L/2,v,L,{...A,fill:"transparent",stroke:"none"}),I=c.insert(()=>R,":first-child"),M=c.insert(()=>O);if(t.icon){const D=c.append("g");D.html(`<g>${await ga(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const z=D.node().getBBox(),U=z.width,Y=z.height,Tt=z.x,T=z.y;D.attr("transform",`translate(${-U/2-Tt},${f?h.height/2+S/2-Y/2-T:-h.height/2-S/2-Y/2-T})`),D.attr("style",`color: ${b.get("stroke")??x};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-L/2:L/2-h.height})`),I.attr("transform",`translate(0,${f?h.height/2+S/2:-h.height/2-S/2})`),Z(t,M),t.intersect=function(D){if(N.info("iconSquare intersect",t,D),!t.label)return G.rect(t,D);const z=t.x??0,U=t.y??0,Y=t.height??0;let Tt=[];return f?Tt=[{x:z-h.width/2,y:U-Y/2},{x:z+h.width/2,y:U-Y/2},{x:z+h.width/2,y:U-Y/2+h.height+S},{x:z+g/2,y:U-Y/2+h.height+S},{x:z+g/2,y:U+Y/2},{x:z-g/2,y:U+Y/2},{x:z-g/2,y:U-Y/2+h.height+S},{x:z-h.width/2,y:U-Y/2+h.height+S}]:Tt=[{x:z-g/2,y:U-Y/2},{x:z+g/2,y:U-Y/2},{x:z+g/2,y:U-Y/2+p},{x:z+h.width/2,y:U-Y/2+p},{x:z+h.width/2/2,y:U+Y/2},{x:z-h.width/2,y:U+Y/2},{x:z-h.width/2,y:U-Y/2+p},{x:z-g/2,y:U-Y/2+p}],G.polygon(t,Tt,D)},c}m(m1,"iconSquare");async function y1(e,t,{config:{flowchart:r}}){const n=new Image;n.src=t?.img??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),s=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/s;const{labelStyles:a}=J(t);t.labelStyle=a;const o=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;const l=Math.max(t.label?o??0:0,t?.assetWidth??i),c=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:l,h=t.constraint==="on"?c/t.imageAspectRatio:t?.assetHeight??s;t.width=Math.max(c,o??0);const{shapeSvg:u,bbox:d,label:f}=await lt(e,t,"image-shape default"),p=t.pos==="t",g=-c/2,x=-h/2,y=t.label?8:0,b=K.svg(u),w=Q(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const k=b.rectangle(g,x,c,h,w),S=Math.max(c,d.width),_=h+d.height+y,A=b.rectangle(-S/2,-_/2,S,_,{...w,fill:"none",stroke:"none"}),F=u.insert(()=>k,":first-child"),R=u.insert(()=>A);if(t.img){const v=u.append("image");v.attr("href",t.img),v.attr("width",c),v.attr("height",h),v.attr("preserveAspectRatio","none"),v.attr("transform",`translate(${-c/2},${p?_/2-h:-_/2})`)}return f.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${p?-h/2-d.height/2-y/2:h/2-d.height/2+y/2})`),F.attr("transform",`translate(0,${p?d.height/2+y/2:-d.height/2-y/2})`),Z(t,R),t.intersect=function(v){if(N.info("iconSquare intersect",t,v),!t.label)return G.rect(t,v);const L=t.x??0,O=t.y??0,I=t.height??0;let M=[];return p?M=[{x:L-d.width/2,y:O-I/2},{x:L+d.width/2,y:O-I/2},{x:L+d.width/2,y:O-I/2+d.height+y},{x:L+c/2,y:O-I/2+d.height+y},{x:L+c/2,y:O+I/2},{x:L-c/2,y:O+I/2},{x:L-c/2,y:O-I/2+d.height+y},{x:L-d.width/2,y:O-I/2+d.height+y}]:M=[{x:L-c/2,y:O-I/2},{x:L+c/2,y:O-I/2},{x:L+c/2,y:O-I/2+h},{x:L+d.width/2,y:O-I/2+h},{x:L+d.width/2/2,y:O+I/2},{x:L-d.width/2,y:O+I/2},{x:L-d.width/2,y:O-I/2+h},{x:L-c/2,y:O-I/2+h}],G.polygon(t,M,v)},u}m(y1,"imageSquare");async function x1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=Math.max(s.width+(t.padding??0)*2,t?.width??0),o=Math.max(s.height+(t.padding??0)*2,t?.height??0),l=[{x:0,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:-3*o/6,y:-o}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=K.svg(i),d=Q(t,{}),f=Ct(l),p=u.path(f,d);c=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=on(i,a,o,l);return n&&c.attr("style",n),t.width=a,t.height=o,Z(t,c),t.intersect=function(u){return G.polygon(t,l,u)},i}m(x1,"inv_trapezoid");async function Ul(e,t,r){const{labelStyles:n,nodeStyles:i}=J(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await lt(e,t,at(t)),o=Math.max(a.width+r.labelPaddingX*2,t?.width||0),l=Math.max(a.height+r.labelPaddingY*2,t?.height||0),c=-o/2,h=-l/2;let u,{rx:d,ry:f}=t;const{cssStyles:p}=t;if(r?.rx&&r.ry&&(d=r.rx,f=r.ry),t.look==="handDrawn"){const g=K.svg(s),x=Q(t,{}),y=d||f?g.path(an(c,h,o,l,d||0),x):g.rectangle(c,h,o,l,x);u=s.insert(()=>y,":first-child"),u.attr("class","basic label-container").attr("style",fe(p))}else u=s.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",i).attr("rx",fe(d)).attr("ry",fe(f)).attr("x",c).attr("y",h).attr("width",o).attr("height",l);return Z(t,u),t.calcIntersect=function(g,x){return G.rect(g,x)},t.intersect=function(g){return G.rect(t,g)},s}m(Ul,"drawRect");async function b1(e,t){const{shapeSvg:r,bbox:n,label:i}=await lt(e,t,"label"),s=r.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Z(t,s),t.intersect=function(l){return G.rect(t,l)},r}m(b1,"labelRect");async function w1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=Math.max(s.width+(t.padding??0),t?.width??0),o=Math.max(s.height+(t.padding??0),t?.height??0),l=[{x:0,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:-(3*o)/6,y:-o}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=K.svg(i),d=Q(t,{}),f=Ct(l),p=u.path(f,d);c=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=on(i,a,o,l);return n&&c.attr("style",n),t.width=a,t.height=o,Z(t,c),t.intersect=function(u){return G.polygon(t,l,u)},i}m(w1,"lean_left");async function _1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=Math.max(s.width+(t.padding??0),t?.width??0),o=Math.max(s.height+(t.padding??0),t?.height??0),l=[{x:-3*o/6,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:0,y:-o}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=K.svg(i),d=Q(t,{}),f=Ct(l),p=u.path(f,d);c=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=on(i,a,o,l);return n&&c.attr("style",n),t.width=a,t.height=o,Z(t,c),t.intersect=function(u){return G.polygon(t,l,u)},i}m(_1,"lean_right");function k1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.label="",t.labelStyle=r;const i=e.insert("g").attr("class",at(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,a=Math.max(35,t?.width??0),o=Math.max(35,t?.height??0),l=7,c=[{x:a,y:0},{x:0,y:o+l/2},{x:a-2*l,y:o+l/2},{x:0,y:2*o},{x:a,y:o-l/2},{x:2*l,y:o-l/2}],h=K.svg(i),u=Q(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=Ct(c),f=h.path(d,u),p=i.insert(()=>f,":first-child");return s&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",n),p.attr("transform",`translate(-${a/2},${-o})`),Z(t,p),t.intersect=function(g){return N.info("lightningBolt intersect",t,g),G.polygon(t,c,g)},i}m(k1,"lightningBolt");var YD=m((e,t,r,n,i,s,a)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),GD=m((e,t,r,n,i,s,a)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),XD=m((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function C1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0),t.width??0),l=o/2,c=l/(2.5+o/50),h=Math.max(s.height+c+(t.padding??0),t.height??0),u=h*.1;let d;const{cssStyles:f}=t;if(t.look==="handDrawn"){const p=K.svg(i),g=GD(0,0,o,h,l,c,u),x=XD(0,c,o,h,l,c),y=Q(t,{}),b=p.path(g,y),w=p.path(x,y);i.insert(()=>w,":first-child").attr("class","line"),d=i.insert(()=>b,":first-child"),d.attr("class","basic label-container"),f&&d.attr("style",f)}else{const p=YD(0,0,o,h,l,c,u);d=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",fe(f)).attr("style",n)}return d.attr("label-offset-y",c),d.attr("transform",`translate(${-o/2}, ${-(h/2+c)})`),Z(t,d),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),t.intersect=function(p){const g=G.rect(t,p),x=g.x-(t.x??0);if(l!=0&&(Math.abs(x)<(t.width??0)/2||Math.abs(x)==(t.width??0)/2&&Math.abs(g.y-(t.y??0))>(t.height??0)/2-c)){let y=c*c*(1-x*x/(l*l));y>0&&(y=Math.sqrt(y)),y=c-y,p.y-(t.y??0)>0&&(y=-y),g.y+=y}return g},i}m(C1,"linedCylinder");async function S1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=l/4,h=l+c,{cssStyles:u}=t,d=K.svg(i),f=Q(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:-o/2-o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:h/2},...en(-o/2-o/2*.1,h/2,o/2+o/2*.1,h/2,c,.8),{x:o/2+o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:-h/2},{x:-o/2,y:-h/2},{x:-o/2,y:h/2*1.1},{x:-o/2,y:-h/2}],g=d.polygon(p.map(y=>[y.x,y.y]),f),x=i.insert(()=>g,":first-child");return x.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)+o/2*.1/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c/2-(s.y-(s.top??0))})`),Z(t,x),t.intersect=function(y){return G.polygon(t,p,y)},i}m(S1,"linedWaveEdgedRect");async function v1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=5,h=-o/2,u=-l/2,{cssStyles:d}=t,f=K.svg(i),p=Q(t,{}),g=[{x:h-c,y:u+c},{x:h-c,y:u+l+c},{x:h+o-c,y:u+l+c},{x:h+o-c,y:u+l},{x:h+o,y:u+l},{x:h+o,y:u+l-c},{x:h+o+c,y:u+l-c},{x:h+o+c,y:u-c},{x:h+c,y:u-c},{x:h+c,y:u},{x:h,y:u},{x:h,y:u+c}],x=[{x:h,y:u+c},{x:h+o-c,y:u+c},{x:h+o-c,y:u+l},{x:h+o,y:u+l},{x:h+o,y:u},{x:h,y:u}];t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=Ct(g),b=f.path(y,p),w=Ct(x),k=f.path(w,{...p,fill:"none"}),S=i.insert(()=>k,":first-child");return S.insert(()=>b,":first-child"),S.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)-c-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),Z(t,S),t.intersect=function(_){return G.polygon(t,g,_)},i}m(v1,"multiRect");async function T1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=l/4,h=l+c,u=-o/2,d=-h/2,f=5,{cssStyles:p}=t,g=en(u-f,d+h+f,u+o-f,d+h+f,c,.8),x=g?.[g.length-1],y=[{x:u-f,y:d+f},{x:u-f,y:d+h+f},...g,{x:u+o-f,y:x.y-f},{x:u+o,y:x.y-f},{x:u+o,y:x.y-2*f},{x:u+o+f,y:x.y-2*f},{x:u+o+f,y:d-f},{x:u+f,y:d-f},{x:u+f,y:d},{x:u,y:d},{x:u,y:d+f}],b=[{x:u,y:d+f},{x:u+o-f,y:d+f},{x:u+o-f,y:x.y-f},{x:u+o,y:x.y-f},{x:u+o,y:d},{x:u,y:d}],w=K.svg(i),k=Q(t,{});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const S=Ct(y),_=w.path(S,k),A=Ct(b),F=w.path(A,k),R=i.insert(()=>_,":first-child");return R.insert(()=>F),R.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",n),R.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-(s.width/2)-f-(s.x-(s.left??0))}, ${-(s.height/2)+f-c/2-(s.y-(s.top??0))})`),Z(t,R),t.intersect=function(v){return G.polygon(t,y,v)},i}m(T1,"multiWaveEdgedRectangle");async function A1(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=J(t);t.labelStyle=n,t.useHtmlLabels||he().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);const{shapeSvg:a,bbox:o,label:l}=await lt(e,t,at(t)),c=Math.max(o.width+(t.padding??0)*2,t?.width??0),h=Math.max(o.height+(t.padding??0)*2,t?.height??0),u=-c/2,d=-h/2,{cssStyles:f}=t,p=K.svg(a),g=Q(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=p.rectangle(u,d,c,h,g),y=a.insert(()=>x,":first-child");return y.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Z(t,y),t.intersect=function(b){return G.rect(t,b)},a}m(A1,"note");var KD=m((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function E1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.width+t.padding,o=s.height+t.padding,l=a+o,c=.5,h=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const f=K.svg(i),p=Q(t,{}),g=KD(0,0,l),x=f.path(g,p);u=i.insert(()=>x,":first-child").attr("transform",`translate(${-l/2+c}, ${l/2})`),d&&u.attr("style",d)}else u=on(i,l,l,h),u.attr("transform",`translate(${-l/2+c}, ${l/2})`);return n&&u.attr("style",n),Z(t,u),t.calcIntersect=function(f,p){const g=f.width,x=[{x:g/2,y:0},{x:g,y:-g/2},{x:g/2,y:-g},{x:0,y:-g/2}],y=G.polygon(f,x,p);return{x:y.x-.5,y:y.y-.5}},t.intersect=function(f){return this.calcIntersect(t,f)},i}m(E1,"question");async function L1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0),t?.width??0),l=Math.max(s.height+(t.padding??0),t?.height??0),c=-o/2,h=-l/2,u=h/2,d=[{x:c+u,y:h},{x:c,y:0},{x:c+u,y:-h},{x:-c,y:-h},{x:-c,y:h}],{cssStyles:f}=t,p=K.svg(i),g=Q(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=Ct(d),y=p.path(x,g),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${-u/2},0)`),a.attr("transform",`translate(${-u/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Z(t,b),t.intersect=function(w){return G.polygon(t,d,w)},i}m(L1,"rect_left_inv_arrow");async function B1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;let i;t.cssClasses?i="node "+t.cssClasses:i="node default";const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),a=s.insert("g"),o=s.insert("g").attr("class","label").attr("style",n),l=t.description,c=t.label,h=o.node().appendChild(await Cn(c,t.labelStyle,!0,!0));let u={width:0,height:0};if(Xt(Lt()?.flowchart?.htmlLabels)){const F=h.children[0],R=St(h);u=F.getBoundingClientRect(),R.attr("width",u.width),R.attr("height",u.height)}N.info("Text 2",l);const d=l||[],f=h.getBBox(),p=o.node().appendChild(await Cn(d.join?d.join("<br/>"):d,t.labelStyle,!0,!0)),g=p.children[0],x=St(p);u=g.getBoundingClientRect(),x.attr("width",u.width),x.attr("height",u.height);const y=(t.padding||0)/2;St(p).attr("transform","translate( "+(u.width>f.width?0:(f.width-u.width)/2)+", "+(f.height+y+5)+")"),St(h).attr("transform","translate( "+(u.width<f.width?0:-(f.width-u.width)/2)+", 0)"),u=o.node().getBBox(),o.attr("transform","translate("+-u.width/2+", "+(-u.height/2-y+3)+")");const b=u.width+(t.padding||0),w=u.height+(t.padding||0),k=-u.width/2-y,S=-u.height/2-y;let _,A;if(t.look==="handDrawn"){const F=K.svg(s),R=Q(t,{}),v=F.path(an(k,S,b,w,t.rx||0),R),L=F.line(-u.width/2-y,-u.height/2-y+f.height+y,u.width/2+y,-u.height/2-y+f.height+y,R);A=s.insert(()=>(N.debug("Rough node insert CXC",v),L),":first-child"),_=s.insert(()=>(N.debug("Rough node insert CXC",v),v),":first-child")}else _=a.insert("rect",":first-child"),A=a.insert("line"),_.attr("class","outer title-state").attr("style",n).attr("x",-u.width/2-y).attr("y",-u.height/2-y).attr("width",u.width+(t.padding||0)).attr("height",u.height+(t.padding||0)),A.attr("class","divider").attr("x1",-u.width/2-y).attr("x2",u.width/2+y).attr("y1",-u.height/2-y+f.height+y).attr("y2",-u.height/2-y+f.height+y);return Z(t,_),t.intersect=function(F){return G.rect(t,F)},s}m(B1,"rectWithTitle");function ps(e,t,r,n,i,s,a){const l=(e+r)/2,c=(t+n)/2,h=Math.atan2(n-t,r-e),u=(r-e)/2,d=(n-t)/2,f=u/i,p=d/s,g=Math.sqrt(f**2+p**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-g**2),y=l+x*s*Math.sin(h)*(a?-1:1),b=c-x*i*Math.cos(h)*(a?-1:1),w=Math.atan2((t-b)/s,(e-y)/i);let S=Math.atan2((n-b)/s,(r-y)/i)-w;a&&S<0&&(S+=2*Math.PI),!a&&S>0&&(S-=2*Math.PI);const _=[];for(let A=0;A<20;A++){const F=A/19,R=w+F*S,v=y+i*Math.cos(R),L=b+s*Math.sin(R);_.push({x:v,y:L})}return _}m(ps,"generateArcPoints");async function M1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=t?.padding??0,o=t?.padding??0,l=(t?.width?t?.width:s.width)+a*2,c=(t?.height?t?.height:s.height)+o*2,h=t.radius||5,u=t.taper||5,{cssStyles:d}=t,f=K.svg(i),p=Q(t,{});t.stroke&&(p.stroke=t.stroke),t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-l/2+u,y:-c/2},{x:l/2-u,y:-c/2},...ps(l/2-u,-c/2,l/2,-c/2+u,h,h,!0),{x:l/2,y:-c/2+u},{x:l/2,y:c/2-u},...ps(l/2,c/2-u,l/2-u,c/2,h,h,!0),{x:l/2-u,y:c/2},{x:-l/2+u,y:c/2},...ps(-l/2+u,c/2,-l/2,c/2-u,h,h,!0),{x:-l/2,y:c/2-u},{x:-l/2,y:-c/2+u},...ps(-l/2,-c/2+u,-l/2+u,-c/2,h,h,!0)],x=Ct(g),y=f.path(x,p),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container outer-path"),d&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),Z(t,b),t.intersect=function(w){return G.polygon(t,g,w)},i}m(M1,"roundedRect");async function I1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=t?.padding??0,l=Math.max(s.width+(t.padding??0)*2,t?.width??0),c=Math.max(s.height+(t.padding??0)*2,t?.height??0),h=-s.width/2-o,u=-s.height/2-o,{cssStyles:d}=t,f=K.svg(i),p=Q(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:h,y:u},{x:h+l+8,y:u},{x:h+l+8,y:u+c},{x:h-8,y:u+c},{x:h-8,y:u},{x:h,y:u},{x:h,y:u+c}],x=f.polygon(g.map(b=>[b.x,b.y]),p),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container").attr("style",fe(d)),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),d&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),a.attr("transform",`translate(${-l/2+4+(t.padding??0)-(s.x-(s.left??0))},${-c/2+(t.padding??0)-(s.y-(s.top??0))})`),Z(t,y),t.intersect=function(b){return G.rect(t,b)},i}m(I1,"shadedProcess");async function $1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=-o/2,h=-l/2,{cssStyles:u}=t,d=K.svg(i),f=Q(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:c,y:h},{x:c,y:h+l},{x:c+o,y:h+l},{x:c+o,y:h-l/2}],g=Ct(p),x=d.path(g,f),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),y.attr("transform",`translate(0, ${l/4})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))}, ${-l/4+(t.padding??0)-(s.y-(s.top??0))})`),Z(t,y),t.intersect=function(b){return G.polygon(t,p,b)},i}m($1,"slopedRect");async function F1(e,t){const r={rx:0,ry:0,labelPaddingX:t.labelPaddingX??(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return Ul(e,t,r)}m(F1,"squareRect");async function R1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.height+t.padding,o=s.width+a/4+t.padding,l=a/2,{cssStyles:c}=t,h=K.svg(i),u=Q(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=[{x:-o/2+l,y:-a/2},{x:o/2-l,y:-a/2},...Qs(-o/2+l,0,l,50,90,270),{x:o/2-l,y:a/2},...Qs(o/2-l,0,l,50,270,450)],f=Ct(d),p=h.path(f,u),g=i.insert(()=>p,":first-child");return g.attr("class","basic label-container outer-path"),c&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",c),n&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",n),Z(t,g),t.intersect=function(x){return G.polygon(t,d,x)},i}m(R1,"stadium");async function O1(e,t){return Ul(e,t,{rx:5,ry:5})}m(O1,"state");function P1(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=J(t);t.labelStyle=n;const{cssStyles:s}=t,{lineColor:a,stateBorder:o,nodeBorder:l}=r,c=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),h=K.svg(c),u=Q(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=h.circle(0,0,14,{...u,stroke:a,strokeWidth:2}),f=o??l,p=h.circle(0,0,5,{...u,fill:f,stroke:f,strokeWidth:2,fillStyle:"solid"}),g=c.insert(()=>d,":first-child");return g.insert(()=>p),s&&g.selectAll("path").attr("style",s),i&&g.selectAll("path").attr("style",i),Z(t,g),t.intersect=function(x){return G.circle(t,7,x)},c}m(P1,"stateEnd");function D1(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s;if(t.look==="handDrawn"){const o=K.svg(i).circle(0,0,14,uF(n));s=i.insert(()=>o),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Z(t,s),t.intersect=function(a){return G.circle(t,7,a)},i}m(D1,"stateStart");async function N1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=(t?.padding||0)/2,o=s.width+t.padding,l=s.height+t.padding,c=-s.width/2-a,h=-s.height/2-a,u=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(t.look==="handDrawn"){const d=K.svg(i),f=Q(t,{}),p=d.rectangle(c-8,h,o+16,l,f),g=d.line(c,h,c,h+l,f),x=d.line(c+o,h,c+o,h+l,f);i.insert(()=>g,":first-child"),i.insert(()=>x,":first-child");const y=i.insert(()=>p,":first-child"),{cssStyles:b}=t;y.attr("class","basic label-container").attr("style",fe(b)),Z(t,y)}else{const d=on(i,o,l,u);n&&d.attr("style",n),Z(t,d)}return t.intersect=function(d){return G.polygon(t,u,d)},i}m(N1,"subroutine");async function z1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=Math.max(s.width+(t.padding??0)*2,t?.width??0),o=Math.max(s.height+(t.padding??0)*2,t?.height??0),l=-a/2,c=-o/2,h=.2*o,u=.2*o,{cssStyles:d}=t,f=K.svg(i),p=Q(t,{}),g=[{x:l-h/2,y:c},{x:l+a+h/2,y:c},{x:l+a+h/2,y:c+o},{x:l-h/2,y:c+o}],x=[{x:l+a-h/2,y:c+o},{x:l+a+h/2,y:c+o},{x:l+a+h/2,y:c+o-u}];t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=Ct(g),b=f.path(y,p),w=Ct(x),k=f.path(w,{...p,fillStyle:"solid"}),S=i.insert(()=>k,":first-child");return S.insert(()=>b,":first-child"),S.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),Z(t,S),t.intersect=function(_){return G.polygon(t,g,_)},i}m(z1,"taggedRect");async function q1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=l/4,h=.2*o,u=.2*l,d=l+c,{cssStyles:f}=t,p=K.svg(i),g=Q(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=[{x:-o/2-o/2*.1,y:d/2},...en(-o/2-o/2*.1,d/2,o/2+o/2*.1,d/2,c,.8),{x:o/2+o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:-d/2}],y=-o/2+o/2*.1,b=-d/2-u*.4,w=[{x:y+o-h,y:(b+l)*1.4},{x:y+o,y:b+l-u},{x:y+o,y:(b+l)*.9},...en(y+o,(b+l)*1.3,y+o-h,(b+l)*1.5,-l*.03,.5)],k=Ct(x),S=p.path(k,g),_=Ct(w),A=p.path(_,{...g,fillStyle:"solid"}),F=i.insert(()=>A,":first-child");return F.insert(()=>S,":first-child"),F.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&F.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&F.selectAll("path").attr("style",n),F.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c/2-(s.y-(s.top??0))})`),Z(t,F),t.intersect=function(R){return G.polygon(t,x,R)},i}m(q1,"taggedWaveEdgedRectangle");async function W1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=Math.max(s.width+t.padding,t?.width||0),o=Math.max(s.height+t.padding,t?.height||0),l=-a/2,c=-o/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",a).attr("height",o),Z(t,h),t.intersect=function(u){return G.rect(t,u)},i}m(W1,"text");var QD=m((e,t,r,n,i,s)=>`M${e},${t}
    a${i},${s} 0,0,1 0,${-n}
    l${r},0
    a${i},${s} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${s} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),JD=m((e,t,r,n,i,s)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${s} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${s} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),ZD=m((e,t,r,n,i,s)=>[`M${e+r/2},${-n/2}`,`a${i},${s} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function H1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a,halfPadding:o}=await lt(e,t,at(t)),l=t.look==="neo"?o*2:o,c=s.height+l,h=c/2,u=h/(2.5+c/50),d=s.width+u+l,{cssStyles:f}=t;let p;if(t.look==="handDrawn"){const g=K.svg(i),x=JD(0,0,d,c,u,h),y=ZD(0,0,d,c,u,h),b=g.path(x,Q(t,{})),w=g.path(y,Q(t,{fill:"none"}));p=i.insert(()=>w,":first-child"),p=i.insert(()=>b,":first-child"),p.attr("class","basic label-container"),f&&p.attr("style",f)}else{const g=QD(0,0,d,c,u,h);p=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",fe(f)).attr("style",n),p.attr("class","basic label-container"),f&&p.selectAll("path").attr("style",f),n&&p.selectAll("path").attr("style",n)}return p.attr("label-offset-x",u),p.attr("transform",`translate(${-d/2}, ${c/2} )`),a.attr("transform",`translate(${-(s.width/2)-u-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Z(t,p),t.intersect=function(g){const x=G.rect(t,g),y=x.y-(t.y??0);if(h!=0&&(Math.abs(y)<(t.height??0)/2||Math.abs(y)==(t.height??0)/2&&Math.abs(x.x-(t.x??0))>(t.width??0)/2-u)){let b=u*u*(1-y*y/(h*h));b!=0&&(b=Math.sqrt(Math.abs(b))),b=u-b,g.x-(t.x??0)>0&&(b=-b),x.x+=b}return x},i}m(H1,"tiltedCylinder");async function j1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.width+t.padding,o=s.height+t.padding,l=[{x:-3*o/6,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:0,y:-o}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=K.svg(i),d=Q(t,{}),f=Ct(l),p=u.path(f,d);c=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=on(i,a,o,l);return n&&c.attr("style",n),t.width=a,t.height=o,Z(t,c),t.intersect=function(u){return G.polygon(t,l,u)},i}m(j1,"trapezoid");async function U1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=60,o=20,l=Math.max(a,s.width+(t.padding??0)*2,t?.width??0),c=Math.max(o,s.height+(t.padding??0)*2,t?.height??0),{cssStyles:h}=t,u=K.svg(i),d=Q(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const f=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],p=Ct(f),g=u.path(p,d),x=i.insert(()=>g,":first-child");return x.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),Z(t,x),t.intersect=function(y){return G.polygon(t,f,y)},i}m(U1,"trapezoidalPentagon");async function V1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Xt(Lt().flowchart?.htmlLabels),l=s.width+(t.padding??0),c=l+s.height,h=l+s.height,u=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-c}],{cssStyles:d}=t,f=K.svg(i),p=Q(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=Ct(u),x=f.path(g,p),y=i.insert(()=>x,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return d&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),t.width=l,t.height=c,Z(t,y),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${c/2-(s.height+(t.padding??0)/(o?2:1)-(s.y-(s.top??0)))})`),t.intersect=function(b){return N.info("Triangle intersect",t,u,b),G.polygon(t,u,b)},i}m(V1,"triangle");async function Y1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=l/8,h=l+c,{cssStyles:u}=t,f=70-o,p=f>0?f/2:0,g=K.svg(i),x=Q(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const y=[{x:-o/2-p,y:h/2},...en(-o/2-p,h/2,o/2+p,h/2,c,.8),{x:o/2+p,y:-h/2},{x:-o/2-p,y:-h/2}],b=Ct(y),w=g.path(b,x),k=i.insert(()=>w,":first-child");return k.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c-(s.y-(s.top??0))})`),Z(t,k),t.intersect=function(S){return G.polygon(t,y,S)},i}m(Y1,"waveEdgedRectangle");async function G1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=100,o=50,l=Math.max(s.width+(t.padding??0)*2,t?.width??0),c=Math.max(s.height+(t.padding??0)*2,t?.height??0),h=l/c;let u=l,d=c;u>d*h?d=u/h:u=d*h,u=Math.max(u,a),d=Math.max(d,o);const f=Math.min(d*.2,d/4),p=d+f*2,{cssStyles:g}=t,x=K.svg(i),y=Q(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=[{x:-u/2,y:p/2},...en(-u/2,p/2,u/2,p/2,f,1),{x:u/2,y:-p/2},...en(u/2,-p/2,-u/2,-p/2,f,-1)],w=Ct(b),k=x.path(w,y),S=i.insert(()=>k,":first-child");return S.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),Z(t,S),t.intersect=function(_){return G.polygon(t,b,_)},i}m(G1,"waveRectangle");async function X1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=5,h=-o/2,u=-l/2,{cssStyles:d}=t,f=K.svg(i),p=Q(t,{}),g=[{x:h-c,y:u-c},{x:h-c,y:u+l},{x:h+o,y:u+l},{x:h+o,y:u-c}],x=`M${h-c},${u-c} L${h+o},${u-c} L${h+o},${u+l} L${h-c},${u+l} L${h-c},${u-c}
                M${h-c},${u} L${h+o},${u}
                M${h},${u-c} L${h},${u+l}`;t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=f.path(x,p),b=i.insert(()=>y,":first-child");return b.attr("transform",`translate(${c/2}, ${c/2})`),b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)+c/2-(s.x-(s.left??0))}, ${-(s.height/2)+c/2-(s.y-(s.top??0))})`),Z(t,b),t.intersect=function(w){return G.polygon(t,g,w)},i}m(X1,"windowPane");async function Hf(e,t){const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:gt}=he(),{background:C}=gt,$t={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${C}`]};await Hf(e,$t)}const n=he();t.useHtmlLabels=n.htmlLabels;let i=n.er?.diagramPadding??10,s=n.er?.entityPadding??6;const{cssStyles:a}=t,{labelStyles:o,nodeStyles:l}=J(t);if(r.attributes.length===0&&t.label){const gt={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};Dr(t.label,n)+gt.labelPaddingX*2<n.er.minEntityWidth&&(t.width=n.er.minEntityWidth);const C=await Ul(e,t,gt);if(!Xt(n.htmlLabels)){const $t=C.select("text"),mt=$t.node()?.getBBox();$t.attr("transform",`translate(${-mt.width/2}, 0)`)}return C}n.htmlLabels||(i*=1.25,s*=1.25);let c=at(t);c||(c="node default");const h=e.insert("g").attr("class",c).attr("id",t.domId||t.id),u=await ii(h,t.label??"",n,0,0,["name"],o);u.height+=s;let d=0;const f=[],p=[];let g=0,x=0,y=0,b=0,w=!0,k=!0;for(const gt of r.attributes){const C=await ii(h,gt.type,n,0,d,["attribute-type"],o);g=Math.max(g,C.width+i);const $t=await ii(h,gt.name,n,0,d,["attribute-name"],o);x=Math.max(x,$t.width+i);const mt=await ii(h,gt.keys.join(),n,0,d,["attribute-keys"],o);y=Math.max(y,mt.width+i);const At=await ii(h,gt.comment,n,0,d,["attribute-comment"],o);b=Math.max(b,At.width+i);const Kt=Math.max(C.height,$t.height,mt.height,At.height)+s;p.push({yOffset:d,rowHeight:Kt}),d+=Kt}let S=4;y<=i&&(w=!1,y=0,S--),b<=i&&(k=!1,b=0,S--);const _=h.node().getBBox();if(u.width+i*2-(g+x+y+b)>0){const gt=u.width+i*2-(g+x+y+b);g+=gt/S,x+=gt/S,y>0&&(y+=gt/S),b>0&&(b+=gt/S)}const A=g+x+y+b,F=K.svg(h),R=Q(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");let v=0;p.length>0&&(v=p.reduce((gt,C)=>gt+(C?.rowHeight??0),0));const L=Math.max(_.width+i*2,t?.width||0,A),O=Math.max((v??0)+u.height,t?.height||0),I=-L/2,M=-O/2;h.selectAll("g:not(:first-child)").each((gt,C,$t)=>{const mt=St($t[C]),At=mt.attr("transform");let Kt=0,Se=0;if(At){const Re=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(At);Re&&(Kt=parseFloat(Re[1]),Se=parseFloat(Re[2]),mt.attr("class").includes("attribute-name")?Kt+=g:mt.attr("class").includes("attribute-keys")?Kt+=g+x:mt.attr("class").includes("attribute-comment")&&(Kt+=g+x+y))}mt.attr("transform",`translate(${I+i/2+Kt}, ${Se+M+u.height+s/2})`)}),h.select(".name").attr("transform","translate("+-u.width/2+", "+(M+s/2)+")");const D=F.rectangle(I,M,L,O,R),z=h.insert(()=>D,":first-child").attr("style",a.join("")),{themeVariables:U}=he(),{rowEven:Y,rowOdd:Tt,nodeBorder:T}=U;f.push(0);for(const[gt,C]of p.entries()){const mt=(gt+1)%2===0&&C.yOffset!==0,At=F.rectangle(I,u.height+M+C?.yOffset,L,C?.rowHeight,{...R,fill:mt?Y:Tt,stroke:T});h.insert(()=>At,"g.label").attr("style",a.join("")).attr("class",`row-rect-${mt?"even":"odd"}`)}let pt=F.line(I,u.height+M,L+I,u.height+M,R);h.insert(()=>pt).attr("class","divider"),pt=F.line(g+I,u.height+M,g+I,O+M,R),h.insert(()=>pt).attr("class","divider"),w&&(pt=F.line(g+x+I,u.height+M,g+x+I,O+M,R),h.insert(()=>pt).attr("class","divider")),k&&(pt=F.line(g+x+y+I,u.height+M,g+x+y+I,O+M,R),h.insert(()=>pt).attr("class","divider"));for(const gt of f)pt=F.line(I,u.height+M+gt,L+I,u.height+M+gt,R),h.insert(()=>pt).attr("class","divider");if(Z(t,z),l&&t.look!=="handDrawn"){const C=l.split(";")?.filter($t=>$t.includes("stroke"))?.map($t=>`${$t}`).join("; ");h.selectAll("path").attr("style",C??""),h.selectAll(".row-rect-even path").attr("style",l)}return t.intersect=function(gt){return G.rect(t,gt)},h}m(Hf,"erBox");async function ii(e,t,r,n=0,i=0,s=[],a=""){const o=e.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${n}, ${i})`).attr("style",a);t!==Pp(t)&&(t=Pp(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=o.node().appendChild(await sn(o,t,{width:Dr(t,r)+100,style:a,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let h=l.children[0];for(h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");h.childNodes[0];)h=h.childNodes[0],h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(Xt(r.htmlLabels)){const h=l.children[0];h.style.textAlign="start";const u=St(l);c=h.getBoundingClientRect(),u.attr("width",c.width),u.attr("height",c.height)}return c}m(ii,"addText");async function K1(e,t,r,n,i=r.class.padding??12){const s=n?0:3,a=e.insert("g").attr("class",at(t)).attr("id",t.domId||t.id);let o=null,l=null,c=null,h=null,u=0,d=0,f=0;if(o=a.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const b=t.annotations[0];await gs(o,{text:`«${b}»`},0),u=o.node().getBBox().height}l=a.insert("g").attr("class","label-group text"),await gs(l,t,0,["font-weight: bolder"]);const p=l.node().getBBox();d=p.height,c=a.insert("g").attr("class","members-group text");let g=0;for(const b of t.members){const w=await gs(c,b,g,[b.parseClassifier()]);g+=w+s}f=c.node().getBBox().height,f<=0&&(f=i/2),h=a.insert("g").attr("class","methods-group text");let x=0;for(const b of t.methods){const w=await gs(h,b,x,[b.parseClassifier()]);x+=w+s}let y=a.node().getBBox();if(o!==null){const b=o.node().getBBox();o.attr("transform",`translate(${-b.width/2})`)}return l.attr("transform",`translate(${-p.width/2}, ${u})`),y=a.node().getBBox(),c.attr("transform",`translate(0, ${u+d+i*2})`),y=a.node().getBBox(),h.attr("transform",`translate(0, ${u+d+(f?f+i*4:i*2)})`),y=a.node().getBBox(),{shapeSvg:a,bbox:y}}m(K1,"textHelper");async function gs(e,t,r,n=[]){const i=e.insert("g").attr("class","label").attr("style",n.join("; ")),s=he();let a="useHtmlLabels"in t?t.useHtmlLabels:Xt(s.htmlLabels)??!0,o="";"text"in t?o=t.text:o=t.label,!a&&o.startsWith("\\")&&(o=o.substring(1)),Ti(o)&&(a=!0);const l=await sn(i,Ju(Wn(o)),{width:Dr(o,s)+50,classes:"markdown-node-label",useHtmlLabels:a},s);let c,h=1;if(a){const u=l.children[0],d=St(l);h=u.innerHTML.split("<br>").length,u.innerHTML.includes("</math>")&&(h+=u.innerHTML.split("<mrow>").length-1);const f=u.getElementsByTagName("img");if(f){const p=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...f].map(g=>new Promise(x=>{function y(){if(g.style.display="flex",g.style.flexDirection="column",p){const b=s.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,k=parseInt(b,10)*5+"px";g.style.minWidth=k,g.style.maxWidth=k}else g.style.width="100%";x(g)}m(y,"setupImage"),setTimeout(()=>{g.complete&&y()}),g.addEventListener("error",y),g.addEventListener("load",y)})))}c=u.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}else{n.includes("font-weight: bolder")&&St(l).selectAll("tspan").attr("font-weight",""),h=l.children.length;const u=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(u.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(u.textContent=u.textContent[0]+" "+u.textContent.substring(1))),u.textContent==="undefined"&&(u.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*h)+r)+")"),c.height}m(gs,"addText");async function Q1(e,t){const r=Lt(),n=r.class.padding??12,i=n,s=t.useHtmlLabels??Xt(r.htmlLabels)??!0,a=t;a.annotations=a.annotations??[],a.members=a.members??[],a.methods=a.methods??[];const{shapeSvg:o,bbox:l}=await K1(e,t,r,s,i),{labelStyles:c,nodeStyles:h}=J(t);t.labelStyle=c,t.cssStyles=a.styles||"";const u=a.styles?.join(";")||h||"";t.cssStyles||(t.cssStyles=u.replaceAll("!important","").split(";"));const d=a.members.length===0&&a.methods.length===0&&!r.class?.hideEmptyMembersBox,f=K.svg(o),p=Q(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=l.width;let x=l.height;a.members.length===0&&a.methods.length===0?x+=i:a.members.length>0&&a.methods.length===0&&(x+=i*2);const y=-g/2,b=-x/2,w=f.rectangle(y-n,b-n-(d?n:a.members.length===0&&a.methods.length===0?-n/2:0),g+2*n,x+2*n+(d?n*2:a.members.length===0&&a.methods.length===0?-n:0),p),k=o.insert(()=>w,":first-child");k.attr("class","basic label-container");const S=k.node().getBBox();o.selectAll(".text").each((R,v,L)=>{const O=St(L[v]),I=O.attr("transform");let M=0;if(I){const Y=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(I);Y&&(M=parseFloat(Y[2]))}let D=M+b+n-(d?n:a.members.length===0&&a.methods.length===0?-n/2:0);s||(D-=4);let z=y;(O.attr("class").includes("label-group")||O.attr("class").includes("annotation-group"))&&(z=-O.node()?.getBBox().width/2||0,o.selectAll("text").each(function(U,Y,Tt){window.getComputedStyle(Tt[Y]).textAnchor==="middle"&&(z=0)})),O.attr("transform",`translate(${z}, ${D})`)});const _=o.select(".annotation-group").node().getBBox().height-(d?n/2:0)||0,A=o.select(".label-group").node().getBBox().height-(d?n/2:0)||0,F=o.select(".members-group").node().getBBox().height-(d?n/2:0)||0;if(a.members.length>0||a.methods.length>0||d){const R=f.line(S.x,_+A+b+n,S.x+S.width,_+A+b+n,p);o.insert(()=>R).attr("class","divider").attr("style",u)}if(d||a.members.length>0||a.methods.length>0){const R=f.line(S.x,_+A+F+b+i*2+n,S.x+S.width,_+A+F+b+n+i*2,p);o.insert(()=>R).attr("class","divider").attr("style",u)}if(a.look!=="handDrawn"&&o.selectAll("path").attr("style",u),k.select(":nth-child(2)").attr("style",u),o.selectAll(".divider").select("path").attr("style",u),t.labelStyle?o.selectAll("span").attr("style",t.labelStyle):o.selectAll("span").attr("style",u),!s){const R=RegExp(/color\s*:\s*([^;]*)/),v=R.exec(u);if(v){const L=v[0].replace("color","fill");o.selectAll("tspan").attr("style",L)}else if(c){const L=R.exec(c);if(L){const O=L[0].replace("color","fill");o.selectAll("tspan").attr("style",O)}}}return Z(t,k),t.intersect=function(R){return G.rect(t,R)},o}m(Q1,"classBox");async function J1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const i=t,s=t,a=20,o=20,l="verifyMethod"in t,c=at(t),h=e.insert("g").attr("class",c).attr("id",t.domId??t.id);let u;l?u=await fr(h,`&lt;&lt;${i.type}&gt;&gt;`,0,t.labelStyle):u=await fr(h,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let d=u;const f=await fr(h,i.name,d,t.labelStyle+"; font-weight: bold;");if(d+=f+o,l){const _=await fr(h,`${i.requirementId?`ID: ${i.requirementId}`:""}`,d,t.labelStyle);d+=_;const A=await fr(h,`${i.text?`Text: ${i.text}`:""}`,d,t.labelStyle);d+=A;const F=await fr(h,`${i.risk?`Risk: ${i.risk}`:""}`,d,t.labelStyle);d+=F,await fr(h,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,d,t.labelStyle)}else{const _=await fr(h,`${s.type?`Type: ${s.type}`:""}`,d,t.labelStyle);d+=_,await fr(h,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,d,t.labelStyle)}const p=(h.node()?.getBBox().width??200)+a,g=(h.node()?.getBBox().height??200)+a,x=-p/2,y=-g/2,b=K.svg(h),w=Q(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const k=b.rectangle(x,y,p,g,w),S=h.insert(()=>k,":first-child");if(S.attr("class","basic label-container").attr("style",n),h.selectAll(".label").each((_,A,F)=>{const R=St(F[A]),v=R.attr("transform");let L=0,O=0;if(v){const z=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(v);z&&(L=parseFloat(z[1]),O=parseFloat(z[2]))}const I=O-g/2;let M=x+a/2;(A===0||A===1)&&(M=L),R.attr("transform",`translate(${M}, ${I+a})`)}),d>u+f+o){const _=b.line(x,y+u+f+o,x+p,y+u+f+o,w);h.insert(()=>_).attr("style",n)}return Z(t,S),t.intersect=function(_){return G.rect(t,_)},h}m(J1,"requirementBox");async function fr(e,t,r,n=""){if(t==="")return 0;const i=e.insert("g").attr("class","label").attr("style",n),s=Lt(),a=s.htmlLabels??!0,o=await sn(i,Ju(Wn(t)),{width:Dr(t,s)+50,classes:"markdown-node-label",useHtmlLabels:a,style:n},s);let l;if(a){const c=o.children[0],h=St(o);l=c.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}else{const c=o.children[0];for(const h of c.children)h.textContent=h.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&h.setAttribute("style",n);l=o.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}m(fr,"addText");var t3=m(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function Z1(e,t,{config:r}){const{labelStyles:n,nodeStyles:i}=J(t);t.labelStyle=n||"";const s=10,a=t.width;t.width=(t.width??200)-10;const{shapeSvg:o,bbox:l,label:c}=await lt(e,t,at(t)),h=t.padding||10;let u="",d;"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(u=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),d=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",u).attr("target","_blank"));const f={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let p,g;d?{label:p,bbox:g}=await qc(d,"ticket"in t&&t.ticket||"",f):{label:p,bbox:g}=await qc(o,"ticket"in t&&t.ticket||"",f);const{label:x,bbox:y}=await qc(o,"assigned"in t&&t.assigned||"",f);t.width=a;const b=10,w=t?.width||0,k=Math.max(g.height,y.height)/2,S=Math.max(l.height+b*2,t?.height||0)+k,_=-w/2,A=-S/2;c.attr("transform","translate("+(h-w/2)+", "+(-k-l.height/2)+")"),p.attr("transform","translate("+(h-w/2)+", "+(-k+l.height/2)+")"),x.attr("transform","translate("+(h+w/2-y.width-2*s)+", "+(-k+l.height/2)+")");let F;const{rx:R,ry:v}=t,{cssStyles:L}=t;if(t.look==="handDrawn"){const O=K.svg(o),I=Q(t,{}),M=R||v?O.path(an(_,A,w,S,R||0),I):O.rectangle(_,A,w,S,I);F=o.insert(()=>M,":first-child"),F.attr("class","basic label-container").attr("style",L||null)}else{F=o.insert("rect",":first-child"),F.attr("class","basic label-container __APA__").attr("style",i).attr("rx",R??5).attr("ry",v??5).attr("x",_).attr("y",A).attr("width",w).attr("height",S);const O="priority"in t&&t.priority;if(O){const I=o.append("line"),M=_+2,D=A+Math.floor((R??0)/2),z=A+S-Math.floor((R??0)/2);I.attr("x1",M).attr("y1",D).attr("x2",M).attr("y2",z).attr("stroke-width","4").attr("stroke",t3(O))}}return Z(t,F),t.height=S,t.intersect=function(O){return G.rect(t,O)},o}m(Z1,"kanbanItem");async function t_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await lt(e,t,at(t)),l=s.width+10*a,c=s.height+8*a,h=.15*l,{cssStyles:u}=t,d=s.width+20,f=s.height+20,p=Math.max(l,d),g=Math.max(c,f);o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let x;const y=`M0 0 
    a${h},${h} 1 0,0 ${p*.25},${-1*g*.1}
    a${h},${h} 1 0,0 ${p*.25},0
    a${h},${h} 1 0,0 ${p*.25},0
    a${h},${h} 1 0,0 ${p*.25},${g*.1}

    a${h},${h} 1 0,0 ${p*.15},${g*.33}
    a${h*.8},${h*.8} 1 0,0 0,${g*.34}
    a${h},${h} 1 0,0 ${-1*p*.15},${g*.33}

    a${h},${h} 1 0,0 ${-1*p*.25},${g*.15}
    a${h},${h} 1 0,0 ${-1*p*.25},0
    a${h},${h} 1 0,0 ${-1*p*.25},0
    a${h},${h} 1 0,0 ${-1*p*.25},${-1*g*.15}

    a${h},${h} 1 0,0 ${-1*p*.1},${-1*g*.33}
    a${h*.8},${h*.8} 1 0,0 0,${-1*g*.34}
    a${h},${h} 1 0,0 ${p*.1},${-1*g*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const b=K.svg(i),w=Q(t,{}),k=b.path(y,w);x=i.insert(()=>k,":first-child"),x.attr("class","basic label-container").attr("style",fe(u))}else x=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",y);return x.attr("transform",`translate(${-p/2}, ${-g/2})`),Z(t,x),t.calcIntersect=function(b,w){return G.rect(b,w)},t.intersect=function(b){return N.info("Bang intersect",t,b),G.rect(t,b)},i}m(t_,"bang");async function e_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await lt(e,t,at(t)),l=s.width+2*a,c=s.height+2*a,h=.15*l,u=.25*l,d=.35*l,f=.2*l,{cssStyles:p}=t;let g;const x=`M0 0 
    a${h},${h} 0 0,1 ${l*.25},${-1*l*.1}
    a${d},${d} 1 0,1 ${l*.4},${-1*l*.1}
    a${u},${u} 1 0,1 ${l*.35},${l*.2}

    a${h},${h} 1 0,1 ${l*.15},${c*.35}
    a${f},${f} 1 0,1 ${-1*l*.15},${c*.65}

    a${u},${h} 1 0,1 ${-1*l*.25},${l*.15}
    a${d},${d} 1 0,1 ${-1*l*.5},0
    a${h},${h} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${h},${h} 1 0,1 ${-1*l*.1},${-1*c*.35}
    a${f},${f} 1 0,1 ${l*.1},${-1*c*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const y=K.svg(i),b=Q(t,{}),w=y.path(x,b);g=i.insert(()=>w,":first-child"),g.attr("class","basic label-container").attr("style",fe(p))}else g=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",x);return o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),g.attr("transform",`translate(${-l/2}, ${-c/2})`),Z(t,g),t.calcIntersect=function(y,b){return G.rect(y,b)},t.intersect=function(y){return N.info("Cloud intersect",t,y),G.rect(t,y)},i}m(e_,"cloud");async function r_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await lt(e,t,at(t)),l=s.width+8*a,c=s.height+2*a,h=5,u=`
    M${-l/2} ${c/2-h}
    v${-c+2*h}
    q0,-${h} ${h},-${h}
    h${l-2*h}
    q${h},0 ${h},${h}
    v${c-2*h}
    q0,${h} -${h},${h}
    h${-l+2*h}
    q-${h},0 -${h},-${h}
    Z
  `,d=i.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",n).attr("d",u);return i.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",c/2).attr("x2",l/2).attr("y2",c/2),o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>o.node()),Z(t,d),t.calcIntersect=function(f,p){return G.rect(f,p)},t.intersect=function(f){return G.rect(t,f)},i}m(r_,"defaultMindmapNode");async function n_(e,t){const r={padding:t.padding??0};return Wf(e,t,r)}m(n_,"mindmapCircle");var e3=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:F1},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:M1},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:R1},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:N1},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:i1},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Wf},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:t_},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:e_},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:E1},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:u1},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:_1},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:w1},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:j1},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:x1},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:a1},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:W1},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Kw},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:I1},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:D1},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:P1},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:c1},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:f1},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:t1},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:e1},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:r1},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:k1},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:Y1},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:h1},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:H1},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:C1},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:n1},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:s1},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:V1},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:X1},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:o1},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:U1},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:l1},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:$1},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:T1},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:v1},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Xw},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:Zw},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:q1},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:z1},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:G1},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:L1},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:S1}],r3=m(()=>{const t=[...Object.entries({state:O1,choice:Qw,note:A1,rectWithTitle:B1,labelRect:b1,iconSquare:m1,iconCircle:p1,icon:d1,iconRounded:g1,imageSquare:y1,anchor:Gw,kanbanItem:Z1,mindmapCircle:n_,defaultMindmapNode:r_,classBox:Q1,erBox:Hf,requirementBox:J1}),...e3.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),i_=r3();function n3(e){return e in i_}m(n3,"isValidShape");var Vl=new Map;async function s_(e,t,r){let n,i;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const s=t.shape?i_[t.shape]:void 0;if(!s)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let a;r.config.securityLevel==="sandbox"?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a??null),i=await s(n,t,r)}else i=await s(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),Vl.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}m(s_,"insertNode");var aq=m((e,t)=>{Vl.set(t.id,e)},"setNodeElem"),oq=m(()=>{Vl.clear()},"clear"),lq=m(e=>{const t=Vl.get(e.id);N.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),i3=m((e,t,r,n,i,s)=>{t.arrowTypeStart&&jg(e,"start",t.arrowTypeStart,r,n,i,s),t.arrowTypeEnd&&jg(e,"end",t.arrowTypeEnd,r,n,i,s)},"addEdgeMarkers"),s3={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},jg=m((e,t,r,n,i,s,a)=>{const o=s3[r];if(!o){N.warn(`Unknown arrow type: ${r}`);return}const l=o.type,h=`${i}_${s}-${l}${t==="start"?"Start":"End"}`;if(a&&a.trim()!==""){const u=a.replace(/[^\dA-Za-z]/g,"_"),d=`${h}_${u}`;if(!document.getElementById(d)){const f=document.getElementById(h);if(f){const p=f.cloneNode(!0);p.id=d,p.querySelectorAll("path, circle, line").forEach(x=>{x.setAttribute("stroke",a),o.fill&&x.setAttribute("fill",a)}),f.parentNode?.appendChild(p)}}e.attr(`marker-${t}`,`url(${n}#${d})`)}else e.attr(`marker-${t}`,`url(${n}#${h})`)},"addEdgeMarker"),al=new Map,re=new Map,cq=m(()=>{al.clear(),re.clear()},"clear"),za=m(e=>e?e.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),a3=m(async(e,t)=>{let r=Xt(Lt().flowchart.htmlLabels);const{labelStyles:n}=J(t);t.labelStyle=n;const i=await sn(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});N.info("abc82",t,t.labelType);const s=e.insert("g").attr("class","edgeLabel"),a=s.insert("g").attr("class","label").attr("data-id",t.id);a.node().appendChild(i);let o=i.getBBox();if(r){const c=i.children[0],h=St(i);o=c.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),al.set(t.id,s),t.width=o.width,t.height=o.height;let l;if(t.startLabelLeft){const c=await Cn(t.startLabelLeft,za(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),re.get(t.id)||re.set(t.id,{}),re.get(t.id).startLeft=h,ms(l,t.startLabelLeft)}if(t.startLabelRight){const c=await Cn(t.startLabelRight,za(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=h.node().appendChild(c),u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),re.get(t.id)||re.set(t.id,{}),re.get(t.id).startRight=h,ms(l,t.startLabelRight)}if(t.endLabelLeft){const c=await Cn(t.endLabelLeft,za(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(c),re.get(t.id)||re.set(t.id,{}),re.get(t.id).endLeft=h,ms(l,t.endLabelLeft)}if(t.endLabelRight){const c=await Cn(t.endLabelRight,za(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(c),re.get(t.id)||re.set(t.id,{}),re.get(t.id).endRight=h,ms(l,t.endLabelRight)}return i},"insertEdgeLabel");function ms(e,t){Lt().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}m(ms,"setTerminalWidth");var o3=m((e,t)=>{N.debug("Moving label abc88 ",e.id,e.label,al.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=Lt(),{subGraphTitleTotalMargin:i}=bf(n);if(e.label){const s=al.get(e.id);let a=e.x,o=e.y;if(r){const l=rr.calcLabelPosition(r);N.debug("Moving label "+e.label+" from (",a,",",o,") to (",l.x,",",l.y,") abc88"),t.updatedPath&&(a=l.x,o=l.y)}s.attr("transform",`translate(${a}, ${o+i/2})`)}if(e.startLabelLeft){const s=re.get(e.id).startLeft;let a=e.x,o=e.y;if(r){const l=rr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.startLabelRight){const s=re.get(e.id).startRight;let a=e.x,o=e.y;if(r){const l=rr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.endLabelLeft){const s=re.get(e.id).endLeft;let a=e.x,o=e.y;if(r){const l=rr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.endLabelRight){const s=re.get(e.id).endRight;let a=e.x,o=e.y;if(r){const l=rr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}},"positionEdgeLabel"),l3=m((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-n),a=e.width/2,o=e.height/2;return i>=a||s>=o},"outsideNode"),c3=m((e,t,r)=>{N.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,s=Math.abs(n-r.x),a=e.width/2;let o=r.x<t.x?a-s:a+s;const l=e.height/2,c=Math.abs(t.y-r.y),h=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*a>Math.abs(n-t.x)*l){let u=r.y<t.y?t.y-l-i:i-l-t.y;o=h*u/c;const d={x:r.x<t.x?r.x+o:r.x-h+o,y:r.y<t.y?r.y+c-u:r.y-c+u};return o===0&&(d.x=t.x,d.y=t.y),h===0&&(d.x=t.x),c===0&&(d.y=t.y),N.debug(`abc89 top/bottom calc, Q ${c}, q ${u}, R ${h}, r ${o}`,d),d}else{r.x<t.x?o=t.x-a-n:o=n-a-t.x;let u=c*o/h,d=r.x<t.x?r.x+h-o:r.x-h+o,f=r.y<t.y?r.y+u:r.y-u;return N.debug(`sides calc abc89, Q ${c}, q ${u}, R ${h}, r ${o}`,{_x:d,_y:f}),o===0&&(d=t.x,f=t.y),h===0&&(d=t.x),c===0&&(f=t.y),{x:d,y:f}}},"intersection"),Ug=m((e,t)=>{N.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(s=>{if(N.info("abc88 checking point",s,t),!l3(t,s)&&!i){const a=c3(t,n,s);N.debug("abc88 inside",s,n,a),N.debug("abc88 intersection",a,t);let o=!1;r.forEach(l=>{o=o||l.x===a.x&&l.y===a.y}),r.some(l=>l.x===a.x&&l.y===a.y)?N.warn("abc88 no intersect",a,r):r.push(a),i=!0}else N.warn("abc88 outside",s,n),n=s,i||r.push(s)}),N.debug("returning points",r),r},"cutPathAtIntersect");function a_(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const i=e[n-1],s=e[n],a=e[n+1];(i.x===s.x&&s.y===a.y&&Math.abs(s.x-a.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===a.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-a.y)>5)&&(t.push(s),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}m(a_,"extractCornerPoints");var Vg=m(function(e,t,r){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i),a=r/s;return{x:t.x-a*n,y:t.y-a*i}},"findAdjacentPoint"),h3=m(function(e){const{cornerPointPositions:t}=a_(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const i=e[n-1],s=e[n+1],a=e[n],o=Vg(i,a,5),l=Vg(s,a,5),c=l.x-o.x,h=l.y-o.y;r.push(o);const u=Math.sqrt(2)*2;let d={x:a.x,y:a.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){N.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const f=5;a.x===o.x?d={x:c<0?o.x-f+u:o.x+f-u,y:h<0?o.y-u:o.y+u}:d={x:c<0?o.x-u:o.x+u,y:h<0?o.y-f+u:o.y+f-u}}else N.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));r.push(d,l)}else r.push(e[n]);return r},"fixCorners"),u3=m((e,t,r)=>{const n=e-t-r,i=2,s=2,a=i+s,o=Math.floor(n/a),l=Array(o).fill(`${i} ${s}`).join(" ");return`0 ${t} ${l} ${r}`},"generateDashArray"),f3=m(function(e,t,r,n,i,s,a,o=!1){const{handDrawnSeed:l}=Lt();let c=t.points,h=!1;const u=i;var d=s;const f=[];for(const M in t.cssCompiledStyles)Pb(M)||f.push(t.cssCompiledStyles[M]);N.debug("UIO intersect check",t.points,d.x,u.x),d.intersect&&u.intersect&&!o&&(c=c.slice(1,t.points.length-1),c.unshift(u.intersect(c[0])),N.debug("Last point UIO",t.start,"-->",t.end,c[c.length-1],d,d.intersect(c[c.length-1])),c.push(d.intersect(c[c.length-1])));const p=btoa(JSON.stringify(c));t.toCluster&&(N.info("to cluster abc88",r.get(t.toCluster)),c=Ug(t.points,r.get(t.toCluster).node),h=!0),t.fromCluster&&(N.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(c,null,2)),c=Ug(c.reverse(),r.get(t.fromCluster).node).reverse(),h=!0);let g=c.filter(M=>!Number.isNaN(M.y));g=h3(g);let x=io;switch(x=Po,t.curve){case"linear":x=Po;break;case"basis":x=io;break;case"cardinal":x=q0;break;case"bumpX":x=O0;break;case"bumpY":x=P0;break;case"catmullRom":x=H0;break;case"monotoneX":x=X0;break;case"monotoneY":x=K0;break;case"natural":x=J0;break;case"step":x=Z0;break;case"stepAfter":x=ex;break;case"stepBefore":x=tx;break;default:x=io}const{x:y,y:b}=hF(t),w=YI().x(y).y(b).curve(x);let k;switch(t.thickness){case"normal":k="edge-thickness-normal";break;case"thick":k="edge-thickness-thick";break;case"invisible":k="edge-thickness-invisible";break;default:k="edge-thickness-normal"}switch(t.pattern){case"solid":k+=" edge-pattern-solid";break;case"dotted":k+=" edge-pattern-dotted";break;case"dashed":k+=" edge-pattern-dashed";break;default:k+=" edge-pattern-solid"}let S,_=t.curve==="rounded"?o_(l_(g,t),5):w(g);const A=Array.isArray(t.style)?t.style:[t.style];let F=A.find(M=>M?.startsWith("stroke:")),R=!1;if(t.look==="handDrawn"){const M=K.svg(e);Object.assign([],g);const D=M.path(_,{roughness:.3,seed:l});k+=" transition",S=St(D).select("path").attr("id",t.id).attr("class"," "+k+(t.classes?" "+t.classes:"")).attr("style",A?A.reduce((U,Y)=>U+";"+Y,""):"");let z=S.attr("d");S.attr("d",z),e.node().appendChild(S.node())}else{const M=f.join(";"),D=A?A.reduce((gt,C)=>gt+C+";",""):"";let z="";t.animate&&(z=" edge-animation-fast"),t.animation&&(z=" edge-animation-"+t.animation);const U=(M?M+";"+D+";":D)+";"+(A?A.reduce((gt,C)=>gt+";"+C,""):"");S=e.append("path").attr("d",_).attr("id",t.id).attr("class"," "+k+(t.classes?" "+t.classes:"")+(z??"")).attr("style",U),F=U.match(/stroke:([^;]+)/)?.[1],R=t.animate===!0||!!t.animation||M.includes("animation");const Y=S.node(),Tt=typeof Y.getTotalLength=="function"?Y.getTotalLength():0,T=hg[t.arrowTypeStart]||0,pt=hg[t.arrowTypeEnd]||0;if(t.look==="neo"&&!R){const C=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?u3(Tt,T,pt):`0 ${T} ${Tt-T-pt} ${pt}`}; stroke-dashoffset: 0;`;S.attr("style",C+S.attr("style"))}}S.attr("data-edge",!0),S.attr("data-et","edge"),S.attr("data-id",t.id),S.attr("data-points",p),t.showPoints&&g.forEach(M=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",M.x).attr("cy",M.y)});let v="";(Lt().flowchart.arrowMarkerAbsolute||Lt().state.arrowMarkerAbsolute)&&(v=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,v=v.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),N.info("arrowTypeStart",t.arrowTypeStart),N.info("arrowTypeEnd",t.arrowTypeEnd),i3(S,t,v,a,n,F);const L=Math.floor(c.length/2),O=c[L];rr.isLabelCoordinateInPath(O,S.attr("d"))||(h=!0);let I={};return h&&(I.updatedPath=c),I.originalPath=t.points,I},"insertEdge");function o_(e,t){if(e.length<2)return"";let r="";const n=e.length,i=1e-5;for(let s=0;s<n;s++){const a=e[s],o=e[s-1],l=e[s+1];if(s===0)r+=`M${a.x},${a.y}`;else if(s===n-1)r+=`L${a.x},${a.y}`;else{const c=a.x-o.x,h=a.y-o.y,u=l.x-a.x,d=l.y-a.y,f=Math.hypot(c,h),p=Math.hypot(u,d);if(f<i||p<i){r+=`L${a.x},${a.y}`;continue}const g=c/f,x=h/f,y=u/p,b=d/p,w=g*y+x*b,k=Math.max(-1,Math.min(1,w)),S=Math.acos(k);if(S<i||Math.abs(Math.PI-S)<i){r+=`L${a.x},${a.y}`;continue}const _=Math.min(t/Math.sin(S/2),f/2,p/2),A=a.x-g*_,F=a.y-x*_,R=a.x+y*_,v=a.y+b*_;r+=`L${A},${F}`,r+=`Q${a.x},${a.y} ${R},${v}`}}return r}m(o_,"generateRoundedPath");function iu(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,n=t.y-e.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}m(iu,"calculateDeltaAndAngle");function l_(e,t){const r=e.map(i=>({...i}));if(e.length>=2&&le[t.arrowTypeStart]){const i=le[t.arrowTypeStart],s=e[0],a=e[1],{angle:o}=iu(s,a),l=i*Math.cos(o),c=i*Math.sin(o);r[0].x=s.x+l,r[0].y=s.y+c}const n=e.length;if(n>=2&&le[t.arrowTypeEnd]){const i=le[t.arrowTypeEnd],s=e[n-1],a=e[n-2],{angle:o}=iu(a,s),l=i*Math.cos(o),c=i*Math.sin(o);r[n-1].x=s.x-l,r[n-1].y=s.y-c}return r}m(l_,"applyMarkerOffsetsToPoints");var d3=m((e,t,r,n)=>{t.forEach(i=>{L3[i](e,r,n)})},"insertMarkers"),p3=m((e,t,r)=>{N.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),g3=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),m3=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),y3=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),x3=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),b3=m((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),w3=m((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),_3=m((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),k3=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),C3=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),S3=m((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),v3=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),T3=m((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),A3=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),E3=m((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),L3={extension:p3,composition:g3,aggregation:m3,dependency:y3,lollipop:x3,point:b3,circle:w3,cross:_3,barb:k3,only_one:C3,zero_or_one:S3,one_or_more:v3,zero_or_more:T3,requirement_arrow:A3,requirement_contains:E3},B3=d3,M3={common:Ri,getConfig:he,insertCluster:ND,insertEdge:f3,insertEdgeLabel:a3,insertMarkers:B3,insertNode:s_,interpolateToCurve:Sf,labelHelper:lt,log:N,positionEdgeLabel:o3},Js={},c_=m(e=>{for(const t of e)Js[t.name]=t},"registerLayoutLoaders"),I3=m(()=>{c_([{name:"dagre",loader:m(async()=>await Mt(()=>import("./dagre-6UL2VRFP-BmPPtyZr.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),"loader")},{name:"cose-bilkent",loader:m(async()=>await Mt(()=>import("./cose-bilkent-S5V4N54A-tLt-qL_b.js"),__vite__mapDeps([15,16,6,7,8,9,10,11,12,13,14])),"loader")}])},"registerDefaultLayoutLoaders");I3();var hq=m(async(e,t)=>{if(!(e.layoutAlgorithm in Js))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=Js[e.layoutAlgorithm];return(await r.loader()).render(e,t,M3,{algorithm:r.algorithm})},"render"),uq=m((e="",{fallback:t="dagre"}={})=>{if(e in Js)return e;if(t in Js)return N.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),h_="comm",u_="rule",f_="decl",$3="@import",F3="@namespace",R3="@keyframes",O3="@layer",d_=Math.abs,jf=String.fromCharCode;function p_(e){return e.trim()}function co(e,t,r){return e.replace(t,r)}function P3(e,t,r){return e.indexOf(t,r)}function pi(e,t){return e.charCodeAt(t)|0}function Mi(e,t,r){return e.slice(t,r)}function pr(e){return e.length}function D3(e){return e.length}function qa(e,t){return t.push(e),e}var Yl=1,Ii=1,g_=0,Ke=0,Wt=0,zi="";function Uf(e,t,r,n,i,s,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Yl,column:Ii,length:a,return:"",siblings:o}}function N3(){return Wt}function z3(){return Wt=Ke>0?pi(zi,--Ke):0,Ii--,Wt===10&&(Ii=1,Yl--),Wt}function sr(){return Wt=Ke<g_?pi(zi,Ke++):0,Ii++,Wt===10&&(Ii=1,Yl++),Wt}function Kr(){return pi(zi,Ke)}function ho(){return Ke}function Gl(e,t){return Mi(zi,e,t)}function Zs(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function q3(e){return Yl=Ii=1,g_=pr(zi=e),Ke=0,[]}function W3(e){return zi="",e}function Wc(e){return p_(Gl(Ke-1,su(e===91?e+2:e===40?e+1:e)))}function H3(e){for(;(Wt=Kr())&&Wt<33;)sr();return Zs(e)>2||Zs(Wt)>3?"":" "}function j3(e,t){for(;--t&&sr()&&!(Wt<48||Wt>102||Wt>57&&Wt<65||Wt>70&&Wt<97););return Gl(e,ho()+(t<6&&Kr()==32&&sr()==32))}function su(e){for(;sr();)switch(Wt){case e:return Ke;case 34:case 39:e!==34&&e!==39&&su(Wt);break;case 40:e===41&&su(e);break;case 92:sr();break}return Ke}function U3(e,t){for(;sr()&&e+Wt!==57;)if(e+Wt===84&&Kr()===47)break;return"/*"+Gl(t,Ke-1)+"*"+jf(e===47?e:sr())}function V3(e){for(;!Zs(Kr());)sr();return Gl(e,Ke)}function Y3(e){return W3(uo("",null,null,null,[""],e=q3(e),0,[0],e))}function uo(e,t,r,n,i,s,a,o,l){for(var c=0,h=0,u=a,d=0,f=0,p=0,g=1,x=1,y=1,b=0,w="",k=i,S=s,_=n,A=w;x;)switch(p=b,b=sr()){case 40:if(p!=108&&pi(A,u-1)==58){P3(A+=co(Wc(b),"&","&\f"),"&\f",d_(c?o[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:A+=Wc(b);break;case 9:case 10:case 13:case 32:A+=H3(p);break;case 92:A+=j3(ho()-1,7);continue;case 47:switch(Kr()){case 42:case 47:qa(G3(U3(sr(),ho()),t,r,l),l),(Zs(p||1)==5||Zs(Kr()||1)==5)&&pr(A)&&Mi(A,-1,void 0)!==" "&&(A+=" ");break;default:A+="/"}break;case 123*g:o[c++]=pr(A)*y;case 125*g:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+h:y==-1&&(A=co(A,/\f/g,"")),f>0&&(pr(A)-u||g===0&&p===47)&&qa(f>32?Gg(A+";",n,r,u-1,l):Gg(co(A," ","")+";",n,r,u-2,l),l);break;case 59:A+=";";default:if(qa(_=Yg(A,t,r,c,h,i,o,w,k=[],S=[],u,s),s),b===123)if(h===0)uo(A,t,_,_,k,s,u,o,S);else{switch(d){case 99:if(pi(A,3)===110)break;case 108:if(pi(A,2)===97)break;default:h=0;case 100:case 109:case 115:}h?uo(e,_,_,n&&qa(Yg(e,_,_,0,0,i,o,w,i,k=[],u,S),S),i,S,u,o,n?k:S):uo(A,_,_,_,[""],S,0,o,S)}}c=h=f=0,g=y=1,w=A="",u=a;break;case 58:u=1+pr(A),f=p;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&z3()==125)continue}switch(A+=jf(b),b*g){case 38:y=h>0?1:(A+="\f",-1);break;case 44:o[c++]=(pr(A)-1)*y,y=1;break;case 64:Kr()===45&&(A+=Wc(sr())),d=Kr(),h=u=pr(w=A+=V3(ho())),b++;break;case 45:p===45&&pr(A)==2&&(g=0)}}return s}function Yg(e,t,r,n,i,s,a,o,l,c,h,u){for(var d=i-1,f=i===0?s:[""],p=D3(f),g=0,x=0,y=0;g<n;++g)for(var b=0,w=Mi(e,d+1,d=d_(x=a[g])),k=e;b<p;++b)(k=p_(x>0?f[b]+" "+w:co(w,/&\f/g,f[b])))&&(l[y++]=k);return Uf(e,t,r,i===0?u_:o,l,c,h,u)}function G3(e,t,r,n){return Uf(e,t,r,h_,jf(N3()),Mi(e,2,-2),0,n)}function Gg(e,t,r,n,i){return Uf(e,t,r,f_,Mi(e,0,n),Mi(e,n+1,-1),n,i)}function au(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function X3(e,t,r,n){switch(e.type){case O3:if(e.children.length)break;case $3:case F3:case f_:return e.return=e.return||e.value;case h_:return"";case R3:return e.return=e.value+"{"+au(e.children,n)+"}";case u_:if(!pr(e.value=e.props.join(",")))return""}return pr(r=au(e.children,n))?e.return=e.value+"{"+r+"}":""}var K3=qb(Object.keys,Object),Q3=Object.prototype,J3=Q3.hasOwnProperty;function Z3(e){if(!Pl(e))return K3(e);var t=[];for(var r in Object(e))J3.call(e,r)&&r!="constructor"&&t.push(r);return t}var ou=qn(wr,"DataView"),lu=qn(wr,"Promise"),cu=qn(wr,"Set"),hu=qn(wr,"WeakMap"),Xg="[object Map]",t5="[object Object]",Kg="[object Promise]",Qg="[object Set]",Jg="[object WeakMap]",Zg="[object DataView]",e5=zn(ou),r5=zn(Ks),n5=zn(lu),i5=zn(cu),s5=zn(hu),mn=Pi;(ou&&mn(new ou(new ArrayBuffer(1)))!=Zg||Ks&&mn(new Ks)!=Xg||lu&&mn(lu.resolve())!=Kg||cu&&mn(new cu)!=Qg||hu&&mn(new hu)!=Jg)&&(mn=function(e){var t=Pi(e),r=t==t5?e.constructor:void 0,n=r?zn(r):"";if(n)switch(n){case e5:return Zg;case r5:return Xg;case n5:return Kg;case i5:return Qg;case s5:return Jg}return t});var a5="[object Map]",o5="[object Set]",l5=Object.prototype,c5=l5.hasOwnProperty;function tm(e){if(e==null)return!0;if(Dl(e)&&(Ko(e)||typeof e=="string"||typeof e.splice=="function"||kf(e)||Cf(e)||Xo(e)))return!e.length;var t=mn(e);if(t==a5||t==o5)return!e.size;if(Pl(e))return!Z3(e).length;for(var r in e)if(c5.call(e,r))return!1;return!0}var m_="c4",h5=m(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),u5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-DqpYtmMk.js");return{diagram:t}},__vite__mapDeps([17,18,6,7,8,9,10,11,12,13,14]));return{id:m_,diagram:e}},"loader"),f5={id:m_,detector:h5,loader:u5},d5=f5,y_="flowchart",p5=m((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),g5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-Bwf0G2-6.js");return{diagram:t}},__vite__mapDeps([19,20,21,22,23,6,7,8,9,10,11,12,13,14]));return{id:y_,diagram:e}},"loader"),m5={id:y_,detector:p5,loader:g5},y5=m5,x_="flowchart-v2",x5=m((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),b5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-Bwf0G2-6.js");return{diagram:t}},__vite__mapDeps([19,20,21,22,23,6,7,8,9,10,11,12,13,14]));return{id:x_,diagram:e}},"loader"),w5={id:x_,detector:x5,loader:b5},_5=w5,b_="er",k5=m(e=>/^\s*erDiagram/.test(e),"detector"),C5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-E-B8eeJc.js");return{diagram:t}},__vite__mapDeps([24,21,22,23,6,7,8,9,10,11,12,13,14]));return{id:b_,diagram:e}},"loader"),S5={id:b_,detector:k5,loader:C5},v5=S5,w_="gitGraph",T5=m(e=>/^\s*gitGraph/.test(e),"detector"),A5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-C0e998sg.js");return{diagram:t}},__vite__mapDeps([25,26,27,28,6,7,2,4,5,8,9,10,11,12,13,14]));return{id:w_,diagram:e}},"loader"),E5={id:w_,detector:T5,loader:A5},L5=E5,__="gantt",B5=m(e=>/^\s*gantt/.test(e),"detector"),M5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./ganttDiagram-LVOFAZNH-MXPLWB67.js");return{diagram:t}},__vite__mapDeps([29,8,6,7,30,31,32,9,10,11,12,13,14]));return{id:__,diagram:e}},"loader"),I5={id:__,detector:B5,loader:M5},$5=I5,k_="info",F5=m(e=>/^\s*info/.test(e),"detector"),R5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./infoDiagram-F6ZHWCRC-BW3gHLc5.js");return{diagram:t}},__vite__mapDeps([33,28,6,7,2,4,5,8,9,10,11,12,13,14]));return{id:k_,diagram:e}},"loader"),O5={id:k_,detector:F5,loader:R5},C_="pie",P5=m(e=>/^\s*pie/.test(e),"detector"),D5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-BNCwDYq1.js");return{diagram:t}},__vite__mapDeps([34,26,28,6,7,2,4,5,35,36,31,8,9,10,11,12,13,14]));return{id:C_,diagram:e}},"loader"),N5={id:C_,detector:P5,loader:D5},S_="quadrantChart",z5=m(e=>/^\s*quadrantChart/.test(e),"detector"),q5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-Cj8nUPjU.js");return{diagram:t}},__vite__mapDeps([37,30,31,32,6,7,8,9,10,11,12,13,14]));return{id:S_,diagram:e}},"loader"),W5={id:S_,detector:z5,loader:q5},H5=W5,v_="xychart",j5=m(e=>/^\s*xychart(-beta)?/.test(e),"detector"),U5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-ETmqU0EE.js");return{diagram:t}},__vite__mapDeps([38,31,36,30,32,6,7,8,9,10,11,12,13,14]));return{id:v_,diagram:e}},"loader"),V5={id:v_,detector:j5,loader:U5},Y5=V5,T_="requirement",G5=m(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),X5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-DG-qu7e0.js");return{diagram:t}},__vite__mapDeps([39,21,22,6,7,8,9,10,11,12,13,14]));return{id:T_,diagram:e}},"loader"),K5={id:T_,detector:G5,loader:X5},Q5=K5,A_="sequence",J5=m(e=>/^\s*sequenceDiagram/.test(e),"detector"),Z5=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-CPi0woce.js");return{diagram:t}},__vite__mapDeps([40,18,27,6,7,8,9,10,11,12,13,14]));return{id:A_,diagram:e}},"loader"),tN={id:A_,detector:J5,loader:Z5},eN=tN,E_="class",rN=m((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),nN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-B5sOX2Oc.js");return{diagram:t}},__vite__mapDeps([41,42,20,21,22,6,7,8,9,10,11,12,13,14]));return{id:E_,diagram:e}},"loader"),iN={id:E_,detector:rN,loader:nN},sN=iN,L_="classDiagram",aN=m((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),oN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-B5sOX2Oc.js");return{diagram:t}},__vite__mapDeps([43,42,20,21,22,6,7,8,9,10,11,12,13,14]));return{id:L_,diagram:e}},"loader"),lN={id:L_,detector:aN,loader:oN},cN=lN,B_="state",hN=m((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),uN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-fzmHtRNG.js");return{diagram:t}},__vite__mapDeps([44,45,21,22,1,2,3,4,6,7,8,9,10,11,12,13,14]));return{id:B_,diagram:e}},"loader"),fN={id:B_,detector:hN,loader:uN},dN=fN,M_="stateDiagram",pN=m((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),gN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-BBL82WNt.js");return{diagram:t}},__vite__mapDeps([46,45,21,22,6,7,8,9,10,11,12,13,14]));return{id:M_,diagram:e}},"loader"),mN={id:M_,detector:pN,loader:gN},yN=mN,I_="journey",xN=m(e=>/^\s*journey/.test(e),"detector"),bN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-C_Z78jEK.js");return{diagram:t}},__vite__mapDeps([47,18,20,35,6,7,8,9,10,11,12,13,14]));return{id:I_,diagram:e}},"loader"),wN={id:I_,detector:xN,loader:bN},_N=wN,kN=m((e,t,r)=>{N.debug(`rendering svg for syntax error
`);const n=r$(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),s0(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),$_={draw:kN},CN=$_,SN={db:{},renderer:$_,parser:{parse:m(()=>{},"parse")}},vN=SN,F_="flowchart-elk",TN=m((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),AN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-Bwf0G2-6.js");return{diagram:t}},__vite__mapDeps([19,20,21,22,23,6,7,8,9,10,11,12,13,14]));return{id:F_,diagram:e}},"loader"),EN={id:F_,detector:TN,loader:AN},LN=EN,R_="timeline",BN=m(e=>/^\s*timeline/.test(e),"detector"),MN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-CS1rNyRr.js");return{diagram:t}},__vite__mapDeps([48,35,6,7,8,9,10,11,12,13,14]));return{id:R_,diagram:e}},"loader"),IN={id:R_,detector:BN,loader:MN},$N=IN,O_="mindmap",FN=m(e=>/^\s*mindmap/.test(e),"detector"),RN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-BmOP8FdM.js");return{diagram:t}},__vite__mapDeps([49,21,22,6,7,8,9,10,11,12,13,14]));return{id:O_,diagram:e}},"loader"),ON={id:O_,detector:FN,loader:RN},PN=ON,P_="kanban",DN=m(e=>/^\s*kanban/.test(e),"detector"),NN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-CbwlEYgj.js");return{diagram:t}},__vite__mapDeps([50,20,6,7,8,9,10,11,12,13,14]));return{id:P_,diagram:e}},"loader"),zN={id:P_,detector:DN,loader:NN},qN=zN,D_="sankey",WN=m(e=>/^\s*sankey(-beta)?/.test(e),"detector"),HN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-yZGMxD4a.js");return{diagram:t}},__vite__mapDeps([51,36,31,6,7,8,9,10,11,12,13,14]));return{id:D_,diagram:e}},"loader"),jN={id:D_,detector:WN,loader:HN},UN=jN,N_="packet",VN=m(e=>/^\s*packet(-beta)?/.test(e),"detector"),YN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-zGkd2e5m.js");return{diagram:t}},__vite__mapDeps([52,26,28,6,7,2,4,5,8,9,10,11,12,13,14]));return{id:N_,diagram:e}},"loader"),GN={id:N_,detector:VN,loader:YN},z_="radar",XN=m(e=>/^\s*radar-beta/.test(e),"detector"),KN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-BUKKm5SR.js");return{diagram:t}},__vite__mapDeps([53,26,28,6,7,2,4,5,8,9,10,11,12,13,14]));return{id:z_,diagram:e}},"loader"),QN={id:z_,detector:XN,loader:KN},q_="block",JN=m(e=>/^\s*block(-beta)?/.test(e),"detector"),ZN=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-DzgojACf.js");return{diagram:t}},__vite__mapDeps([54,20,5,2,1,23,6,7,8,9,10,11,12,13,14]));return{id:q_,diagram:e}},"loader"),t4={id:q_,detector:JN,loader:ZN},e4=t4,W_="architecture",r4=m(e=>/^\s*architecture/.test(e),"detector"),n4=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-Bl-qFdnb.js");return{diagram:t}},__vite__mapDeps([55,26,28,6,7,2,4,5,16,8,9,10,11,12,13,14]));return{id:W_,diagram:e}},"loader"),i4={id:W_,detector:r4,loader:n4},s4=i4,H_="treemap",a4=m(e=>/^\s*treemap/.test(e),"detector"),o4=m(async()=>{const{diagram:e}=await Mt(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-BabGvJ2H.js");return{diagram:t}},__vite__mapDeps([56,22,26,28,6,7,2,4,5,32,36,31,8,9,10,11,12,13,14]));return{id:H_,diagram:e}},"loader"),l4={id:H_,detector:a4,loader:o4},em=!1,Xl=m(()=>{em||(em=!0,Bo("error",vN,e=>e.toLowerCase().trim()==="error"),Bo("---",{db:{clear:m(()=>{},"clear")},styles:{},renderer:{draw:m(()=>{},"draw")},parser:{parse:m(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:m(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),yh(LN,PN,s4),yh(d5,qN,cN,sN,v5,$5,O5,N5,Q5,eN,_5,y5,$N,L5,yN,dN,_N,H5,UN,GN,Y5,e4,QN,l4))},"addDiagrams"),c4=m(async()=>{N.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Ln).map(async([r,{detector:n,loader:i}])=>{if(i)try{_h(r)}catch{try{const{diagram:s,id:a}=await i();Bo(a,s,n)}catch(s){throw N.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Ln[r],s}}}))).filter(r=>r.status==="rejected");if(t.length>0){N.error(`Failed to load ${t.length} external diagrams`);for(const r of t)N.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),h4="graphics-document document";function j_(e,t){e.attr("role",h4),t!==""&&e.attr("aria-roledescription",t)}m(j_,"setA11yDiagramInfo");function U_(e,t,r,n){if(e.insert!==void 0){if(r){const i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){const i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}m(U_,"addSVGa11yTitleDescription");var An,uu=(An=class{constructor(t,r,n,i,s){this.type=t,this.text=r,this.db=n,this.parser=i,this.renderer=s}static async fromText(t,r={}){const n=he(),i=Vu(t,n);t=lP(t)+`
`;try{_h(i)}catch{const c=IE(i);if(!c)throw new Yy(`Diagram ${i} not found.`);const{id:h,diagram:u}=await c();Bo(h,u)}const{db:s,parser:a,renderer:o,init:l}=_h(i);return a.parser&&(a.parser.yy=s),s.clear?.(),l?.(n),r.title&&s.setDiagramTitle?.(r.title),await a.parse(t),new An(i,t,s,a,o)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},m(An,"Diagram"),An),rm=[],u4=m(()=>{rm.forEach(e=>{e()}),rm=[]},"attachFunctions"),f4=m(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function V_(e){const t=e.match(Vy);if(!t)return{text:e,metadata:{}};let r=cF(t[1],{schema:lF})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}m(V_,"extractFrontMatter");var d4=m(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),p4=m(e=>{const{text:t,metadata:r}=V_(e),{displayMode:n,title:i,config:s={}}=r;return n&&(s.gantt||(s.gantt={}),s.gantt.displayMode=n),{title:i,config:s,text:t}},"processFrontmatter"),g4=m(e=>{const t=rr.detectInit(e)??{},r=rr.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):r?.type==="wrap"&&(t.wrap=!0),{text:XO(e),directive:t}},"processDirectives");function Vf(e){const t=d4(e),r=p4(t),n=g4(r.text),i=Lf(r.config,n.directive);return e=f4(n.text),{code:e,title:r.title,config:i}}m(Vf,"preprocessDiagram");function Y_(e){const t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}m(Y_,"toBase64");var m4=5e4,y4="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",x4="sandbox",b4="loose",w4="http://www.w3.org/2000/svg",_4="http://www.w3.org/1999/xlink",k4="http://www.w3.org/1999/xhtml",C4="100%",S4="100%",v4="border:0;margin:0;",T4="margin:0",A4="allow-top-navigation-by-user-activation allow-popups",E4='The "iframe" tag is not supported by your browser.',L4=["foreignobject"],B4=["dominant-baseline"];function Yf(e){const t=Vf(e);return Eo(),GE(t.config??{}),t}m(Yf,"processAndSetConfigs");async function G_(e,t){Xl();try{const{code:r,config:n}=Yf(e);return{diagramType:(await K_(r)).type,config:n}}catch(r){if(t?.suppressErrors)return!1;throw r}}m(G_,"parse");var nm=m((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),M4=m((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const a=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(o=>{tm(o.styles)||a.forEach(l=>{r+=nm(o.id,l,o.styles)}),tm(o.textStyles)||(r+=nm(o.id,"tspan",(o?.textStyles||[]).map(l=>l.replace("color","fill"))))})}return r},"createCssStyles"),I4=m((e,t,r,n)=>{const i=M4(e,r),s=pL(t,i,e.themeVariables);return au(Y3(`${n}{${s}}`),X3)},"createUserStyles"),$4=m((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Wn(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),F4=m((e="",t)=>{const r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":S4,n=Y_(`<body style="${T4}">${e}</body>`);return`<iframe style="width:${C4};height:${r};${v4}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${A4}">
  ${E4}
</iframe>`},"putIntoIFrame"),im=m((e,t,r,n,i)=>{const s=e.append("div");s.attr("id",r),n&&s.attr("style",n);const a=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns",w4);return i&&a.attr("xmlns:xlink",i),a.append("g"),e},"appendDivSvgG");function fu(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}m(fu,"sandboxedIframe");var R4=m((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()},"removeExistingElements"),O4=m(async function(e,t,r){Xl();const n=Yf(t);t=n.code;const i=he();N.debug(i),t.length>(i?.maxTextSize??m4)&&(t=y4);const s="#"+e,a="i"+e,o="#"+a,l="d"+e,c="#"+l,h=m(()=>{const I=St(d?o:c).node();I&&"remove"in I&&I.remove()},"removeTempElements");let u=St("body");const d=i.securityLevel===x4,f=i.securityLevel===b4,p=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),d){const O=fu(St(r),a);u=St(O.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=St(r);im(u,e,l,`font-family: ${p}`,_4)}else{if(R4(document,e,l,a),d){const O=fu(St("body"),a);u=St(O.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=St("body");im(u,e,l)}let g,x;try{g=await uu.fromText(t,{title:n.title})}catch(O){if(i.suppressErrorRendering)throw h(),O;g=await uu.fromText("error"),x=O}const y=u.select(c).node(),b=g.type,w=y.firstChild,k=w.firstChild,S=g.renderer.getClasses?.(t,g),_=I4(i,b,S,s),A=document.createElement("style");A.innerHTML=_,w.insertBefore(A,k);try{await g.renderer.draw(t,e,Tp.version,g)}catch(O){throw i.suppressErrorRendering?h():CN.draw(t,e,Tp.version),O}const F=u.select(`${c} svg`),R=g.db.getAccTitle?.(),v=g.db.getAccDescription?.();Q_(b,F,R,v),u.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",k4);let L=u.select(c).node().innerHTML;if(N.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),L=$4(L,d,Xt(i.arrowMarkerAbsolute)),d){const O=u.select(c+" svg").node();L=F4(L,O)}else f||(L=Si.sanitize(L,{ADD_TAGS:L4,ADD_ATTR:B4,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(u4(),x)throw x;return h(),{diagramType:b,svg:L,bindFunctions:g.db.bindFunctions}},"render");function X_(e={}){const t=Yt({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),VE(t),t?.theme&&t.theme in Rr?t.themeVariables=Rr[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Rr.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?UE(t):Jy();Uu(r.logLevel),Xl()}m(X_,"initialize");var K_=m((e,t={})=>{const{code:r}=Vf(e);return uu.fromText(r,t)},"getDiagramFromText");function Q_(e,t,r,n){j_(t,e),U_(t,r,n,t.attr("id"))}m(Q_,"addA11yInfo");var Rn=Object.freeze({render:O4,parse:G_,getDiagramFromText:K_,initialize:X_,getConfig:he,setConfig:Zy,getSiteConfig:Jy,updateSiteConfig:YE,reset:m(()=>{Eo()},"reset"),globalReset:m(()=>{Eo(vi)},"globalReset"),defaultConfig:vi});Uu(he().logLevel);Eo(he());var P4=m((e,t,r)=>{N.warn(e),Ef(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),J_=m(async function(e={querySelector:".mermaid"}){try{await D4(e)}catch(t){if(Ef(t)&&N.error(t.str),Nr.parseError&&Nr.parseError(t),!e.suppressErrors)throw N.error("Use the suppressErrors option to suppress these errors"),t}},"run"),D4=m(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=Rn.getConfig();N.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");N.debug(`Found ${i.length} diagrams`),n?.startOnLoad!==void 0&&(N.debug("Start On Load: "+n?.startOnLoad),Rn.updateSiteConfig({startOnLoad:n?.startOnLoad}));const s=new rr.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let a;const o=[];for(const l of Array.from(i)){if(N.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${s.next()}`;a=l.innerHTML,a=bw(rr.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=rr.detectInit(a);h&&N.debug("Detected early reinit: ",h);try{const{svg:u,bindFunctions:d}=await rk(c,a,l);l.innerHTML=u,e&&await e(c),d&&d(l)}catch(u){P4(u,o,Nr.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),Z_=m(function(e){Rn.initialize(e)},"initialize"),N4=m(async function(e,t,r){N.warn("mermaid.init is deprecated. Please use run instead."),e&&Z_(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await J_(n)},"init"),z4=m(async(e,{lazyLoad:t=!0}={})=>{Xl(),yh(...e),t===!1&&await c4()},"registerExternalDiagrams"),tk=m(function(){if(Nr.startOnLoad){const{startOnLoad:e}=Rn.getConfig();e&&Nr.run().catch(t=>N.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",tk,!1);var q4=m(function(e){Nr.parseError=e},"setParseErrorHandler"),ol=[],Hc=!1,ek=m(async()=>{if(!Hc){for(Hc=!0;ol.length>0;){const e=ol.shift();if(e)try{await e()}catch(t){N.error("Error executing queue",t)}}Hc=!1}},"executeQueue"),W4=m(async(e,t)=>new Promise((r,n)=>{const i=m(()=>new Promise((s,a)=>{Rn.parse(e,t).then(o=>{s(o),r(o)},o=>{N.error("Error parsing",o),Nr.parseError?.(o),a(o),n(o)})}),"performCall");ol.push(i),ek().catch(n)}),"parse"),rk=m((e,t,r)=>new Promise((n,i)=>{const s=m(()=>new Promise((a,o)=>{Rn.render(e,t,r).then(l=>{a(l),n(l)},l=>{N.error("Error parsing",l),Nr.parseError?.(l),o(l),i(l)})}),"performCall");ol.push(s),ek().catch(i)}),"render"),H4=m(()=>Object.keys(Ln).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Nr={startOnLoad:!0,mermaidAPI:Rn,parse:W4,render:rk,init:N4,run:J_,registerExternalDiagrams:z4,registerLayoutLoaders:c_,initialize:Z_,parseError:void 0,contentLoaded:tk,setParseErrorHandler:q4,detectType:Vu,registerIconPacks:fD,getRegisteredDiagramsMetadata:H4},j4=Nr;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const U4=new DOMParser,V4=new XMLSerializer;function sm(e,t){const r=e.getAttribute(t);if(!r)return;let n="";for(const i of r.split(/\s+/)){const s=e.getElementById(i);s&&(n+=s.textContent)}return n}let am=0;const Y4=async(e,t)=>{const r=document.createElement("div");r.ariaHidden="true",r.style.maxHeight="0",r.style.opacity="0",r.style.overflow="hidden",t?.containerStyle&&Object.assign(r.style,t.containerStyle),document.body.append(r);const n=await Promise.allSettled(e.map(async i=>{const s=`${t?.prefix??"mermaid"}-${am}`;am+=1;const{svg:a}=await j4.render(s,i,r),o=U4.parseFromString(a,"text/html"),[l]=o.getElementsByTagName("svg"),{height:c,width:h}=l.viewBox.baseVal,u=sm(l,"aria-describedby"),d=sm(l,"aria-labelledby"),f={height:c,id:s,svg:V4.serializeToString(l),width:h};return u&&(f.description=u),d&&(f.title=d),f}));return r.remove(),n},G4=()=>Y4;var jc,om;function X4(){return om||(om=1,jc={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi}),jc}var Uc,lm;function K4(){if(lm)return Uc;lm=1;var e=X4(),t={whitespace:/\s+/g,urlHexPairs:/%[\dA-F]{2}/g,quotes:/"/g};function r(o){return o.trim().replace(t.whitespace," ")}function n(o){return encodeURIComponent(o).replace(t.urlHexPairs,s)}function i(o){return Object.keys(e).forEach(function(l){e[l].test(o)&&(o=o.replace(e[l],l))}),o}function s(o){switch(o){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return o.toLowerCase()}}function a(o){if(typeof o!="string")throw new TypeError("Expected a string, but received "+typeof o);o.charCodeAt(0)===65279&&(o=o.slice(1));var l=i(r(o)).replace(t.quotes,"'");return"data:image/svg+xml,"+n(l)}return a.toSrcset=function(l){return a(l).replace(/ /g,"%20")},Uc=a,Uc}var Q4=K4();const cm=Eu(Q4),J4=/\w/,hm=["img-png","img-svg","inline-svg","pre-mermaid"];function Z4(e="inline-svg"){if(hm.includes(e))return e;throw new Error(`Expected strategy to be one of ${hm.join(", ")}, got: ${e}`)}function tz(e,t){let r;if(e.tagName==="pre"){if(t==="pre-mermaid")return!1;r="mermaid"}else if(e.tagName==="code")r="language-mermaid";else return!1;let n=e.properties?.className;return typeof n=="string"&&(n=ko(n)),Array.isArray(n)?n.includes(r):!1}function um(e,t){return e.screenshot?`data:image/png;base64,${e.screenshot.toString("base64")}`:t?cm.toSrcset(e.svg):cm(e.svg)}function ez(e){return e==="dark"?"light":"dark"}function rz(e,t,r){let n,i;r==="dark"?(n=t||e,i=e):(n=e,i=t);const s={type:"element",tagName:"img",properties:{alt:n.description||"",height:n.height,id:n.id,src:um(n),title:n.title,width:n.width},children:[]};return t?{type:"element",tagName:"picture",properties:{},children:[{type:"element",tagName:"source",properties:{height:i.height,id:i.id,media:`(prefers-color-scheme: ${ez(r)})`,srcset:um(i,!0),width:i.width},children:[]},s]}:s}function fm(e,t,r,n){const{ancestors:i,diagram:s}=t;if(n?.errorFallback)return n.errorFallback(i.at(-1),s,e,r);const a=r.message(e,{ruleId:"rehype-mermaid",source:"rehype-mermaid",ancestors:i});throw a.fatal=!0,a.url="https://github.com/remcohaszing/rehype-mermaid",a}function nz(e){if(typeof e.properties.content!="string")return;const t=ko(e.properties.content);for(const r of t)if(r==="light"||r==="dark")return r}const iz=e=>{const t=Z4(e?.strategy),r=G4();let n=e?.colorScheme;return(i,s)=>{const a=[];if(qu(i,"element",(l,c)=>{if(!n&&l.tagName==="meta"&&l.properties.name==="color-scheme"&&(n=nz(l)),!tz(l,t))return;const h=c.at(-1);let u=c;if(h.type==="element"&&h.tagName==="pre"){for(const d of h.children)if(d.type==="text"){if(J4.test(d.value))return}else if(d!==l)return}else u=[...u,l];a.push({diagram:XA(l,{whitespace:"pre"}),ancestors:u})}),!a.length)return;if(t==="pre-mermaid"){for(const{ancestors:l,diagram:c}of a){const h=l.at(-2),u=l.at(-1);h.children[h.children.indexOf(u)]={type:"element",tagName:"pre",properties:{className:["mermaid"]},children:[{type:"text",value:c}]}}return}const o=[r(a.map(l=>l.diagram),{...e,screenshot:t==="img-png"})];return e?.dark&&o.push(r(a.map(l=>l.diagram),{...e,screenshot:t==="img-png",mermaidConfig:e.dark===!0?{theme:"dark"}:e.dark,prefix:`${e.prefix||"mermaid"}-dark`})),Promise.all(o).then(([l,c])=>{for(const[h,u]of a.entries()){const d=l[h],f=c?.[h];let p;d.status==="rejected"?p=fm(d.reason,u,s,e):f?.status==="rejected"?p=fm(f.reason,u,s,e):t==="inline-svg"?p=qA(d.value.svg).children[0]:p=rz(d.value,f?.value,n);const{ancestors:g}=u,x=g.at(-1),y=g.at(-2),b=y.children.indexOf(x);p?y.children[b]=p:y.children.splice(b,1)}})}};function sz(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function nk(e,t,r){const i=sa((r||{}).ignore||[]),s=az(t);let a=-1;for(;++a<s.length;)qu(e,"text",o);function o(c,h){let u=-1,d;for(;++u<h.length;){const f=h[u],p=d?d.children:void 0;if(i(f,p?p.indexOf(f):void 0,d))return;d=f}if(d)return l(c,h)}function l(c,h){const u=h[h.length-1],d=s[a][0],f=s[a][1];let p=0;const x=u.children.indexOf(c);let y=!1,b=[];d.lastIndex=0;let w=d.exec(c.value);for(;w;){const k=w.index,S={index:w.index,input:w.input,stack:[...h,c]};let _=f(...w,S);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?d.lastIndex=k+1:(p!==k&&b.push({type:"text",value:c.value.slice(p,k)}),Array.isArray(_)?b.push(..._):_&&b.push(_),p=k+w[0].length,y=!0),!d.global)break;w=d.exec(c.value)}return y?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),u.children.splice(x,1,...b)):b=[c],x+b.length}}function az(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([oz(i[0]),lz(i[1])])}return t}function oz(e){return typeof e=="string"?new RegExp(sz(e),"g"):e}function lz(e){return typeof e=="function"?e:function(){return e}}function cz(e){nk(e,[/\r?\n|\r/g,hz])}function hz(){return{type:"break"}}function uz(){return function(e){cz(e)}}function dm(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}const Vc="phrasing",Yc=["autolink","link","image","label"];function fz(){return{transforms:[bz],enter:{literalAutolink:pz,literalAutolinkEmail:Gc,literalAutolinkHttp:Gc,literalAutolinkWww:Gc},exit:{literalAutolink:xz,literalAutolinkEmail:yz,literalAutolinkHttp:gz,literalAutolinkWww:mz}}}function dz(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Vc,notInConstruct:Yc},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Vc,notInConstruct:Yc},{character:":",before:"[ps]",after:"\\/",inConstruct:Vc,notInConstruct:Yc}]}}function pz(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Gc(e){this.config.enter.autolinkProtocol.call(this,e)}function gz(e){this.config.exit.autolinkProtocol.call(this,e)}function mz(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function yz(e){this.config.exit.autolinkEmail.call(this,e)}function xz(e){this.exit(e)}function bz(e){nk(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,wz],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),_z]],{ignore:["link","linkReference"]})}function wz(e,t,r,n,i){let s="";if(!ik(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!kz(r)))return!1;const a=Cz(r+n);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function _z(e,t,r,n){return!ik(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function kz(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Cz(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=dm(e,"(");let s=dm(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}function ik(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||En(r)||bl(r))&&(!t||r!==47)}sk.peek=Iz;function Sz(){this.buffer()}function vz(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Tz(){this.buffer()}function Az(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Ez(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=nr(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Lz(e){this.exit(e)}function Bz(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=nr(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Mz(e){this.exit(e)}function Iz(){return"["}function sk(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const a=r.enter("footnoteReference"),o=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function $z(){return{enter:{gfmFootnoteCallString:Sz,gfmFootnoteCall:vz,gfmFootnoteDefinitionLabelString:Tz,gfmFootnoteDefinition:Az},exit:{gfmFootnoteCallString:Ez,gfmFootnoteCall:Lz,gfmFootnoteDefinitionLabelString:Bz,gfmFootnoteDefinition:Mz}}}function Fz(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:sk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,a){const o=s.createTracker(a);let l=o.move("[^");const c=s.enter("footnoteDefinition"),h=s.enter("label");return l+=o.move(s.safe(s.associationId(n),{before:l,after:"]"})),h(),l+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,o.current()),t?ak:Rz))),c(),l}}function Rz(e,t,r){return t===0?e:ak(e,t,r)}function ak(e,t,r){return(r?"":"    ")+e}const Oz=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];ok.peek=qz;function Pz(){return{canContainEols:["delete"],enter:{strikethrough:Nz},exit:{strikethrough:zz}}}function Dz(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Oz}],handlers:{delete:ok}}}function Nz(e){this.enter({type:"delete",children:[]},e)}function zz(e){this.exit(e)}function ok(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function qz(){return"~"}function Wz(e){return e.length}function Hz(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||Wz,s=[],a=[],o=[],l=[];let c=0,h=-1;for(;++h<e.length;){const g=[],x=[];let y=-1;for(e[h].length>c&&(c=e[h].length);++y<e[h].length;){const b=jz(e[h][y]);if(r.alignDelimiters!==!1){const w=i(b);x[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}g.push(b)}a[h]=g,o[h]=x}let u=-1;if(typeof n=="object"&&"length"in n)for(;++u<c;)s[u]=pm(n[u]);else{const g=pm(n);for(;++u<c;)s[u]=g}u=-1;const d=[],f=[];for(;++u<c;){const g=s[u];let x="",y="";g===99?(x=":",y=":"):g===108?x=":":g===114&&(y=":");let b=r.alignDelimiters===!1?1:Math.max(1,l[u]-x.length-y.length);const w=x+"-".repeat(b)+y;r.alignDelimiters!==!1&&(b=x.length+b+y.length,b>l[u]&&(l[u]=b),f[u]=b),d[u]=w}a.splice(1,0,d),o.splice(1,0,f),h=-1;const p=[];for(;++h<a.length;){const g=a[h],x=o[h];u=-1;const y=[];for(;++u<c;){const b=g[u]||"";let w="",k="";if(r.alignDelimiters!==!1){const S=l[u]-(x[u]||0),_=s[u];_===114?w=" ".repeat(S):_===99?S%2?(w=" ".repeat(S/2+.5),k=" ".repeat(S/2-.5)):(w=" ".repeat(S/2),k=w):k=" ".repeat(S)}r.delimiterStart!==!1&&!u&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&b==="")&&(r.delimiterStart!==!1||u)&&y.push(" "),r.alignDelimiters!==!1&&y.push(w),y.push(b),r.alignDelimiters!==!1&&y.push(k),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||u!==c-1)&&y.push("|")}p.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function jz(e){return e==null?"":String(e)}function pm(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Uz(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const a=r.indentLines(r.containerFlow(e,s.current()),Vz);return i(),a}function Vz(e,t,r){return">"+(r?"":" ")+e}function Yz(e,t){return gm(e,t.inConstruct,!0)&&!gm(e,t.notInConstruct,!1)}function gm(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function mm(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Yz(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Gz(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+t.length,n=r.indexOf(t,i);return a}function Xz(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Kz(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Qz(e,t,r,n){const i=Kz(r),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Xz(e,r)){const u=r.enter("codeIndented"),d=r.indentLines(s,Jz);return u(),d}const o=r.createTracker(n),l=i.repeat(Math.max(Gz(s,i)+1,3)),c=r.enter("codeFenced");let h=o.move(l);if(e.lang){const u=r.enter(`codeFencedLang${a}`);h+=o.move(r.safe(e.lang,{before:h,after:" ",encode:["`"],...o.current()})),u()}if(e.lang&&e.meta){const u=r.enter(`codeFencedMeta${a}`);h+=o.move(" "),h+=o.move(r.safe(e.meta,{before:h,after:`
`,encode:["`"],...o.current()})),u()}return h+=o.move(`
`),s&&(h+=o.move(s+`
`)),h+=o.move(l),c(),h}function Jz(e,t,r){return(r?"":"    ")+e}function Gf(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Zz(e,t,r,n){const i=Gf(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let o=r.enter("label");const l=r.createTracker(n);let c=l.move("[");return c+=l.move(r.safe(r.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=r.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),a(),c}function t6(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ta(e){return"&#x"+e.toString(16).toUpperCase()+";"}function ll(e,t,r){const n=Ci(e),i=Ci(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}lk.peek=e6;function lk(e,t,r,n){const i=t6(r),s=r.enter("emphasis"),a=r.createTracker(n),o=a.move(i);let l=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const c=l.charCodeAt(0),h=ll(n.before.charCodeAt(n.before.length-1),c,i);h.inside&&(l=ta(c)+l.slice(1));const u=l.charCodeAt(l.length-1),d=ll(n.after.charCodeAt(0),u,i);d.inside&&(l=l.slice(0,-1)+ta(u));const f=a.move(i);return s(),r.attentionEncodeSurroundingInfo={after:d.outside,before:h.outside},o+l+f}function e6(e,t,r){return r.options.emphasis||"*"}function r6(e,t){let r=!1;return Wu(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,ch}),!!((!e.depth||e.depth<3)&&Fu(e)&&(t.options.setext||r))}function n6(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(r6(e,r)){const h=r.enter("headingSetext"),u=r.enter("phrasing"),d=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return u(),h(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=r.enter("headingAtx"),l=r.enter("phrasing");s.move(a+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=ta(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,r.options.closeAtx&&(c+=" "+a),l(),o(),c}ck.peek=i6;function ck(e){return e.value||""}function i6(){return"<"}hk.peek=s6;function hk(e,t,r,n){const i=Gf(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let o=r.enter("label");const l=r.createTracker(n);let c=l.move("![");return c+=l.move(r.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=r.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),a(),c}function s6(){return"!"}uk.peek=a6;function uk(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let a=r.enter("label");const o=r.createTracker(n);let l=o.move("![");const c=r.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const u=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return a(),r.stack=h,s(),i==="full"||!c||c!==u?l+=o.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function a6(){return"!"}fk.peek=o6;function fk(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const a=r.unsafe[s],o=r.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(n);){let c=l.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(l.index+1)}}return i+n+i}function o6(){return"`"}function dk(e,t){const r=Fu(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}pk.peek=l6;function pk(e,t,r,n){const i=Gf(r),s=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let o,l;if(dk(e,r)){const h=r.stack;r.stack=[],o=r.enter("autolink");let u=a.move("<");return u+=a.move(r.containerPhrasing(e,{before:u,after:">",...a.current()})),u+=a.move(">"),o(),r.stack=h,u}o=r.enter("link"),l=r.enter("label");let c=a.move("[");return c+=a.move(r.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(r.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=r.enter("destinationRaw"),c+=a.move(r.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=r.enter(`title${s}`),c+=a.move(" "+i),c+=a.move(r.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),o(),c}function l6(e,t,r){return dk(e,r)?"<":"["}gk.peek=c6;function gk(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let a=r.enter("label");const o=r.createTracker(n);let l=o.move("[");const c=r.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const u=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return a(),r.stack=h,s(),i==="full"||!c||c!==u?l+=o.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function c6(){return"["}function Xf(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function h6(e){const t=Xf(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function u6(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function mk(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function f6(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let a=e.ordered?u6(r):Xf(r);const o=e.ordered?a==="."?")":".":h6(r);let l=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),mk(r)===a&&h){let u=-1;for(;++u<e.children.length;){const d=e.children[u];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),r.bulletCurrent=a;const c=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=s,i(),c}function d6(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function p6(e,t,r,n){const i=d6(r);let s=r.bulletCurrent||Xf(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=r.createTracker(n);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,o.current()),h);return l(),c;function h(u,d,f){return d?(f?"":" ".repeat(a))+u:(f?s:s+" ".repeat(a-s.length))+u}}function g6(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),a=r.containerPhrasing(e,n);return s(),i(),a}const m6=sa(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function y6(e,t,r,n){return(e.children.some(function(a){return m6(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function x6(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}yk.peek=b6;function yk(e,t,r,n){const i=x6(r),s=r.enter("strong"),a=r.createTracker(n),o=a.move(i+i);let l=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const c=l.charCodeAt(0),h=ll(n.before.charCodeAt(n.before.length-1),c,i);h.inside&&(l=ta(c)+l.slice(1));const u=l.charCodeAt(l.length-1),d=ll(n.after.charCodeAt(0),u,i);d.inside&&(l=l.slice(0,-1)+ta(u));const f=a.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:d.outside,before:h.outside},o+l+f}function b6(e,t,r){return r.options.strong||"*"}function w6(e,t,r,n){return r.safe(e.value,n)}function _6(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function k6(e,t,r){const n=(mk(r)+(r.options.ruleSpaces?" ":"")).repeat(_6(r));return r.options.ruleSpaces?n.slice(0,-1):n}const xk={blockquote:Uz,break:mm,code:Qz,definition:Zz,emphasis:lk,hardBreak:mm,heading:n6,html:ck,image:hk,imageReference:uk,inlineCode:fk,link:pk,linkReference:gk,list:f6,listItem:p6,paragraph:g6,root:y6,strong:yk,text:w6,thematicBreak:k6};function C6(){return{enter:{table:S6,tableData:ym,tableHeader:ym,tableRow:T6},exit:{codeText:A6,table:v6,tableData:Xc,tableHeader:Xc,tableRow:Xc}}}function S6(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function v6(e){this.exit(e),this.data.inTable=void 0}function T6(e){this.enter({type:"tableRow",children:[]},e)}function Xc(e){this.exit(e)}function ym(e){this.enter({type:"tableCell",children:[]},e)}function A6(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,E6));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function E6(e,t){return t==="|"?t:e}function L6(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:a,tableCell:l,tableRow:o}};function a(f,p,g,x){return c(h(f,g,x),f.align)}function o(f,p,g,x){const y=u(f,g,x),b=c([y]);return b.slice(0,b.indexOf(`
`))}function l(f,p,g,x){const y=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(f,{...x,before:s,after:s});return b(),y(),w}function c(f,p){return Hz(f,{align:p,alignDelimiters:n,padding:r,stringLength:i})}function h(f,p,g){const x=f.children;let y=-1;const b=[],w=p.enter("table");for(;++y<x.length;)b[y]=u(x[y],p,g);return w(),b}function u(f,p,g){const x=f.children;let y=-1;const b=[],w=p.enter("tableRow");for(;++y<x.length;)b[y]=l(x[y],f,p,g);return w(),b}function d(f,p,g){let x=xk.inlineCode(f,p,g);return g.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function B6(){return{exit:{taskListCheckValueChecked:xm,taskListCheckValueUnchecked:xm,paragraph:I6}}}function M6(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:$6}}}function xm(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function I6(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function $6(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);s&&o.move(a);let l=xk.listItem(e,t,r,{...n,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(h){return h+a}}function F6(){return[fz(),$z(),Pz(),C6(),B6()]}function R6(e){return{extensions:[dz(),Fz(e),Dz(),L6(e),M6()]}}const O6={tokenize:W6,partial:!0},bk={tokenize:H6,partial:!0},wk={tokenize:j6,partial:!0},_k={tokenize:U6,partial:!0},P6={tokenize:V6,partial:!0},kk={name:"wwwAutolink",tokenize:z6,previous:Sk},Ck={name:"protocolAutolink",tokenize:q6,previous:vk},qr={name:"emailAutolink",tokenize:N6,previous:Tk},_r={};function D6(){return{text:_r}}let dn=48;for(;dn<123;)_r[dn]=qr,dn++,dn===58?dn=65:dn===91&&(dn=97);_r[43]=qr;_r[45]=qr;_r[46]=qr;_r[95]=qr;_r[72]=[qr,Ck];_r[104]=[qr,Ck];_r[87]=[qr,kk];_r[119]=[qr,kk];function N6(e,t,r){const n=this;let i,s;return a;function a(u){return!du(u)||!Tk.call(n,n.previous)||Kf(n.events)?r(u):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(u))}function o(u){return du(u)?(e.consume(u),o):u===64?(e.consume(u),l):r(u)}function l(u){return u===46?e.check(P6,h,c)(u):u===45||u===95||ce(u)?(s=!0,e.consume(u),l):h(u)}function c(u){return e.consume(u),i=!0,l}function h(u){return s&&i&&xe(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(u)):r(u)}}function z6(e,t,r){const n=this;return i;function i(a){return a!==87&&a!==119||!Sk.call(n,n.previous)||Kf(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(O6,e.attempt(bk,e.attempt(wk,s),r),r)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function q6(e,t,r){const n=this;let i="",s=!1;return a;function a(u){return(u===72||u===104)&&vk.call(n,n.previous)&&!Kf(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(u),e.consume(u),o):r(u)}function o(u){if(xe(u)&&i.length<5)return i+=String.fromCodePoint(u),e.consume(u),o;if(u===58){const d=i.toLowerCase();if(d==="http"||d==="https")return e.consume(u),l}return r(u)}function l(u){return u===47?(e.consume(u),s?c:(s=!0,l)):r(u)}function c(u){return u===null||Co(u)||Ft(u)||En(u)||bl(u)?r(u):e.attempt(bk,e.attempt(wk,h),r)(u)}function h(u){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(u)}}function W6(e,t,r){let n=0;return i;function i(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),i):a===46&&n===3?(e.consume(a),s):r(a)}function s(a){return a===null?r(a):t(a)}}function H6(e,t,r){let n,i,s;return a;function a(c){return c===46||c===95?e.check(_k,l,o)(c):c===null||Ft(c)||En(c)||c!==45&&bl(c)?l(c):(s=!0,e.consume(c),a)}function o(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),a}function l(c){return i||n||!s?r(c):t(c)}}function j6(e,t){let r=0,n=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&n<r?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(_k,t,s)(a):a===null||Ft(a)||En(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&n++,e.consume(a),i}}function U6(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Ft(o)||En(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||Ft(o)||En(o)?t(o):n(o)}function s(o){return xe(o)?a(o):r(o)}function a(o){return o===59?(e.consume(o),n):xe(o)?(e.consume(o),a):r(o)}}function V6(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return ce(s)?r(s):t(s)}}function Sk(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ft(e)}function vk(e){return!xe(e)}function Tk(e){return!(e===47||du(e))}function du(e){return e===43||e===45||e===46||e===95||ce(e)}function Kf(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const Y6={tokenize:e8,partial:!0};function G6(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:J6,continuation:{tokenize:Z6},exit:t8}},text:{91:{name:"gfmFootnoteCall",tokenize:Q6},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:X6,resolveTo:K6}}}}function X6(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return r(l);const c=nr(n.sliceSerialize({start:a.end,end:n.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function K6(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function Q6(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,a;return o;function o(u){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),l}function l(u){return u!==94?r(u):(e.enter("gfmFootnoteCallMarker"),e.consume(u),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(u){if(s>999||u===93&&!a||u===null||u===91||Ft(u))return r(u);if(u===93){e.exit("chunkString");const d=e.exit("gfmFootnoteCallString");return i.includes(nr(n.sliceSerialize(d)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(u)}return Ft(u)||(a=!0),s++,e.consume(u),u===92?h:c}function h(u){return u===91||u===92||u===93?(e.consume(u),s++,c):c(u)}}function J6(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):r(p)}function h(p){if(a>999||p===93&&!o||p===null||p===91||Ft(p))return r(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return s=nr(n.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return Ft(p)||(o=!0),a++,e.consume(p),p===92?u:h}function u(p){return p===91||p===92||p===93?(e.consume(p),a++,h):h(p)}function d(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),vt(e,f,"gfmFootnoteDefinitionWhitespace")):r(p)}function f(p){return t(p)}}function Z6(e,t,r){return e.check(ia,t,e.attempt(Y6,t,r))}function t8(e){e.exit("gfmFootnoteDefinition")}function e8(e,t,r){const n=this;return vt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):r(s)}}function r8(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},u={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},d=[["enter",h,o],["enter",a[c][1],o],["exit",a[c][1],o],["enter",u,o]],f=o.parser.constructs.insideSpan.null;f&&qe(d,d.length,0,wl(f,a.slice(c+1,l),o)),qe(d,d.length,0,[["exit",u,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",h,o]]),qe(a,c-1,l-c+3,d),l=c+d.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const c=this.previous,h=this.events;let u=0;return d;function d(p){return c===126&&h[h.length-1][1].type!=="characterEscape"?l(p):(a.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const g=Ci(c);if(p===126)return u>1?l(p):(a.consume(p),u++,f);if(u<2&&!r)return l(p);const x=a.exit("strikethroughSequenceTemporary"),y=Ci(p);return x._open=!y||y===2&&!!g,x._close=!g||g===2&&!!y,o(p)}}}class n8{constructor(){this.map=[]}add(t,r,n){i8(this,t,r,n)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function i8(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function s8(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function a8(){return{flow:{null:{name:"table",tokenize:o8,resolveAll:l8}}}}function o8(e,t,r){const n=this;let i=0,s=0,a;return o;function o(v){let L=n.events.length-1;for(;L>-1;){const M=n.events[L][1].type;if(M==="lineEnding"||M==="linePrefix")L--;else break}const O=L>-1?n.events[L][1].type:null,I=O==="tableHead"||O==="tableRow"?_:l;return I===_&&n.parser.lazy[n.now().line]?r(v):I(v)}function l(v){return e.enter("tableHead"),e.enter("tableRow"),c(v)}function c(v){return v===124||(a=!0,s+=1),h(v)}function h(v){return v===null?r(v):ot(v)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),f):r(v):kt(v)?vt(e,h,"whitespace")(v):(s+=1,a&&(a=!1,i+=1),v===124?(e.enter("tableCellDivider"),e.consume(v),e.exit("tableCellDivider"),a=!0,h):(e.enter("data"),u(v)))}function u(v){return v===null||v===124||Ft(v)?(e.exit("data"),h(v)):(e.consume(v),v===92?d:u)}function d(v){return v===92||v===124?(e.consume(v),u):u(v)}function f(v){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(v):(e.enter("tableDelimiterRow"),a=!1,kt(v)?vt(e,p,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):p(v))}function p(v){return v===45||v===58?x(v):v===124?(a=!0,e.enter("tableCellDivider"),e.consume(v),e.exit("tableCellDivider"),g):S(v)}function g(v){return kt(v)?vt(e,x,"whitespace")(v):x(v)}function x(v){return v===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(v),e.exit("tableDelimiterMarker"),y):v===45?(s+=1,y(v)):v===null||ot(v)?k(v):S(v)}function y(v){return v===45?(e.enter("tableDelimiterFiller"),b(v)):S(v)}function b(v){return v===45?(e.consume(v),b):v===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(v),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(v))}function w(v){return kt(v)?vt(e,k,"whitespace")(v):k(v)}function k(v){return v===124?p(v):v===null||ot(v)?!a||i!==s?S(v):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(v)):S(v)}function S(v){return r(v)}function _(v){return e.enter("tableRow"),A(v)}function A(v){return v===124?(e.enter("tableCellDivider"),e.consume(v),e.exit("tableCellDivider"),A):v===null||ot(v)?(e.exit("tableRow"),t(v)):kt(v)?vt(e,A,"whitespace")(v):(e.enter("data"),F(v))}function F(v){return v===null||v===124||Ft(v)?(e.exit("data"),A(v)):(e.consume(v),v===92?R:F)}function R(v){return v===92||v===124?(e.consume(v),F):F(v)}}function l8(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,c,h,u;const d=new n8;for(;++r<e.length;){const f=e[r],p=f[1];f[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(bm(d,t,l,c,h),h=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(r,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(n=!0,u=void 0,s=[0,0,0,0],a=[0,r+1,0,0],o&&(o=!1,h={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(r,0,[["enter",h,t]])),i=p.type==="tableDelimiterRow"?2:h?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],u=Wa(d,t,s,i,void 0,u),s=[0,0,0,0]),a[2]=r)):p.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(a[0]=a[1],u=Wa(d,t,s,i,void 0,u)),s=a,a=[s[1],r,0,0])):p.type==="tableHead"?(o=!0,l=r):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=r,s[1]!==0?(a[0]=a[1],u=Wa(d,t,s,i,r,u)):a[1]!==0&&(u=Wa(d,t,a,i,r,u)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(a[3]=r)}for(l!==0&&bm(d,t,l,c,h),d.consume(t.events),r=-1;++r<t.events.length;){const f=t.events[r];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=s8(t.events,r))}return e}function Wa(e,t,r,n,i,s){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(s.end=Object.assign({},si(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const l=si(t.events,r[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const c=si(t.events,r[2]),h=si(t.events,r[3]),u={type:o,start:Object.assign({},c),end:Object.assign({},h)};if(e.add(r[2],0,[["enter",u,t]]),n!==2){const d=t.events[r[2]],f=t.events[r[3]];if(d[1].end=Object.assign({},f[1].end),d[1].type="chunkText",d[1].contentType="text",r[3]>r[2]+1){const p=r[2]+1,g=r[3]-r[2]-1;e.add(p,g,[])}}e.add(r[3]+1,0,[["exit",u,t]])}return i!==void 0&&(s.end=Object.assign({},si(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function bm(e,t,r,n,i){const s=[],a=si(t.events,r);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),n.end=Object.assign({},a),s.push(["exit",n,t]),e.add(r+1,0,s)}function si(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const c8={name:"tasklistCheck",tokenize:u8};function h8(){return{text:{91:c8}}}function u8(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Ft(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):r(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(l)}function o(l){return ot(l)?t(l):kt(l)?e.check({tokenize:f8},t,r)(l):r(l)}}function f8(e,t,r){return vt(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function d8(e){return uy([D6(),G6(),r8(e),a8(),h8()])}const p8={};function g8(e){const t=this,r=e||p8,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(d8(r)),s.push(F6()),a.push(R6(r))}const m8="_prompt_10g5h_1",y8="_answer_10g5h_17",x8="_lite_10g5h_137",pu={prompt:m8,answer:y8,lite:x8};function Ak({lite:e=!1,content:t}){return t.trim()===""?xt.jsxs(xt.Fragment,{children:[xt.jsx("br",{}),xt.jsx(Ym,{mood:"negative",children:xt.jsx(yl.Bold,{children:"No active stream"})})]}):xt.jsx(Gm,{flexDirection:"column",className:a2(pu.answer,e&&pu.lite),children:xt.jsx(kA,{children:t,remarkPlugins:[g8,uz],rehypePlugins:[iz],components:{br:({children:r})=>r,a:({...r})=>{if(!r?.href?.startsWith("#cita"))return xt.jsx("a",{href:r.href,rel:"no-follower no-referer",target:"_blank",...r})}}})})}function b8({show:e=!1,error:t}){return e?xt.jsx(Ym,{mood:"negative",children:xt.jsxs(yl.Bold,{children:["Stream ",t]})}):null}function ut(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}function $(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}let Ek=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return Ek=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function gu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const mu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class it extends Error{}class se extends it{constructor(t,r,n,i){super(`${se.makeMessage(t,r,n)}`),this.status=t,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=r;const s=r;this.code=s?.code,this.param=s?.param,this.type=s?.type}static makeMessage(t,r,n){const i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,n,i){if(!t||!i)return new Kl({message:n,cause:mu(r)});const s=r?.error;return t===400?new Lk(t,s,n,i):t===401?new Bk(t,s,n,i):t===403?new Mk(t,s,n,i):t===404?new Ik(t,s,n,i):t===409?new $k(t,s,n,i):t===422?new Fk(t,s,n,i):t===429?new Rk(t,s,n,i):t>=500?new Ok(t,s,n,i):new se(t,s,n,i)}}class Ye extends se{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Kl extends se{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class Qf extends Kl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Lk extends se{}class Bk extends se{}class Mk extends se{}class Ik extends se{}class $k extends se{}class Fk extends se{}class Rk extends se{}class Ok extends se{}class Pk extends it{constructor(){super("Could not parse response content as the length limit was reached")}}class Dk extends it{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ys extends Error{constructor(t){super(t)}}const w8=/^[a-z][a-z0-9+.-]*:/i,_8=e=>w8.test(e);let Be=e=>(Be=Array.isArray,Be(e)),wm=Be;function Nk(e){return typeof e!="object"?{}:e??{}}function k8(e){if(!e)return!0;for(const t in e)return!1;return!0}function C8(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kc(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const S8=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new it(`${e} must be an integer`);if(t<0)throw new it(`${e} must be a positive integer`);return t},v8=e=>{try{return JSON.parse(e)}catch{return}},ya=e=>new Promise(t=>setTimeout(t,e)),ai="6.0.0",T8=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function A8(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const E8=()=>{const e=A8();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ai,"X-Stainless-OS":km(Deno.build.os),"X-Stainless-Arch":_m(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ai,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ai,"X-Stainless-OS":km(globalThis.process.platform??"unknown"),"X-Stainless-Arch":_m(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=L8();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ai,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ai,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function L8(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,a=n[3]||0;return{browser:t,version:`${i}.${s}.${a}`}}}return null}const _m=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",km=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Cm;const B8=()=>Cm??(Cm=E8());function M8(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function zk(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function qk(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return zk({start(){},async pull(r){const{done:n,value:i}=await t.next();n?r.close():r.enqueue(i)},async cancel(){await t.return?.()}})}function Wk(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function I8(e){if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await e[Symbol.asyncIterator]().return?.();return}const t=e.getReader(),r=t.cancel();t.releaseLock(),await r}const $8=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),Hk="RFC3986",jk=e=>String(e),Sm={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:jk},F8="RFC1738";let yu=(e,t)=>(yu=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),yu(e,t));const hr=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Qc=1024,R8=(e,t,r,n,i)=>{if(e.length===0)return e;let s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<s.length;o+=Qc){const l=s.length>=Qc?s.slice(o,o+Qc):s,c=[];for(let h=0;h<l.length;++h){let u=l.charCodeAt(h);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===F8&&(u===40||u===41)){c[c.length]=l.charAt(h);continue}if(u<128){c[c.length]=hr[u];continue}if(u<2048){c[c.length]=hr[192|u>>6]+hr[128|u&63];continue}if(u<55296||u>=57344){c[c.length]=hr[224|u>>12]+hr[128|u>>6&63]+hr[128|u&63];continue}h+=1,u=65536+((u&1023)<<10|l.charCodeAt(h)&1023),c[c.length]=hr[240|u>>18]+hr[128|u>>12&63]+hr[128|u>>6&63]+hr[128|u&63]}a+=c.join("")}return a};function O8(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function vm(e,t){if(Be(e)){const r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}const Uk={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Vk=function(e,t){Array.prototype.push.apply(e,Be(t)?t:[t])};let Tm;const Vt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:R8,encodeValuesOnly:!1,format:Hk,formatter:jk,indices:!1,serializeDate(e){return(Tm??(Tm=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function P8(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Jc={};function Yk(e,t,r,n,i,s,a,o,l,c,h,u,d,f,p,g,x,y){let b=e,w=y,k=0,S=!1;for(;(w=w.get(Jc))!==void 0&&!S;){const v=w.get(e);if(k+=1,typeof v<"u"){if(v===k)throw new RangeError("Cyclic object value");S=!0}typeof w.get(Jc)>"u"&&(k=0)}if(typeof c=="function"?b=c(t,b):b instanceof Date?b=d?.(b):r==="comma"&&Be(b)&&(b=vm(b,function(v){return v instanceof Date?d?.(v):v})),b===null){if(s)return l&&!g?l(t,Vt.encoder,x,"key",f):t;b=""}if(P8(b)||O8(b)){if(l){const v=g?t:l(t,Vt.encoder,x,"key",f);return[p?.(v)+"="+p?.(l(b,Vt.encoder,x,"value",f))]}return[p?.(t)+"="+p?.(String(b))]}const _=[];if(typeof b>"u")return _;let A;if(r==="comma"&&Be(b))g&&l&&(b=vm(b,l)),A=[{value:b.length>0?b.join(",")||null:void 0}];else if(Be(c))A=c;else{const v=Object.keys(b);A=h?v.sort(h):v}const F=o?String(t).replace(/\./g,"%2E"):String(t),R=n&&Be(b)&&b.length===1?F+"[]":F;if(i&&Be(b)&&b.length===0)return R+"[]";for(let v=0;v<A.length;++v){const L=A[v],O=typeof L=="object"&&typeof L.value<"u"?L.value:b[L];if(a&&O===null)continue;const I=u&&o?L.replace(/\./g,"%2E"):L,M=Be(b)?typeof r=="function"?r(R,I):R:R+(u?"."+I:"["+I+"]");y.set(e,k);const D=new WeakMap;D.set(Jc,y),Vk(_,Yk(O,M,r,n,i,s,a,o,r==="comma"&&g&&Be(b)?null:l,c,h,u,d,f,p,g,x,D))}return _}function D8(e=Vt){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Vt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=Hk;if(typeof e.format<"u"){if(!yu(Sm,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const n=Sm[r];let i=Vt.filter;(typeof e.filter=="function"||Be(e.filter))&&(i=e.filter);let s;if(e.arrayFormat&&e.arrayFormat in Uk?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Vt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Vt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Vt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Vt.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Vt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Vt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Vt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Vt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Vt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Vt.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Vt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Vt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Vt.strictNullHandling}}function N8(e,t={}){let r=e;const n=D8(t);let i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Be(n.filter)&&(s=n.filter,i=s);const a=[];if(typeof r!="object"||r===null)return"";const o=Uk[n.arrayFormat],l=o==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);const c=new WeakMap;for(let d=0;d<i.length;++d){const f=i[d];n.skipNulls&&r[f]===null||Vk(a,Yk(r[f],f,o,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}const h=a.join(n.delimiter);let u=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),h.length>0?u+h:""}function z8(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}let Am;function Jf(e){let t;return(Am??(t=new globalThis.TextEncoder,Am=t.encode.bind(t)))(e)}let Em;function Lm(e){let t;return(Em??(t=new globalThis.TextDecoder,Em=t.decode.bind(t)))(e)}var De,Ne;class Ql{constructor(){De.set(this,void 0),Ne.set(this,void 0),ut(this,De,new Uint8Array),ut(this,Ne,null)}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Jf(t):t;ut(this,De,z8([$(this,De,"f"),r]));const n=[];let i;for(;(i=q8($(this,De,"f"),$(this,Ne,"f")))!=null;){if(i.carriage&&$(this,Ne,"f")==null){ut(this,Ne,i.index);continue}if($(this,Ne,"f")!=null&&(i.index!==$(this,Ne,"f")+1||i.carriage)){n.push(Lm($(this,De,"f").subarray(0,$(this,Ne,"f")-1))),ut(this,De,$(this,De,"f").subarray($(this,Ne,"f"))),ut(this,Ne,null);continue}const s=$(this,Ne,"f")!==null?i.preceding-1:i.preceding,a=Lm($(this,De,"f").subarray(0,s));n.push(a),ut(this,De,$(this,De,"f").subarray(i.index)),ut(this,Ne,null)}return n}flush(){return $(this,De,"f").length?this.decode(`
`):[]}}De=new WeakMap,Ne=new WeakMap;Ql.NEWLINE_CHARS=new Set([`
`,"\r"]);Ql.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function q8(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function W8(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}const cl={off:0,error:200,warn:300,info:400,debug:500},Bm=(e,t,r)=>{if(e){if(C8(cl,e))return e;ne(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(cl))}`)}};function xs(){}function Ha(e,t,r){return!t||cl[e]>cl[r]?xs:t[e].bind(t)}const H8={error:xs,warn:xs,info:xs,debug:xs};let Mm=new WeakMap;function ne(e){const t=e.logger,r=e.logLevel??"off";if(!t)return H8;const n=Mm.get(t);if(n&&n[0]===r)return n[1];const i={error:Ha("error",t,r),warn:Ha("warn",t,r),info:Ha("info",t,r),debug:Ha("debug",t,r)};return Mm.set(t,[r,i]),i}const yn=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var os;let ea=class bs{constructor(t,r,n){this.iterator=t,os.set(this,void 0),this.controller=r,ut(this,os,n)}static fromSSEResponse(t,r,n){let i=!1;const s=n?ne(n):console;async function*a(){if(i)throw new it("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const l of j8(t,r))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let c;try{c=JSON.parse(l.data)}catch(h){throw s.error("Could not parse message into JSON:",l.data),s.error("From chunk:",l.raw),h}if(c&&c.error)throw new se(void 0,c.error,void 0,t.headers);yield c}else{let c;try{c=JSON.parse(l.data)}catch(h){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),h}if(l.event=="error")throw new se(void 0,c.error,c.message,void 0);yield{event:l.event,data:c}}}o=!0}catch(l){if(gu(l))return;throw l}finally{o||r.abort()}}return new bs(a,r,n)}static fromReadableStream(t,r,n){let i=!1;async function*s(){const o=new Ql,l=Wk(t);for await(const c of l)for(const h of o.decode(c))yield h;for(const c of o.flush())yield c}async function*a(){if(i)throw new it("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(gu(l))return;throw l}finally{o||r.abort()}}return new bs(a,r,n)}[(os=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=n.next();t.push(a),r.push(a)}return s.shift()}});return[new bs(()=>i(t),this.controller,$(this,os,"f")),new bs(()=>i(r),this.controller,$(this,os,"f"))]}toReadableStream(){const t=this;let r;return zk({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:s}=await r.next();if(s)return n.close();const a=Jf(JSON.stringify(i)+`
`);n.enqueue(a)}catch(i){n.error(i)}},async cancel(){await r.return?.()}})}};async function*j8(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new it("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new it("Attempted to iterate over a response with no body");const r=new V8,n=new Ql,i=Wk(e.body);for await(const s of U8(i))for(const a of n.decode(s)){const o=r.decode(a);o&&(yield o)}for(const s of n.flush()){const a=r.decode(s);a&&(yield a)}}async function*U8(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?Jf(r):r;let i=new Uint8Array(t.length+n.length);i.set(t),i.set(n,t.length),t=i;let s;for(;(s=W8(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}class V8{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=Y8(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function Y8(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}async function Gk(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:s}=t,a=await(async()=>{if(t.options.stream)return ne(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):ea.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const l=r.headers.get("content-type")?.split(";")[0]?.trim();if(l?.includes("application/json")||l?.endsWith("+json")){const u=await r.json();return Xk(u,r)}return await r.text()})();return ne(e).debug(`[${n}] response parsed`,yn({retryOfRequestLogID:i,url:r.url,status:r.status,body:a,durationMs:Date.now()-s})),a}function Xk(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var ws;class Jl extends Promise{constructor(t,r,n=Gk){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,ws.set(this,void 0),ut(this,ws,t)}_thenUnwrap(t){return new Jl($(this,ws,"f"),this.responsePromise,async(r,n)=>Xk(t(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse($(this,ws,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}ws=new WeakMap;var ja;class Zf{constructor(t,r,n,i){ja.set(this,void 0),ut(this,ja,t),this.options=i,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new it("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await $(this,ja,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(ja=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class G8 extends Jl{constructor(t,r,n){super(t,r,async(i,s)=>new n(i,s.response,await Gk(i,s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}class Zl extends Zf{constructor(t,r,n,i){super(t,r,n,i),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Ht extends Zf{constructor(t,r,n,i){super(t,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.getPaginatedItems(),r=t[t.length-1]?.id;return r?{...this.options,query:{...Nk(this.options.query),after:r}}:null}}class X8 extends Zf{constructor(t,r,n,i){super(t,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...Nk(this.options.query),after:t}}:null}}const Kk=()=>{if(typeof File>"u"){const{process:e}=globalThis,t=typeof e?.versions?.node=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Os(e,t,r){return Kk(),new File(e,t??"unknown_file",r)}function fo(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Qk=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",On=async(e,t)=>({...e,body:await Q8(e.body,t)}),Im=new WeakMap;function K8(e){const t=typeof e=="function"?e:e.fetch,r=Im.get(t);if(r)return r;const n=(async()=>{try{const i="Response"in t?t.Response:(await t("data:,")).constructor,s=new FormData;return s.toString()!==await new i(s).text()}catch{return!0}})();return Im.set(t,n),n}const Q8=async(e,t)=>{if(!await K8(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(e||{}).map(([n,i])=>xu(r,n,i))),r},J8=e=>e instanceof Blob&&"name"in e,xu=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(r instanceof Response)e.append(t,Os([await r.blob()],fo(r)));else if(Qk(r))e.append(t,Os([await new Response(qk(r)).blob()],fo(r)));else if(J8(r))e.append(t,r,fo(r));else if(Array.isArray(r))await Promise.all(r.map(n=>xu(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,i])=>xu(e,`${t}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},Jk=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Z8=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Jk(e),t9=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function e9(e,t,r){if(Kk(),e=await e,Z8(e))return e instanceof File?e:Os([await e.arrayBuffer()],e.name);if(t9(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Os(await bu(i),t,r)}const n=await bu(e);if(t||(t=fo(e)),!r?.type){const i=n.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(r={...r,type:i})}return Os(n,t,r)}async function bu(e){let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Jk(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(Qk(e))for await(const r of e)t.push(...await bu(r));else{const r=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${r9(e)}`)}return t}function r9(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}class ct{constructor(t){this._client=t}}function Zk(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const $m=Object.freeze(Object.create(null)),n9=(e=Zk)=>function(r,...n){if(r.length===1)return r[0];let i=!1;const s=[],a=r.reduce((h,u,d)=>{/[?#]/.test(u)&&(i=!0);const f=n[d];let p=(i?encodeURIComponent:e)(""+f);return d!==n.length&&(f==null||typeof f=="object"&&f.toString===Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??$m)??$m)?.toString)&&(p=f+"",s.push({start:h.length+u.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),h+u+(d===n.length?"":p)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(o))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((h,u)=>h.start-u.start),s.length>0){let h=0;const u=s.reduce((d,f)=>{const p=" ".repeat(f.start-h),g="^".repeat(f.length);return h=f.start+f.length,d+p+g},"");throw new it(`Path parameters result in path with invalid segments:
${s.map(d=>d.error).join(`
`)}
${a}
${u}`)}return a},H=n9(Zk);let tC=class extends ct{list(t,r={},n){return this._client.getAPIList(H`/chat/completions/${t}/messages`,Ht,{query:r,...n})}};function hl(e){return e!==void 0&&"function"in e&&e.function!==void 0}function td(e){return e?.$brand==="auto-parseable-response-format"}function xa(e){return e?.$brand==="auto-parseable-tool"}function i9(e,t){return!t||!eC(t)?{...e,choices:e.choices.map(r=>(rC(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:ed(e,t)}function ed(e,t){const r=e.choices.map(n=>{if(n.finish_reason==="length")throw new Pk;if(n.finish_reason==="content_filter")throw new Dk;return rC(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(i=>a9(t,i))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?s9(t,n.message.content):null}}});return{...e,choices:r}}function s9(e,t){return e.response_format?.type!=="json_schema"?null:e.response_format?.type==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function a9(e,t){const r=e.tools?.find(n=>hl(n)&&n.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:xa(r)?r.$parseRaw(t.function.arguments):r?.function.strict?JSON.parse(t.function.arguments):null}}}function o9(e,t){if(!e||!("tools"in e)||!e.tools)return!1;const r=e.tools?.find(n=>hl(n)&&n.function?.name===t.function.name);return hl(r)&&(xa(r)||r?.function.strict||!1)}function eC(e){return td(e.response_format)?!0:e.tools?.some(t=>xa(t)||t.type==="function"&&t.function.strict===!0)??!1}function rC(e){for(const t of e||[])if(t.type!=="function")throw new it(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function l9(e){for(const t of e??[]){if(t.type!=="function")throw new it(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new it(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const ul=e=>e?.role==="assistant",nC=e=>e?.role==="tool";var wu,po,go,_s,ks,mo,Cs,Ir,Ss,fl,dl,oi,iC;class rd{constructor(){wu.add(this),this.controller=new AbortController,po.set(this,void 0),go.set(this,()=>{}),_s.set(this,()=>{}),ks.set(this,void 0),mo.set(this,()=>{}),Cs.set(this,()=>{}),Ir.set(this,{}),Ss.set(this,!1),fl.set(this,!1),dl.set(this,!1),oi.set(this,!1),ut(this,po,new Promise((t,r)=>{ut(this,go,t,"f"),ut(this,_s,r,"f")})),ut(this,ks,new Promise((t,r)=>{ut(this,mo,t,"f"),ut(this,Cs,r,"f")})),$(this,po,"f").catch(()=>{}),$(this,ks,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},$(this,wu,"m",iC).bind(this))},0)}_connected(){this.ended||($(this,go,"f").call(this),this._emit("connect"))}get ended(){return $(this,Ss,"f")}get errored(){return $(this,fl,"f")}get aborted(){return $(this,dl,"f")}abort(){this.controller.abort()}on(t,r){return($(this,Ir,"f")[t]||($(this,Ir,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=$(this,Ir,"f")[t];if(!n)return this;const i=n.findIndex(s=>s.listener===r);return i>=0&&n.splice(i,1),this}once(t,r){return($(this,Ir,"f")[t]||($(this,Ir,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{ut(this,oi,!0),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){ut(this,oi,!0),await $(this,ks,"f")}_emit(t,...r){if($(this,Ss,"f"))return;t==="end"&&(ut(this,Ss,!0),$(this,mo,"f").call(this));const n=$(this,Ir,"f")[t];if(n&&($(this,Ir,"f")[t]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),t==="abort"){const i=r[0];!$(this,oi,"f")&&!n?.length&&Promise.reject(i),$(this,_s,"f").call(this,i),$(this,Cs,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=r[0];!$(this,oi,"f")&&!n?.length&&Promise.reject(i),$(this,_s,"f").call(this,i),$(this,Cs,"f").call(this,i),this._emit("end")}}_emitFinal(){}}po=new WeakMap,go=new WeakMap,_s=new WeakMap,ks=new WeakMap,mo=new WeakMap,Cs=new WeakMap,Ir=new WeakMap,Ss=new WeakMap,fl=new WeakMap,dl=new WeakMap,oi=new WeakMap,wu=new WeakSet,iC=function(t){if(ut(this,fl,!0),t instanceof Error&&t.name==="AbortError"&&(t=new Ye),t instanceof Ye)return ut(this,dl,!0),this._emit("abort",t);if(t instanceof it)return this._emit("error",t);if(t instanceof Error){const r=new it(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new it(String(t)))};function c9(e){return typeof e.parse=="function"}var ye,_u,pl,ku,Cu,Su,sC,aC;const h9=10;class oC extends rd{constructor(){super(...arguments),ye.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=t.choices[0]?.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),nC(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(ul(t)&&t.tool_calls)for(const n of t.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new it("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),$(this,ye,"m",_u).call(this)}async finalMessage(){return await this.done(),$(this,ye,"m",pl).call(this)}async finalFunctionToolCall(){return await this.done(),$(this,ye,"m",ku).call(this)}async finalFunctionToolCallResult(){return await this.done(),$(this,ye,"m",Cu).call(this)}async totalUsage(){return await this.done(),$(this,ye,"m",Su).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=$(this,ye,"m",pl).call(this);r&&this._emit("finalMessage",r);const n=$(this,ye,"m",_u).call(this);n&&this._emit("finalContent",n);const i=$(this,ye,"m",ku).call(this);i&&this._emit("finalFunctionToolCall",i);const s=$(this,ye,"m",Cu).call(this);s!=null&&this._emit("finalFunctionToolCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",$(this,ye,"m",Su).call(this))}async _createChatCompletion(t,r,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),$(this,ye,"m",sC).call(this,r);const s=await t.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ed(s,r))}async _runChatCompletion(t,r,n){for(const i of r.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,r,n)}async _runTools(t,r,n){const i="tool",{tool_choice:s="auto",stream:a,...o}=r,l=typeof s!="string"&&s.type==="function"&&s?.function?.name,{maxChatCompletions:c=h9}=n||{},h=r.tools.map(f=>{if(xa(f)){if(!f.$callback)throw new it("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:f.$callback,name:f.function.name,description:f.function.description||"",parameters:f.function.parameters,parse:f.$parseRaw,strict:!0}}}return f}),u={};for(const f of h)f.type==="function"&&(u[f.function.name||f.function.function.name]=f.function);const d="tools"in r?h.map(f=>f.type==="function"?{type:"function",function:{name:f.function.name||f.function.function.name,parameters:f.function.parameters,description:f.function.description,strict:f.function.strict}}:f):void 0;for(const f of r.messages)this._addMessage(f,!1);for(let f=0;f<c;++f){const g=(await this._createChatCompletion(t,{...o,tool_choice:s,tools:d,messages:[...this.messages]},n)).choices[0]?.message;if(!g)throw new it("missing message in ChatCompletion response");if(!g.tool_calls?.length)return;for(const x of g.tool_calls){if(x.type!=="function")continue;const y=x.id,{name:b,arguments:w}=x.function,k=u[b];if(k){if(l&&l!==b){const F=`Invalid tool_call: ${JSON.stringify(b)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:y,content:F});continue}}else{const F=`Invalid tool_call: ${JSON.stringify(b)}. Available options are: ${Object.keys(u).map(R=>JSON.stringify(R)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:y,content:F});continue}let S;try{S=c9(k)?await k.parse(w):w}catch(F){const R=F instanceof Error?F.message:String(F);this._addMessage({role:i,tool_call_id:y,content:R});continue}const _=await k.function(S,this),A=$(this,ye,"m",aC).call(this,_);if(this._addMessage({role:i,tool_call_id:y,content:A}),l)return}}}}ye=new WeakSet,_u=function(){return $(this,ye,"m",pl).call(this).content??null},pl=function(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(ul(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new it("stream ended without producing a ChatCompletionMessage with role=assistant")},ku=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(ul(r)&&r?.tool_calls?.length)return r.tool_calls.filter(n=>n.type==="function").at(-1)?.function}},Cu=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(nC(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(i=>i.type==="function"&&i.id===r.tool_call_id)))return r.content}},Su=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},sC=function(t){if(t.n!=null&&t.n>1)throw new it("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},aC=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class nd extends oC{static runTools(t,r,n){const i=new nd,s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,r,s)),i}_addMessage(t,r=!0){super._addMessage(t,r),ul(t)&&t.content&&this._emit("content",t.content)}}const lC=1,cC=2,hC=4,uC=8,fC=16,dC=32,pC=64,gC=128,mC=256,yC=gC|mC,xC=fC|dC|yC|pC,bC=lC|cC|xC,wC=hC|uC,u9=bC|wC,Jt={STR:lC,NUM:cC,ARR:hC,OBJ:uC,NULL:fC,BOOL:dC,NAN:pC,INFINITY:gC,MINUS_INFINITY:mC,INF:yC,SPECIAL:xC,ATOM:bC,COLLECTION:wC,ALL:u9};class f9 extends Error{}class d9 extends Error{}function p9(e,t=Jt.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return g9(e.trim(),t)}const g9=(e,t)=>{const r=e.length;let n=0;const i=d=>{throw new f9(`${d} at position ${n}`)},s=d=>{throw new d9(`${d} at position ${n}`)},a=()=>(u(),n>=r&&i("Unexpected end of input"),e[n]==='"'?o():e[n]==="{"?l():e[n]==="["?c():e.substring(n,n+4)==="null"||Jt.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):e.substring(n,n+4)==="true"||Jt.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):e.substring(n,n+5)==="false"||Jt.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):e.substring(n,n+8)==="Infinity"||Jt.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):e.substring(n,n+9)==="-Infinity"||Jt.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):e.substring(n,n+3)==="NaN"||Jt.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):h()),o=()=>{const d=n;let f=!1;for(n++;n<r&&(e[n]!=='"'||f&&e[n-1]==="\\");)f=e[n]==="\\"?!f:!1,n++;if(e.charAt(n)=='"')try{return JSON.parse(e.substring(d,++n-Number(f)))}catch(p){s(String(p))}else if(Jt.STR&t)try{return JSON.parse(e.substring(d,n-Number(f))+'"')}catch{return JSON.parse(e.substring(d,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{n++,u();const d={};try{for(;e[n]!=="}";){if(u(),n>=r&&Jt.OBJ&t)return d;const f=o();u(),n++;try{const p=a();Object.defineProperty(d,f,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(Jt.OBJ&t)return d;throw p}u(),e[n]===","&&n++}}catch{if(Jt.OBJ&t)return d;i("Expected '}' at end of object")}return n++,d},c=()=>{n++;const d=[];try{for(;e[n]!=="]";)d.push(a()),u(),e[n]===","&&n++}catch{if(Jt.ARR&t)return d;i("Expected ']' at end of array")}return n++,d},h=()=>{if(n===0){e==="-"&&Jt.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(f){if(Jt.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}s(String(f))}}const d=n;for(e[n]==="-"&&n++;e[n]&&!",]}".includes(e[n]);)n++;n==r&&!(Jt.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(e.substring(d,n))}catch{e.substring(d,n)==="-"&&Jt.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(d,e.lastIndexOf("e")))}catch(p){s(String(p))}}},u=()=>{for(;n<r&&` 
\r	`.includes(e[n]);)n++};return a()},Fm=e=>p9(e,Jt.ALL^Jt.NUM);var Ut,Er,ti,Vr,Zc,Ua,th,eh,rh,Va,nh,Rm;class ra extends oC{constructor(t){super(),Ut.add(this),Er.set(this,void 0),ti.set(this,void 0),Vr.set(this,void 0),ut(this,Er,t),ut(this,ti,[])}get currentChatCompletionSnapshot(){return $(this,Vr,"f")}static fromReadableStream(t){const r=new ra(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,n){const i=new ra(r);return i._run(()=>i._runChatCompletion(t,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,r,n){super._createChatCompletion;const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),$(this,Ut,"m",Zc).call(this);const s=await t.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const a of s)$(this,Ut,"m",th).call(this,a);if(s.controller.signal?.aborted)throw new Ye;return this._addChatCompletion($(this,Ut,"m",Va).call(this))}async _fromReadableStream(t,r){const n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),$(this,Ut,"m",Zc).call(this),this._connected();const i=ea.fromReadableStream(t,this.controller);let s;for await(const a of i)s&&s!==a.id&&this._addChatCompletion($(this,Ut,"m",Va).call(this)),$(this,Ut,"m",th).call(this,a),s=a.id;if(i.controller.signal?.aborted)throw new Ye;return this._addChatCompletion($(this,Ut,"m",Va).call(this))}[(Er=new WeakMap,ti=new WeakMap,Vr=new WeakMap,Ut=new WeakSet,Zc=function(){this.ended||ut(this,Vr,void 0)},Ua=function(r){let n=$(this,ti,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},$(this,ti,"f")[r.index]=n,n)},th=function(r){if(this.ended)return;const n=$(this,Ut,"m",Rm).call(this,r);this._emit("chunk",r,n);for(const i of r.choices){const s=n.choices[i.index];i.delta.content!=null&&s.message?.role==="assistant"&&s.message?.content&&(this._emit("content",i.delta.content,s.message.content),this._emit("content.delta",{delta:i.delta.content,snapshot:s.message.content,parsed:s.message.parsed})),i.delta.refusal!=null&&s.message?.role==="assistant"&&s.message?.refusal&&this._emit("refusal.delta",{delta:i.delta.refusal,snapshot:s.message.refusal}),i.logprobs?.content!=null&&s.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:i.logprobs?.content,snapshot:s.logprobs?.content??[]}),i.logprobs?.refusal!=null&&s.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:i.logprobs?.refusal,snapshot:s.logprobs?.refusal??[]});const a=$(this,Ut,"m",Ua).call(this,s);s.finish_reason&&($(this,Ut,"m",rh).call(this,s),a.current_tool_call_index!=null&&$(this,Ut,"m",eh).call(this,s,a.current_tool_call_index));for(const o of i.delta.tool_calls??[])a.current_tool_call_index!==o.index&&($(this,Ut,"m",rh).call(this,s),a.current_tool_call_index!=null&&$(this,Ut,"m",eh).call(this,s,a.current_tool_call_index)),a.current_tool_call_index=o.index;for(const o of i.delta.tool_calls??[]){const l=s.message.tool_calls?.[o.index];l?.type&&(l?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:l.function?.name,index:o.index,arguments:l.function.arguments,parsed_arguments:l.function.parsed_arguments,arguments_delta:o.function?.arguments??""}):(l?.type,void 0))}}},eh=function(r,n){if($(this,Ut,"m",Ua).call(this,r).done_tool_calls.has(n))return;const s=r.message.tool_calls?.[n];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const a=$(this,Er,"f")?.tools?.find(o=>hl(o)&&o.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:n,arguments:s.function.arguments,parsed_arguments:xa(a)?a.$parseRaw(s.function.arguments):a?.function.strict?JSON.parse(s.function.arguments):null})}else s.type},rh=function(r){const n=$(this,Ut,"m",Ua).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const i=$(this,Ut,"m",nh).call(this);this._emit("content.done",{content:r.message.content,parsed:i?i.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},Va=function(){if(this.ended)throw new it("stream has ended, this shouldn't happen");const r=$(this,Vr,"f");if(!r)throw new it("request ended without sending any chunks");return ut(this,Vr,void 0),ut(this,ti,[]),m9(r,$(this,Er,"f"))},nh=function(){const r=$(this,Er,"f")?.response_format;return td(r)?r:null},Rm=function(r){var n,i,s,a;let o=$(this,Vr,"f");const{choices:l,...c}=r;o?Object.assign(o,c):o=ut(this,Vr,{...c,choices:[]});for(const{delta:h,finish_reason:u,index:d,logprobs:f=null,...p}of r.choices){let g=o.choices[d];if(g||(g=o.choices[d]={finish_reason:u,index:d,message:{},logprobs:f,...p}),f)if(!g.logprobs)g.logprobs=Object.assign({},f);else{const{content:_,refusal:A,...F}=f;Object.assign(g.logprobs,F),_&&((n=g.logprobs).content??(n.content=[]),g.logprobs.content.push(..._)),A&&((i=g.logprobs).refusal??(i.refusal=[]),g.logprobs.refusal.push(...A))}if(u&&(g.finish_reason=u,$(this,Er,"f")&&eC($(this,Er,"f")))){if(u==="length")throw new Pk;if(u==="content_filter")throw new Dk}if(Object.assign(g,p),!h)continue;const{content:x,refusal:y,function_call:b,role:w,tool_calls:k,...S}=h;if(Object.assign(g.message,S),y&&(g.message.refusal=(g.message.refusal||"")+y),w&&(g.message.role=w),b&&(g.message.function_call?(b.name&&(g.message.function_call.name=b.name),b.arguments&&((s=g.message.function_call).arguments??(s.arguments=""),g.message.function_call.arguments+=b.arguments)):g.message.function_call=b),x&&(g.message.content=(g.message.content||"")+x,!g.message.refusal&&$(this,Ut,"m",nh).call(this)&&(g.message.parsed=Fm(g.message.content))),k){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:_,id:A,type:F,function:R,...v}of k){const L=(a=g.message.tool_calls)[_]??(a[_]={});Object.assign(L,v),A&&(L.id=A),F&&(L.type=F),R&&(L.function??(L.function={name:R.name??"",arguments:""})),R?.name&&(L.function.name=R.name),R?.arguments&&(L.function.arguments+=R.arguments,o9($(this,Er,"f"),L)&&(L.function.parsed_arguments=Fm(L.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("chunk",i=>{const s=r.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((s,a)=>r.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ea(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function m9(e,t){const{id:r,choices:n,created:i,model:s,system_fingerprint:a,...o}=e,l={...o,id:r,choices:n.map(({message:c,finish_reason:h,index:u,logprobs:d,...f})=>{if(!h)throw new it(`missing finish_reason for choice ${u}`);const{content:p=null,function_call:g,tool_calls:x,...y}=c,b=c.role;if(!b)throw new it(`missing role for choice ${u}`);if(g){const{arguments:w,name:k}=g;if(w==null)throw new it(`missing function_call.arguments for choice ${u}`);if(!k)throw new it(`missing function_call.name for choice ${u}`);return{...f,message:{content:p,function_call:{arguments:w,name:k},role:b,refusal:c.refusal??null},finish_reason:h,index:u,logprobs:d}}return x?{...f,index:u,finish_reason:h,logprobs:d,message:{...y,role:b,content:p,refusal:c.refusal??null,tool_calls:x.map((w,k)=>{const{function:S,type:_,id:A,...F}=w,{arguments:R,name:v,...L}=S||{};if(A==null)throw new it(`missing choices[${u}].tool_calls[${k}].id
${Ya(e)}`);if(_==null)throw new it(`missing choices[${u}].tool_calls[${k}].type
${Ya(e)}`);if(v==null)throw new it(`missing choices[${u}].tool_calls[${k}].function.name
${Ya(e)}`);if(R==null)throw new it(`missing choices[${u}].tool_calls[${k}].function.arguments
${Ya(e)}`);return{...F,id:A,type:_,function:{...L,name:v,arguments:R}}})}}:{...f,message:{...y,content:p,role:b,refusal:c.refusal??null},finish_reason:h,index:u,logprobs:d}}),created:i,model:s,object:"chat.completion",...a?{system_fingerprint:a}:{}};return i9(l,t)}function Ya(e){return JSON.stringify(e)}class gl extends ra{static fromReadableStream(t){const r=new gl(null);return r._run(()=>r._fromReadableStream(t)),r}static runTools(t,r,n){const i=new gl(r),s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,r,s)),i}}let id=class extends ct{constructor(){super(...arguments),this.messages=new tC(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(H`/chat/completions/${t}`,r)}update(t,r,n){return this._client.post(H`/chat/completions/${t}`,{body:r,...n})}list(t={},r){return this._client.getAPIList("/chat/completions",Ht,{query:t,...r})}delete(t,r){return this._client.delete(H`/chat/completions/${t}`,r)}parse(t,r){return l9(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>ed(n,t))}runTools(t,r){return t.stream?gl.runTools(this._client,t,r):nd.runTools(this._client,t,r)}stream(t,r){return ra.createChatCompletion(this._client,t,r)}};id.Messages=tC;class sd extends ct{constructor(){super(...arguments),this.completions=new id(this._client)}}sd.Completions=id;const _C=Symbol("brand.privateNullableHeaders");function*y9(e){if(!e)return;if(_C in e){const{values:n,nulls:i}=e;yield*n.entries();for(const s of i)yield[s,null];return}let t=!1,r;e instanceof Headers?r=e.entries():wm(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=wm(n[1])?n[1]:[n[1]];let a=!1;for(const o of s)o!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,o])}}const st=e=>{const t=new Headers,r=new Set;for(const n of e){const i=new Set;for(const[s,a]of y9(n)){const o=s.toLowerCase();i.has(o)||(t.delete(s),i.add(o)),a===null?(t.delete(s),r.add(o)):(t.append(s,a),r.delete(o))}}return{[_C]:!0,values:t,nulls:r}};class kC extends ct{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:st([{Accept:"application/octet-stream"},r?.headers]),__binaryResponse:!0})}}class CC extends ct{create(t,r){return this._client.post("/audio/transcriptions",On({body:t,...r,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class SC extends ct{create(t,r){return this._client.post("/audio/translations",On({body:t,...r,__metadata:{model:t.model}},this._client))}}class ba extends ct{constructor(){super(...arguments),this.transcriptions=new CC(this._client),this.translations=new SC(this._client),this.speech=new kC(this._client)}}ba.Transcriptions=CC;ba.Translations=SC;ba.Speech=kC;class vC extends ct{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(H`/batches/${t}`,r)}list(t={},r){return this._client.getAPIList("/batches",Ht,{query:t,...r})}cancel(t,r){return this._client.post(H`/batches/${t}/cancel`,r)}}class TC extends ct{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(H`/assistants/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,n){return this._client.post(H`/assistants/${t}`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t={},r){return this._client.getAPIList("/assistants",Ht,{query:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(t,r){return this._client.delete(H`/assistants/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class AC extends ct{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class EC extends ct{create(t,r){return this._client.post("/realtime/transcription_sessions",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}let tc=class extends ct{constructor(){super(...arguments),this.sessions=new AC(this._client),this.transcriptionSessions=new EC(this._client)}};tc.Sessions=AC;tc.TranscriptionSessions=EC;class LC extends ct{create(t,r,n){return this._client.post(H`/threads/${t}/messages`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,r,n){const{thread_id:i}=r;return this._client.get(H`/threads/${i}/messages/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,r,n){const{thread_id:i,...s}=r;return this._client.post(H`/threads/${i}/messages/${t}`,{body:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r={},n){return this._client.getAPIList(H`/threads/${t}/messages`,Ht,{query:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,r,n){const{thread_id:i}=r;return this._client.delete(H`/threads/${i}/messages/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class BC extends ct{retrieve(t,r,n){const{thread_id:i,run_id:s,...a}=r;return this._client.get(H`/threads/${i}/runs/${s}/steps/${t}`,{query:a,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r,n){const{thread_id:i,...s}=r;return this._client.getAPIList(H`/threads/${i}/runs/${t}/steps`,Ht,{query:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}const x9=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t.charCodeAt(i);return Array.from(new Float32Array(n.buffer))}};var b9={};const ei=e=>{if(typeof globalThis.process<"u")return b9?.[e]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(e)?.trim()};var ie,Sn,vu,gr,yo,tr,vn,hi,xn,ml,ze,xo,bo,Ps,vs,Ts,Om,Pm,Dm,Nm,zm,qm,Wm;class Ds extends rd{constructor(){super(...arguments),ie.add(this),vu.set(this,[]),gr.set(this,{}),yo.set(this,{}),tr.set(this,void 0),vn.set(this,void 0),hi.set(this,void 0),xn.set(this,void 0),ml.set(this,void 0),ze.set(this,void 0),xo.set(this,void 0),bo.set(this,void 0),Ps.set(this,void 0)}[(vu=new WeakMap,gr=new WeakMap,yo=new WeakMap,tr=new WeakMap,vn=new WeakMap,hi=new WeakMap,xn=new WeakMap,ml=new WeakMap,ze=new WeakMap,xo=new WeakMap,bo=new WeakMap,Ps=new WeakMap,ie=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",i=>{const s=r.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((s,a)=>r.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new Sn;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){const n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=ea.fromReadableStream(t,this.controller);for await(const s of i)$(this,ie,"m",vs).call(this,s);if(i.controller.signal?.aborted)throw new Ye;return this._addRun($(this,ie,"m",Ts).call(this))}toReadableStream(){return new ea(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,n,i){const s=new Sn;return s._run(()=>s._runToolAssistantStream(t,r,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(t,r,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await t.submitToolOutputs(r,a,{...i,signal:this.controller.signal});this._connected();for await(const l of o)$(this,ie,"m",vs).call(this,l);if(o.controller.signal?.aborted)throw new Ye;return this._addRun($(this,ie,"m",Ts).call(this))}static createThreadAssistantStream(t,r,n){const i=new Sn;return i._run(()=>i._threadAssistantStream(t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,r,n,i){const s=new Sn;return s._run(()=>s._runAssistantStream(t,r,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return $(this,xo,"f")}currentRun(){return $(this,bo,"f")}currentMessageSnapshot(){return $(this,tr,"f")}currentRunStepSnapshot(){return $(this,Ps,"f")}async finalRunSteps(){return await this.done(),Object.values($(this,gr,"f"))}async finalMessages(){return await this.done(),Object.values($(this,yo,"f"))}async finalRun(){if(await this.done(),!$(this,vn,"f"))throw Error("Final run was not received.");return $(this,vn,"f")}async _createThreadAssistantStream(t,r,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...r,stream:!0},a=await t.createAndRun(s,{...n,signal:this.controller.signal});this._connected();for await(const o of a)$(this,ie,"m",vs).call(this,o);if(a.controller.signal?.aborted)throw new Ye;return this._addRun($(this,ie,"m",Ts).call(this))}async _createAssistantStream(t,r,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await t.create(r,a,{...i,signal:this.controller.signal});this._connected();for await(const l of o)$(this,ie,"m",vs).call(this,l);if(o.controller.signal?.aborted)throw new Ye;return this._addRun($(this,ie,"m",Ts).call(this))}static accumulateDelta(t,r){for(const[n,i]of Object.entries(r)){if(!t.hasOwnProperty(n)){t[n]=i;continue}let s=t[n];if(s==null){t[n]=i;continue}if(n==="index"||n==="type"){t[n]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(Kc(s)&&Kc(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}for(const a of i){if(!Kc(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=s[o];l==null?s.push(a):s[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${i}, accValue: ${s}`);t[n]=s}return t}_addRun(t){return t}async _threadAssistantStream(t,r,n){return await this._createThreadAssistantStream(r,t,n)}async _runAssistantStream(t,r,n,i){return await this._createAssistantStream(r,t,n,i)}async _runToolAssistantStream(t,r,n,i){return await this._createToolAssistantStream(r,t,n,i)}}Sn=Ds,vs=function(t){if(!this.ended)switch(ut(this,xo,t),$(this,ie,"m",Dm).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":$(this,ie,"m",Wm).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":$(this,ie,"m",Pm).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":$(this,ie,"m",Om).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Ts=function(){if(this.ended)throw new it("stream has ended, this shouldn't happen");if(!$(this,vn,"f"))throw Error("Final run has not been received");return $(this,vn,"f")},Om=function(t){const[r,n]=$(this,ie,"m",zm).call(this,t,$(this,tr,"f"));ut(this,tr,r),$(this,yo,"f")[r.id]=r;for(const i of n){const s=r.content[i.index];s?.type=="text"&&this._emit("textCreated",s.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const i of t.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=r.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=$(this,hi,"f")){if($(this,xn,"f"))switch($(this,xn,"f").type){case"text":this._emit("textDone",$(this,xn,"f").text,$(this,tr,"f"));break;case"image_file":this._emit("imageFileDone",$(this,xn,"f").image_file,$(this,tr,"f"));break}ut(this,hi,i.index)}ut(this,xn,r.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if($(this,hi,"f")!==void 0){const i=t.data.content[$(this,hi,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,$(this,tr,"f"));break;case"text":this._emit("textDone",i.text,$(this,tr,"f"));break}}$(this,tr,"f")&&this._emit("messageDone",t.data),ut(this,tr,void 0)}},Pm=function(t){const r=$(this,ie,"m",Nm).call(this,t);switch(ut(this,Ps,r),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const n=t.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const s of n.step_details.tool_calls)s.index==$(this,ml,"f")?this._emit("toolCallDelta",s,r.step_details.tool_calls[s.index]):($(this,ze,"f")&&this._emit("toolCallDone",$(this,ze,"f")),ut(this,ml,s.index),ut(this,ze,r.step_details.tool_calls[s.index]),$(this,ze,"f")&&this._emit("toolCallCreated",$(this,ze,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ut(this,Ps,void 0),t.data.step_details.type=="tool_calls"&&$(this,ze,"f")&&(this._emit("toolCallDone",$(this,ze,"f")),ut(this,ze,void 0)),this._emit("runStepDone",t.data,r);break}},Dm=function(t){$(this,vu,"f").push(t),this._emit("event",t)},Nm=function(t){switch(t.event){case"thread.run.step.created":return $(this,gr,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=$(this,gr,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){const i=Sn.accumulateDelta(r,n.delta);$(this,gr,"f")[t.data.id]=i}return $(this,gr,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":$(this,gr,"f")[t.data.id]=t.data;break}if($(this,gr,"f")[t.data.id])return $(this,gr,"f")[t.data.id];throw new Error("No snapshot available")},zm=function(t,r){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=t.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in r.content){let a=r.content[s.index];r.content[s.index]=$(this,ie,"m",qm).call(this,s,a)}else r.content[s.index]=s,n.push(s);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},qm=function(t,r){return Sn.accumulateDelta(r,t)},Wm=function(t){switch(ut(this,bo,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ut(this,vn,t.data),$(this,ze,"f")&&(this._emit("toolCallDone",$(this,ze,"f")),ut(this,ze,void 0));break}};let ad=class extends ct{constructor(){super(...arguments),this.steps=new BC(this._client)}create(t,r,n){const{include:i,...s}=r;return this._client.post(H`/threads/${t}/runs`,{query:{include:i},body:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}retrieve(t,r,n){const{thread_id:i}=r;return this._client.get(H`/threads/${i}/runs/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,r,n){const{thread_id:i,...s}=r;return this._client.post(H`/threads/${i}/runs/${t}`,{body:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r={},n){return this._client.getAPIList(H`/threads/${t}/runs`,Ht,{query:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(t,r,n){const{thread_id:i}=r;return this._client.post(H`/threads/${i}/runs/${t}/cancel`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(t,r,n){const i=await this.create(t,r,n);return await this.poll(i.id,{thread_id:t},n)}createAndStream(t,r,n){return Ds.createAssistantStream(t,this._client.beta.threads.runs,r,n)}async poll(t,r,n){const i=st([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:s,response:a}=await this.retrieve(t,r,{...n,headers:{...n?.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(n?.pollIntervalMs)o=n.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await ya(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(t,r,n){return Ds.createAssistantStream(t,this._client.beta.threads.runs,r,n)}submitToolOutputs(t,r,n){const{thread_id:i,...s}=r;return this._client.post(H`/threads/${i}/runs/${t}/submit_tool_outputs`,{body:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(t,r,n){const i=await this.submitToolOutputs(t,r,n);return await this.poll(i.id,r,n)}submitToolOutputsStream(t,r,n){return Ds.createToolAssistantStream(t,this._client.beta.threads.runs,r,n)}};ad.Steps=BC;class ec extends ct{constructor(){super(...arguments),this.runs=new ad(this._client),this.messages=new LC(this._client)}create(t={},r){return this._client.post("/threads",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(H`/threads/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,n){return this._client.post(H`/threads/${t}`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,r){return this._client.delete(H`/threads/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}async createAndRunPoll(t,r){const n=await this.createAndRun(t,r);return await this.runs.poll(n.id,{thread_id:n.thread_id},r)}createAndRunStream(t,r){return Ds.createThreadAssistantStream(t,this._client.beta.threads,r)}}ec.Runs=ad;ec.Messages=LC;class wa extends ct{constructor(){super(...arguments),this.realtime=new tc(this._client),this.assistants=new TC(this._client),this.threads=new ec(this._client)}}wa.Realtime=tc;wa.Assistants=TC;wa.Threads=ec;class MC extends ct{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}class IC extends ct{retrieve(t,r,n){const{container_id:i}=r;return this._client.get(H`/containers/${i}/files/${t}/content`,{...n,headers:st([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}}let od=class extends ct{constructor(){super(...arguments),this.content=new IC(this._client)}create(t,r,n){return this._client.post(H`/containers/${t}/files`,On({body:r,...n},this._client))}retrieve(t,r,n){const{container_id:i}=r;return this._client.get(H`/containers/${i}/files/${t}`,n)}list(t,r={},n){return this._client.getAPIList(H`/containers/${t}/files`,Ht,{query:r,...n})}delete(t,r,n){const{container_id:i}=r;return this._client.delete(H`/containers/${i}/files/${t}`,{...n,headers:st([{Accept:"*/*"},n?.headers])})}};od.Content=IC;class ld extends ct{constructor(){super(...arguments),this.files=new od(this._client)}create(t,r){return this._client.post("/containers",{body:t,...r})}retrieve(t,r){return this._client.get(H`/containers/${t}`,r)}list(t={},r){return this._client.getAPIList("/containers",Ht,{query:t,...r})}delete(t,r){return this._client.delete(H`/containers/${t}`,{...r,headers:st([{Accept:"*/*"},r?.headers])})}}ld.Files=od;class $C extends ct{create(t,r,n){const{include:i,...s}=r;return this._client.post(H`/conversations/${t}/items`,{query:{include:i},body:s,...n})}retrieve(t,r,n){const{conversation_id:i,...s}=r;return this._client.get(H`/conversations/${i}/items/${t}`,{query:s,...n})}list(t,r={},n){return this._client.getAPIList(H`/conversations/${t}/items`,X8,{query:r,...n})}delete(t,r,n){const{conversation_id:i}=r;return this._client.delete(H`/conversations/${i}/items/${t}`,n)}}class cd extends ct{constructor(){super(...arguments),this.items=new $C(this._client)}create(t={},r){return this._client.post("/conversations",{body:t,...r})}retrieve(t,r){return this._client.get(H`/conversations/${t}`,r)}update(t,r,n){return this._client.post(H`/conversations/${t}`,{body:r,...n})}delete(t,r){return this._client.delete(H`/conversations/${t}`,r)}}cd.Items=$C;class FC extends ct{create(t,r){const n=!!t.encoding_format;let i=n?t.encoding_format:"base64";n&&ne(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const s=this._client.post("/embeddings",{body:{...t,encoding_format:i},...r});return n?s:(ne(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=x9(l)}),a)))}}class RC extends ct{retrieve(t,r,n){const{eval_id:i,run_id:s}=r;return this._client.get(H`/evals/${i}/runs/${s}/output_items/${t}`,n)}list(t,r,n){const{eval_id:i,...s}=r;return this._client.getAPIList(H`/evals/${i}/runs/${t}/output_items`,Ht,{query:s,...n})}}class hd extends ct{constructor(){super(...arguments),this.outputItems=new RC(this._client)}create(t,r,n){return this._client.post(H`/evals/${t}/runs`,{body:r,...n})}retrieve(t,r,n){const{eval_id:i}=r;return this._client.get(H`/evals/${i}/runs/${t}`,n)}list(t,r={},n){return this._client.getAPIList(H`/evals/${t}/runs`,Ht,{query:r,...n})}delete(t,r,n){const{eval_id:i}=r;return this._client.delete(H`/evals/${i}/runs/${t}`,n)}cancel(t,r,n){const{eval_id:i}=r;return this._client.post(H`/evals/${i}/runs/${t}`,n)}}hd.OutputItems=RC;class ud extends ct{constructor(){super(...arguments),this.runs=new hd(this._client)}create(t,r){return this._client.post("/evals",{body:t,...r})}retrieve(t,r){return this._client.get(H`/evals/${t}`,r)}update(t,r,n){return this._client.post(H`/evals/${t}`,{body:r,...n})}list(t={},r){return this._client.getAPIList("/evals",Ht,{query:t,...r})}delete(t,r){return this._client.delete(H`/evals/${t}`,r)}}ud.Runs=hd;let OC=class extends ct{create(t,r){return this._client.post("/files",On({body:t,...r},this._client))}retrieve(t,r){return this._client.get(H`/files/${t}`,r)}list(t={},r){return this._client.getAPIList("/files",Ht,{query:t,...r})}delete(t,r){return this._client.delete(H`/files/${t}`,r)}content(t,r){return this._client.get(H`/files/${t}/content`,{...r,headers:st([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:n=1800*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(t);for(;!a.status||!i.has(a.status);)if(await ya(r),a=await this.retrieve(t),Date.now()-s>n)throw new Qf({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return a}};class PC extends ct{}let DC=class extends ct{run(t,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...r})}validate(t,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...r})}};class fd extends ct{constructor(){super(...arguments),this.graders=new DC(this._client)}}fd.Graders=DC;class NC extends ct{create(t,r,n){return this._client.getAPIList(H`/fine_tuning/checkpoints/${t}/permissions`,Zl,{body:r,method:"post",...n})}retrieve(t,r={},n){return this._client.get(H`/fine_tuning/checkpoints/${t}/permissions`,{query:r,...n})}delete(t,r,n){const{fine_tuned_model_checkpoint:i}=r;return this._client.delete(H`/fine_tuning/checkpoints/${i}/permissions/${t}`,n)}}let dd=class extends ct{constructor(){super(...arguments),this.permissions=new NC(this._client)}};dd.Permissions=NC;class zC extends ct{list(t,r={},n){return this._client.getAPIList(H`/fine_tuning/jobs/${t}/checkpoints`,Ht,{query:r,...n})}}class pd extends ct{constructor(){super(...arguments),this.checkpoints=new zC(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(H`/fine_tuning/jobs/${t}`,r)}list(t={},r){return this._client.getAPIList("/fine_tuning/jobs",Ht,{query:t,...r})}cancel(t,r){return this._client.post(H`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},n){return this._client.getAPIList(H`/fine_tuning/jobs/${t}/events`,Ht,{query:r,...n})}pause(t,r){return this._client.post(H`/fine_tuning/jobs/${t}/pause`,r)}resume(t,r){return this._client.post(H`/fine_tuning/jobs/${t}/resume`,r)}}pd.Checkpoints=zC;class qi extends ct{constructor(){super(...arguments),this.methods=new PC(this._client),this.jobs=new pd(this._client),this.checkpoints=new dd(this._client),this.alpha=new fd(this._client)}}qi.Methods=PC;qi.Jobs=pd;qi.Checkpoints=dd;qi.Alpha=fd;class qC extends ct{}class gd extends ct{constructor(){super(...arguments),this.graderModels=new qC(this._client)}}gd.GraderModels=qC;class WC extends ct{createVariation(t,r){return this._client.post("/images/variations",On({body:t,...r},this._client))}edit(t,r){return this._client.post("/images/edits",On({body:t,...r,stream:t.stream??!1},this._client))}generate(t,r){return this._client.post("/images/generations",{body:t,...r,stream:t.stream??!1})}}class HC extends ct{retrieve(t,r){return this._client.get(H`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",Zl,t)}delete(t,r){return this._client.delete(H`/models/${t}`,r)}}class jC extends ct{create(t,r){return this._client.post("/moderations",{body:t,...r})}}class UC extends ct{create(t,r){return this._client.post("/realtime/client_secrets",{body:t,...r})}}class md extends ct{constructor(){super(...arguments),this.clientSecrets=new UC(this._client)}}md.ClientSecrets=UC;function w9(e,t){return!t||!k9(t)?{...e,output_parsed:null,output:e.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:VC(e,t)}function VC(e,t){const r=e.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:v9(t,i)};if(i.type==="message"){const s=i.content.map(a=>a.type==="output_text"?{...a,parsed:_9(t,a.text)}:a);return{...i,content:s}}return i}),n=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||Tu(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const i of n.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),n}function _9(e,t){return e.text?.format?.type!=="json_schema"?null:"$parseRaw"in e.text?.format?(e.text?.format).$parseRaw(t):JSON.parse(t)}function k9(e){return!!td(e.text?.format)}function C9(e){return e?.$brand==="auto-parseable-tool"}function S9(e,t){return e.find(r=>r.type==="function"&&r.name===t)}function v9(e,t){const r=S9(e.tools??[],t.name);return{...t,...t,parsed_arguments:C9(r)?r.$parseRaw(t.arguments):r?.strict?JSON.parse(t.arguments):null}}function Tu(e){const t=[];for(const r of e.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&t.push(n.text);e.output_text=t.join("")}var ri,Ga,Yr,Xa,Hm,jm,Um,Vm;class yd extends rd{constructor(t){super(),ri.add(this),Ga.set(this,void 0),Yr.set(this,void 0),Xa.set(this,void 0),ut(this,Ga,t)}static createResponse(t,r,n){const i=new yd(r);return i._run(()=>i._createOrRetrieveResponse(t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(t,r,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),$(this,ri,"m",Hm).call(this);let s,a=null;"response_id"in r?(s=await t.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),a=r.starting_after??null):s=await t.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const o of s)$(this,ri,"m",jm).call(this,o,a);if(s.controller.signal?.aborted)throw new Ye;return $(this,ri,"m",Um).call(this)}[(Ga=new WeakMap,Yr=new WeakMap,Xa=new WeakMap,ri=new WeakSet,Hm=function(){this.ended||ut(this,Yr,void 0)},jm=function(r,n){if(this.ended)return;const i=(a,o)=>{(n==null||o.sequence_number>n)&&this._emit(a,o)},s=$(this,ri,"m",Vm).call(this,r);switch(i("event",r),r.type){case"response.output_text.delta":{const a=s.output[r.output_index];if(!a)throw new it(`missing output at index ${r.output_index}`);if(a.type==="message"){const o=a.content[r.content_index];if(!o)throw new it(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new it(`expected content to be 'output_text', got ${o.type}`);i("response.output_text.delta",{...r,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=s.output[r.output_index];if(!a)throw new it(`missing output at index ${r.output_index}`);a.type==="function_call"&&i("response.function_call_arguments.delta",{...r,snapshot:a.arguments});break}default:i(r.type,r);break}},Um=function(){if(this.ended)throw new it("stream has ended, this shouldn't happen");const r=$(this,Yr,"f");if(!r)throw new it("request ended without sending any events");ut(this,Yr,void 0);const n=T9(r,$(this,Ga,"f"));return ut(this,Xa,n),n},Vm=function(r){let n=$(this,Yr,"f");if(!n){if(r.type!=="response.created")throw new it(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=ut(this,Yr,r.response),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const i=n.output[r.output_index];if(!i)throw new it(`missing output at index ${r.output_index}`);const s=i.type,a=r.part;s==="message"&&a.type!=="reasoning_text"?i.content.push(a):s==="reasoning"&&a.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(a));break}case"response.output_text.delta":{const i=n.output[r.output_index];if(!i)throw new it(`missing output at index ${r.output_index}`);if(i.type==="message"){const s=i.content[r.content_index];if(!s)throw new it(`missing content at index ${r.content_index}`);if(s.type!=="output_text")throw new it(`expected content to be 'output_text', got ${s.type}`);s.text+=r.delta}break}case"response.function_call_arguments.delta":{const i=n.output[r.output_index];if(!i)throw new it(`missing output at index ${r.output_index}`);i.type==="function_call"&&(i.arguments+=r.delta);break}case"response.reasoning_text.delta":{const i=n.output[r.output_index];if(!i)throw new it(`missing output at index ${r.output_index}`);if(i.type==="reasoning"){const s=i.content?.[r.content_index];if(!s)throw new it(`missing content at index ${r.content_index}`);if(s.type!=="reasoning_text")throw new it(`expected content to be 'reasoning_text', got ${s.type}`);s.text+=r.delta}break}case"response.completed":{ut(this,Yr,r.response);break}}return n},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",i=>{const s=r.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((s,a)=>r.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=$(this,Xa,"f");if(!t)throw new it("stream ended without producing a ChatCompletion");return t}}function T9(e,t){return w9(e,t)}class YC extends ct{list(t,r={},n){return this._client.getAPIList(H`/responses/${t}/input_items`,Ht,{query:r,...n})}}class xd extends ct{constructor(){super(...arguments),this.inputItems=new YC(this._client)}create(t,r){return this._client.post("/responses",{body:t,...r,stream:t.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&Tu(n),n))}retrieve(t,r={},n){return this._client.get(H`/responses/${t}`,{query:r,...n,stream:r?.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Tu(i),i))}delete(t,r){return this._client.delete(H`/responses/${t}`,{...r,headers:st([{Accept:"*/*"},r?.headers])})}parse(t,r){return this._client.responses.create(t,r)._thenUnwrap(n=>VC(n,t))}stream(t,r){return yd.createResponse(this._client,t,r)}cancel(t,r){return this._client.post(H`/responses/${t}/cancel`,r)}}xd.InputItems=YC;class GC extends ct{create(t,r,n){return this._client.post(H`/uploads/${t}/parts`,On({body:r,...n},this._client))}}class bd extends ct{constructor(){super(...arguments),this.parts=new GC(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(H`/uploads/${t}/cancel`,r)}complete(t,r,n){return this._client.post(H`/uploads/${t}/complete`,{body:r,...n})}}bd.Parts=GC;const A9=async e=>{const t=await Promise.allSettled(e),r=t.filter(i=>i.status==="rejected");if(r.length){for(const i of r)console.error(i.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const i of t)i.status==="fulfilled"&&n.push(i.value);return n};class XC extends ct{create(t,r,n){return this._client.post(H`/vector_stores/${t}/file_batches`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,r,n){const{vector_store_id:i}=r;return this._client.get(H`/vector_stores/${i}/file_batches/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(t,r,n){const{vector_store_id:i}=r;return this._client.post(H`/vector_stores/${i}/file_batches/${t}/cancel`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(t,r,n){const i=await this.create(t,r);return await this.poll(t,i.id,n)}listFiles(t,r,n){const{vector_store_id:i,...s}=r;return this._client.getAPIList(H`/vector_stores/${i}/file_batches/${t}/files`,Ht,{query:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(t,r,n){const i=st([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:s,response:a}=await this.retrieve(r,{vector_store_id:t},{...n,headers:i}).withResponse();switch(s.status){case"in_progress":let o=5e3;if(n?.pollIntervalMs)o=n.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await ya(o);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(t,{files:r,fileIds:n=[]},i){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=i?.maxConcurrency??5,a=Math.min(s,r.length),o=this._client,l=r.values(),c=[...n];async function h(d){for(let f of d){const p=await o.files.create({file:f,purpose:"assistants"},i);c.push(p.id)}}const u=Array(a).fill(l).map(h);return await A9(u),await this.createAndPoll(t,{file_ids:c})}}class KC extends ct{create(t,r,n){return this._client.post(H`/vector_stores/${t}/files`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,r,n){const{vector_store_id:i}=r;return this._client.get(H`/vector_stores/${i}/files/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,r,n){const{vector_store_id:i,...s}=r;return this._client.post(H`/vector_stores/${i}/files/${t}`,{body:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r={},n){return this._client.getAPIList(H`/vector_stores/${t}/files`,Ht,{query:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,r,n){const{vector_store_id:i}=r;return this._client.delete(H`/vector_stores/${i}/files/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(t,r,n){const i=await this.create(t,r,n);return await this.poll(t,i.id,n)}async poll(t,r,n){const i=st([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const s=await this.retrieve(r,{vector_store_id:t},{...n,headers:i}).withResponse(),a=s.data;switch(a.status){case"in_progress":let o=5e3;if(n?.pollIntervalMs)o=n.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await ya(o);break;case"failed":case"completed":return a}}}async upload(t,r,n){const i=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(t,{file_id:i.id},n)}async uploadAndPoll(t,r,n){const i=await this.upload(t,r,n);return await this.poll(t,i.id,n)}content(t,r,n){const{vector_store_id:i}=r;return this._client.getAPIList(H`/vector_stores/${i}/files/${t}/content`,Zl,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class rc extends ct{constructor(){super(...arguments),this.files=new KC(this._client),this.fileBatches=new XC(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(H`/vector_stores/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,n){return this._client.post(H`/vector_stores/${t}`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t={},r){return this._client.getAPIList("/vector_stores",Ht,{query:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(t,r){return this._client.delete(H`/vector_stores/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}search(t,r,n){return this._client.getAPIList(H`/vector_stores/${t}/search`,Zl,{body:r,method:"post",...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}rc.Files=KC;rc.FileBatches=XC;var li,QC,wo;class JC extends ct{constructor(){super(...arguments),li.add(this)}async unwrap(t,r,n=this._client.webhookSecret,i=300){return await this.verifySignature(t,r,n,i),JSON.parse(t)}async verifySignature(t,r,n=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");$(this,li,"m",QC).call(this,n);const s=st([r]).values,a=$(this,li,"m",wo).call(this,s,"webhook-signature"),o=$(this,li,"m",wo).call(this,s,"webhook-timestamp"),l=$(this,li,"m",wo).call(this,s,"webhook-id"),c=parseInt(o,10);if(isNaN(c))throw new ys("Invalid webhook timestamp format");const h=Math.floor(Date.now()/1e3);if(h-c>i)throw new ys("Webhook timestamp is too old");if(c>h+i)throw new ys("Webhook timestamp is too new");const u=a.split(" ").map(g=>g.startsWith("v1,")?g.substring(3):g),d=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),f=l?`${l}.${o}.${t}`:`${o}.${t}`,p=await crypto.subtle.importKey("raw",d,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const g of u)try{const x=Buffer.from(g,"base64");if(await crypto.subtle.verify("HMAC",p,x,new TextEncoder().encode(f)))return}catch{continue}throw new ys("The given webhook signature does not match the expected signature")}}li=new WeakSet,QC=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},wo=function(t,r){if(!t)throw new Error("Headers are required");const n=t.get(r);if(n==null)throw new Error(`Missing required header: ${r}`);return n};var Au,wd,_o,ZC;class bt{constructor({baseURL:t=ei("OPENAI_BASE_URL"),apiKey:r=ei("OPENAI_API_KEY"),organization:n=ei("OPENAI_ORG_ID")??null,project:i=ei("OPENAI_PROJECT_ID")??null,webhookSecret:s=ei("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(Au.add(this),_o.set(this,void 0),this.completions=new MC(this),this.chat=new sd(this),this.embeddings=new FC(this),this.files=new OC(this),this.images=new WC(this),this.audio=new ba(this),this.moderations=new jC(this),this.models=new HC(this),this.fineTuning=new qi(this),this.graders=new gd(this),this.vectorStores=new rc(this),this.webhooks=new JC(this),this.beta=new wa(this),this.batches=new vC(this),this.uploads=new bd(this),this.responses=new xd(this),this.realtime=new md(this),this.conversations=new cd(this),this.evals=new ud(this),this.containers=new ld(this),r===void 0)throw new it("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const o={apiKey:r,organization:n,project:i,webhookSecret:s,...a,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&T8())throw new it(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??wd.DEFAULT_TIMEOUT,this.logger=o.logger??console;const l="warn";this.logLevel=l,this.logLevel=Bm(o.logLevel,"ClientOptions.logLevel",this)??Bm(ei("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??M8(),ut(this,_o,$8),this._options=o,this.apiKey=typeof r=="string"?r:"Missing Key",this.organization=n,this.project=i,this.webhookSecret=s}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){}async authHeaders(t){return st([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return N8(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${ai}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ek()}`}makeStatusError(t,r,n,i){return se.generate(t,r,n,i)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let r;try{r=await t()}catch(n){throw n instanceof it?n:new it(`Failed to get token from 'apiKey' function: ${n.message}`,{cause:n})}if(typeof r!="string"||!r)throw new it(`Expected 'apiKey' function argument to return a string but it returned ${r}`);return this.apiKey=r,!0}buildURL(t,r,n){const i=!$(this,Au,"m",ZC).call(this)&&n||this.baseURL,s=_8(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return k8(a)||(r={...a,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(s.search=this.stringifyQuery(r)),s.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(i=>({method:t,path:r,...i})))}request(t,r=null){return new Jl(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){const i=await t,s=i.maxRetries??this.maxRetries;r==null&&(r=s),await this.prepareOptions(i);const{req:a,url:o,timeout:l}=await this.buildRequest(i,{retryCount:s-r});await this.prepareRequest(a,{url:o,options:i});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=n===void 0?"":`, retryOf: ${n}`,u=Date.now();if(ne(this).debug(`[${c}] sending request`,yn({retryOfRequestLogID:n,method:i.method,url:o,options:i,headers:a.headers})),i.signal?.aborted)throw new Ye;const d=new AbortController,f=await this.fetchWithTimeout(o,a,l,d).catch(mu),p=Date.now();if(f instanceof globalThis.Error){const y=`retrying, ${r} attempts remaining`;if(i.signal?.aborted)throw new Ye;const b=gu(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(r)return ne(this).info(`[${c}] connection ${b?"timed out":"failed"} - ${y}`),ne(this).debug(`[${c}] connection ${b?"timed out":"failed"} (${y})`,yn({retryOfRequestLogID:n,url:o,durationMs:p-u,message:f.message})),this.retryRequest(i,r,n??c);throw ne(this).info(`[${c}] connection ${b?"timed out":"failed"} - error; no more retries left`),ne(this).debug(`[${c}] connection ${b?"timed out":"failed"} (error; no more retries left)`,yn({retryOfRequestLogID:n,url:o,durationMs:p-u,message:f.message})),b?new Qf:new Kl({cause:f})}const g=[...f.headers.entries()].filter(([y])=>y==="x-request-id").map(([y,b])=>", "+y+": "+JSON.stringify(b)).join(""),x=`[${c}${h}${g}] ${a.method} ${o} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${p-u}ms`;if(!f.ok){const y=await this.shouldRetry(f);if(r&&y){const A=`retrying, ${r} attempts remaining`;return await I8(f.body),ne(this).info(`${x} - ${A}`),ne(this).debug(`[${c}] response error (${A})`,yn({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:p-u})),this.retryRequest(i,r,n??c,f.headers)}const b=y?"error; no more retries left":"error; not retryable";ne(this).info(`${x} - ${b}`);const w=await f.text().catch(A=>mu(A).message),k=v8(w),S=k?void 0:w;throw ne(this).debug(`[${c}] response error (${b})`,yn({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:S,durationMs:Date.now()-u})),this.makeStatusError(f.status,k,S,f.headers)}return ne(this).info(x),ne(this).debug(`[${c}] response start`,yn({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:p-u})),{response:f,options:i,controller:d,requestLogID:c,retryOfRequestLogID:n,startTime:u}}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}requestAPIList(t,r){const n=this.makeRequest(r,null,void 0);return new G8(this,n,t)}async fetchWithTimeout(t,r,n,i){const{signal:s,method:a,...o}=r||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),n),c=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,h={signal:i.signal,...c?{duplex:"half"}:{},method:"GET",...o};a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(l)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,i){let s;const a=i?.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(s=l)}const o=i?.get("retry-after");if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,l)}return await ya(s),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const s=r-t,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(t,{retryCount:r=0}={}){const n={...t},{method:i,path:s,query:a,defaultBaseURL:o}=n,l=this.buildURL(s,a,o);"timeout"in n&&S8("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:c,body:h}=this.buildBody({options:n}),u=await this.buildHeaders({options:t,method:i,bodyHeaders:c,retryCount:r});return{req:{method:i,headers:u,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...n.fetchOptions??{}},url:l,timeout:n.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:i}){let s={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const a=st([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...B8(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,n,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=st([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:qk(t)}:$(this,_o,"f").call(this,{body:t,headers:n})}}wd=bt,_o=new WeakMap,Au=new WeakSet,ZC=function(){return this.baseURL!=="https://api.openai.com/v1"};bt.OpenAI=wd;bt.DEFAULT_TIMEOUT=6e5;bt.OpenAIError=it;bt.APIError=se;bt.APIConnectionError=Kl;bt.APIConnectionTimeoutError=Qf;bt.APIUserAbortError=Ye;bt.NotFoundError=Ik;bt.ConflictError=$k;bt.RateLimitError=Rk;bt.BadRequestError=Lk;bt.AuthenticationError=Bk;bt.InternalServerError=Ok;bt.PermissionDeniedError=Mk;bt.UnprocessableEntityError=Fk;bt.InvalidWebhookSignatureError=ys;bt.toFile=e9;bt.Completions=MC;bt.Chat=sd;bt.Embeddings=FC;bt.Files=OC;bt.Images=WC;bt.Audio=ba;bt.Moderations=jC;bt.Models=HC;bt.FineTuning=qi;bt.Graders=gd;bt.VectorStores=rc;bt.Webhooks=JC;bt.Beta=wa;bt.Batches=vC;bt.Uploads=bd;bt.Responses=xd;bt.Realtime=md;bt.Conversations=cd;bt.Evals=ud;bt.Containers=ld;const E9=new bt({baseURL:"http://127.0.0.1:1234/v1",apiKey:"lm-studio",dangerouslyAllowBrowser:!0});function _d(){const e=o2(),{data:t=""}=Fd({queryKey:[jr,Sa],queryFn:async()=>e.getQueryData([jr,Sa])??"",initialData:"",staleTime:1/0,refetchOnWindowFocus:!1}),{data:r=[]}=Fd({queryKey:[jr,va],queryFn:async()=>e.getQueryData([jr,va])??[],initialData:[],staleTime:1/0,refetchOnWindowFocus:!1});return{mutation:f2({mutationFn:async({userMessage:i})=>{e.setQueryData([jr,Sa],""),e.setQueryData([jr,va],(o=[])=>[...o,{role:"user",content:i}]);const s=await E9.chat.completions.create({model:l2,messages:[{role:"user",content:i}],stream:!0});let a="";for await(const o of s){const l=o?.choices?.[0]?.delta?.content;l&&(a+=l,e.setQueryData([jr,Sa],(c="")=>c+l))}return e.setQueryData([jr,va],(o=[])=>[...o,{role:"assistant",content:a.trim()===""?"Can not respond right now":a}]),a},onSuccess:i=>{if(i==="")throw new Error("Can not reach LLM")},onError:i=>{throw new Error(`LLM says ${i.message}`)}}),streamedText:t,history:r}}function L9(){const{history:e}=_d();return xt.jsx(Gm,{flexDirection:"column",gap:"var(--gap-3)",children:e.map((t,r)=>xt.jsxs(lc,{component:"article",dangerous:{alignSelf:t.role==="user"?"flex-end":"flex-start",maxWidth:"min(65%, 750px)",padding:"var(--gap-3)",borderRadius:"var(--border-radius)",background:t.role==="user"?"var(--neutral)":"var(--negative)"},children:[xt.jsx(lc.Title,{dangerous:{padding:0},children:xt.jsx(yl,{size:"xs",children:t.role})}),xt.jsx(lc.Content,{dangerous:{padding:0},children:xt.jsx(Ak,{content:`${t.content.slice(0,t.role==="user"?t.content.length:130)}${t.role!=="user"?"...":""}`,lite:!0})})]},r))})}function B9(){const[e,t]=Ka.useState(""),{mutation:r}=_d(),n=()=>{const i=e.trim();i&&(r.mutate({userMessage:i}),t(""))};return xt.jsxs("div",{className:pu.prompt,children:[xt.jsx(d2,{id:"menu-test",label:xt.jsxs(xt.Fragment,{children:[xt.jsx(yl.Bold,{children:"Tools"}),xt.jsx(c2.ChevronDown,{size:22})]}),children:()=>xt.jsxs(oc,{label:"Options",children:[xt.jsxs(oc.Group,{label:"Interactions",children:[xt.jsx(Ta,{onClick:()=>console.log("a"),children:"File"}),xt.jsx(Ta,{onClick:()=>console.log("b"),children:"Speak"})]}),xt.jsx(oc.Group,{label:"Go pro",children:xt.jsx(Ta,{onClick:()=>console.log("c"),children:"Upgrade"})})]})}),xt.jsx(h2,{label:"",id:"prompt-input",onChange:()=>({}),placeholder:"Type your message...",value:e,onChangeNative:i=>t(i.target.value),onKeyDown:i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),n())},disabled:r.isPending}),xt.jsx(Ta.Positive,{dangerous:{justifySelf:"stretch",alignSelf:"stretch",maxWidth:"auto",width:"auto"},onClick:n,disabled:r.isPending||!e.trim(),children:"Send"})]})}function M9(){const{mutation:e,streamedText:t}=_d();return xt.jsxs(xt.Fragment,{children:[xt.jsx(B9,{}),xt.jsx(L9,{}),xt.jsx(Ak,{content:t}),xt.jsx(b8,{show:e.isError,error:String(e.error?.message??"Try again later")})]})}const wq=Object.freeze(Object.defineProperty({__proto__:null,default:M9},Symbol.toStringTag,{value:"Module"}));export{J9 as $,Ms as A,rE as B,CL as C,Lf as D,he as E,Qy as F,tP as G,r$ as H,Tp as I,lF as J,DE as K,la as L,yr as M,HI as N,of as O,U9 as P,G9 as Q,Jn as R,ng as S,rg as T,ft as U,K9 as V,X9 as W,Y9 as X,H9 as Y,j9 as Z,m as _,yL as a,$e as a$,V9 as a0,Q9 as a1,Ti as a2,N9 as a3,Nl as a4,UO as a5,nL as a6,Yu as a7,Pp as a8,YI as a9,Z as aA,aq as aB,f3 as aC,o3 as aD,a3 as aE,pD as aF,jI as aG,D9 as aH,ga as aI,fD as aJ,uD as aK,rf as aL,Xr as aM,Kp as aN,CM as aO,Hs as aP,Nn as aQ,WO as aR,Xb as aS,Fl as aT,Dl as aU,Ko as aV,Qb as aW,Gb as aX,xO as aY,J as aZ,Pb as a_,io as aa,ZO as ab,uL as ac,oa as ad,X as ae,nt as af,a0 as ag,ND as ah,s_ as ai,lq as aj,hF as ak,Xt as al,sn as am,bf as an,Mw as ao,Wn as ap,nw as aq,qO as ar,$R as as,FO as at,wf as au,tm as av,B3 as aw,oq as ax,cq as ay,sq as az,mL as b,mM as b0,ef as b1,w0 as b2,ha as b3,C0 as b4,W9 as b5,zO as b6,$O as b7,wR as b8,_f as b9,Pl as bA,wq as bB,pO as ba,jO as bb,da as bc,Pi as bd,Yo as be,vO as bf,Z3 as bg,fa as bh,Xo as bi,bO as bj,Wb as bk,CR as bl,SR as bm,mn as bn,Cg as bo,vR as bp,kf as bq,kR as br,ER as bs,Di as bt,nn as bu,xg as bv,Cf as bw,jb as bx,cu as by,HO as bz,Lt as c,St as d,s0 as e,Yt as f,bL as g,Dr as h,Xe as i,mF as j,Ri as k,N as l,sw as m,z9 as n,uq as o,wL as p,_L as q,hq as r,xL as s,cF as t,rr as u,n3 as v,nP as w,Z9 as x,gL as y,q9 as z};
