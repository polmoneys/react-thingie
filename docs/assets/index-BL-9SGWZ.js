import{r,h as g,j as n,c as j}from"./index-DNZ0r9ns.js";const B=(s,e,t)=>`data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${s} ${e}"><rect  fill='%23${t}' width="${s}" height="${e}"/></svg>`,D="_media_4noq9_1",O="_portrait_4noq9_5",U="_landscape_4noq9_13",V={media:D,portrait:O,landscape:U};function q(s){const{height:e,sources:t,src:i,alt:d="",eager:c=!1,objectPosition:m,ratio:w="landscape"}=s,[f,x]=r.useState(!1),_=()=>{x(!0)};let v=n.jsx(r.Fragment,{});return g(t)&&(v=Object.keys(t).map(p=>{const b=g(t?.[p]),o=`image/${p}`,y=t?.[p]?.toString();return b?n.jsx("source",{type:o,srcSet:y},p):n.jsx(r.Fragment,{})})),n.jsxs("picture",{className:j(V.media,V[w]),...g(e)&&{style:{height:e}},onError:_,children:[f&&n.jsx("img",{src:B("600px",e??"200px","currentColor"),alt:"Loading error"}),!f&&n.jsxs(r.Fragment,{children:[v,n.jsx("img",{src:i,alt:d,loading:c?"eager":"lazy",height:e,...g(m)&&{style:{objectPosition:m}}})]})]})}const z="_root_1ubw4_24",A="_adapt_1ubw4_35",K="_video_1ubw4_41",G="_portrait_1ubw4_58",H="_landscape_1ubw4_67",J="_controls_1ubw4_76",Q="_playing_1ubw4_85",W="_paused_1ubw4_86",X="_extraControls_1ubw4_115",Y="_edgestart_1ubw4_118",Z="_edgeend_1ubw4_119",ee="_edge_1ubw4_118",te="_end_1ubw4_147",ne="_volume_1ubw4_155",se="_offscreen_1ubw4_208",l={root:z,adapt:A,video:K,portrait:G,landscape:H,controls:J,playing:Q,paused:W,extraControls:X,edgestart:Y,edgeend:Z,edge:ee,end:te,volume:ne,offscreen:se};function oe(s){const{initial:e=1,min:t=1,max:i=100,onChangeValue:d,...c}=s,m=w=>d(Number(w.target.value));return n.jsx("input",{...c,className:l.volume,type:"range",min:t,max:i,value:e,onChange:m})}function re(s){const{videoRef:e,isPlaying:t,setIsPlaying:i,randomPlay:d,mute:c}=s,[m,w]=r.useState(1),[f,x]=r.useState(!1),_=()=>{const o=e.current;o!=null&&(o.paused?(o.play(),i(!0)):(o.pause(),i(!1)))},v=o=>{w(o),e.current!=null&&(e.current.volume=o)},p=()=>{const o=e.current;if(o==null)return;const y=Math.random()*o.duration;o.currentTime=y,o.play(),i(!0)},b=()=>{const o=e.current;o!=null&&(o.muted=!o.muted,x(o.muted))};return e.current===null?null:n.jsxs(r.Fragment,{children:[n.jsxs("div",{className:l.controls,children:[n.jsx("button",{className:j(t?l.playing:l.paused),onClick:_,children:n.jsx("span",{className:l.offscreen,children:t?"Pause":"Play"})}),n.jsx(oe,{min:"0",max:"1",step:"0.01",initial:m,onChangeValue:v})]}),n.jsxs("div",{className:l.extraControls,children:[d!=null&&r.isValidElement(d)&&r.cloneElement(d,{onClick:p}),c!=null&&r.isValidElement(c)&&r.cloneElement(c,{onClick:b,isMuted:f})]})]})}function $(s){const{position:e,onMouseDown:t,onMouseUp:i,onTouchEnd:d,onTouchStart:c}=s;return n.jsx("div",{"aria-hidden":"true",className:j(l[`edge${e}`]),style:{...e==="start"&&{left:0},...e==="end"&&{right:0}},onMouseDown:t,onMouseUp:i,onTouchStart:c,onTouchEnd:d})}const I=r.forwardRef((s,e)=>{const{sources:t,preload:i="metadata",controls:d=!1,playsInline:c=!0,onLoad:m,ratio:w="landscape",subtitles:f,...x}=s;return n.jsxs("video",{className:j(l.video,l[w]),ref:e,preload:i,controls:d,playsInline:c,onLoadedData:m,...x,children:[Object.keys(t).map(_=>n.jsx("source",{type:`video/${_}`,src:t[_]},_)),f!==void 0&&n.jsx("track",{kind:"subtitles",src:`./${f}`,srcLang:"en",label:"English",default:!0})]})});function ae(s){const{sources:e,videoOptions:t,width:i,height:d,title:c,subtitles:m,ratio:w="landscape",children:f,fitInParent:x}=s,[_,v]=r.useState(!1),[p,b]=r.useState(!1),[o,y]=r.useState(!1),u=r.useRef(null);r.useEffect(()=>{const a=u.current;if(a==null)return;const h=()=>a.currentTime;return a.addEventListener("timeupdate",h),()=>{a.removeEventListener("timeupdate",h)}},[]),r.useEffect(()=>{let a;const h=R=>{if(u.current==null)return;const P=5,M=u.current.currentTime,F=R==="backward"?M-P:M+P;u.current.currentTime=Math.max(0,Math.min(F,u.current.duration))};return p?a=window.setInterval(()=>{h("backward")},500):o?a=window.setInterval(()=>{h("forward")},500):a!==void 0&&window.clearInterval(a),()=>{a!==void 0&&window.clearInterval(a)}},[p,o]);const E=a=>a==="backward"?b(!0):y(!0),T=a=>a==="backward"?b(!1):y(!1),L=()=>{u.current!=null&&!u.current.paused&&(u.current.pause(),v(!1))},N=()=>{u.current?.paused!=null&&(u.current.play(),v(!0))},S=a=>{if(a.key==="c"||a.key==="C"){const h=u.current;if(h==null)return;const k=h?.textTracks?.[0];k&&(k.mode=k?.mode==="hidden"?"showing":"hidden")}};return r.useEffect(()=>(window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)}),[]),n.jsxs("div",{className:j(l.root,x&&l.adapt),children:[n.jsx(I,{ratio:w,sources:e,...t,ref:u,width:i,height:d,subtitles:m,...c!==void 0&&{"aria-label":c}}),p&&n.jsx("div",{"aria-hidden":"true",className:l.edge}),n.jsx($,{position:"start",onMouseDown:()=>{E("backward")},onMouseUp:()=>{T("backward")},onTouchStart:()=>{E("backward")},onTouchEnd:()=>{T("backward")}}),n.jsx($,{position:"end",onMouseDown:()=>{E("forward")},onMouseUp:()=>{T("forward")},onTouchStart:()=>{E("forward")},onTouchEnd:()=>{T("forward")}}),o&&n.jsx("div",{"aria-hidden":"true",className:j(l.edge,l.end)}),n.jsx(re,{videoRef:u,isPlaying:_,setIsPlaying:v}),g(f)?f({onBlockMouseEnter:L,onBlockMouseLeave:N}):null]})}const ie=s=>n.jsx("iframe",{src:s.iframeUrl,title:s.title,loading:"lazy",width:s.width,height:s.height}),ce=Object.assign(ae,{VideoIframe:ie}),de="_card_1hjoj_1",le={card:de},C=s=>{const{children:e,component:t="div",ratio:i,className:d,dangerous:c,...m}=s;return n.jsx(t,{className:j(d,le.card,g(i)&&"ratio",g(i)&&i),...m,...g(c)&&{style:c},children:e})},ue=({children:s,className:e,dangerous:t})=>n.jsx("header",{...e!==void 0&&{className:e},...g(t)&&{style:t},children:s}),me=({children:s,className:e,dangerous:t})=>n.jsx("div",{...e!==void 0&&{className:e},...g(t)&&{style:t},children:s}),ge=({children:s,className:e,dangerous:t})=>n.jsx("footer",{...e!==void 0&&{className:e},...g(t)&&{style:t},children:s}),fe=s=>{const{ratio:e,...t}=s;return n.jsx(C,{...t,ratio:"portrait"})},pe=s=>{const{ratio:e,...t}=s;return n.jsx(C,{...t,ratio:"landscape"})},_e=Object.assign(C,{Media:q,Video:ce,Player:I,Portrait:fe,Landscape:pe,Actions:ge,Title:ue,Content:me});export{_e as C};
