import{a0 as x,a3 as ue,Q as Tt,r as u,aA as jt,U as O,W as V,ab as w,P as U,aB as re,aC as xe,D as Nt,$ as Ot,aD as It,ae as oe,V as _t,N as Lt,X as Me,aE as zt,Z as q,aF as Ae,a6 as H,a1 as Vt,a2 as Se,aG as Ut,a7 as Ht,a5 as ce,aH as Wt,H as Gt,aI as Xt,a8 as Yt,aJ as Zt,aK as Jt,j as f,F as N,I as le,h as qt,aL as Qt,G as en}from"./index-D9xIr4Uz.js";import{j as tn,a as nn,k as rn,l as on,$ as ln,b as Ee,c as an,d as ke,f as de,e as sn,m as un,h as cn,i as dn}from"./SelectionIndicator-LfPyLkow.js";import{$ as fn,a as pn,b as gn,c as Be,d as bn,e as we,f as Re,g as hn,h as $n,i as ye,j as mn,k as ae}from"./Dialog-ChdXmIQx.js";import{d as Fe,l as ve,f as xn,c as Te,$ as yn,m as vn,g as Pn,b as Dn}from"./useHover-wQSYvL3x.js";import{G as Cn}from"./index-DEg7z9An.js";const je=x.forwardRef(({children:o,...e},t)=>{t=ue(t);let{pressProps:r}=Fe({...e,ref:t}),{focusableProps:n}=Tt(e,t),l=x.Children.only(o);u.useEffect(()=>{},[t,e.isDisabled]);let s=parseInt(x.version,10)<19?l.ref:l.props.ref;return x.cloneElement(l,{...O(r,n,l.props),ref:jt(s,t)})});function Kn(o,e,t){let{type:r}=o,{isOpen:n}=e;u.useEffect(()=>{t&&t.current&&fn.set(t.current,e.close)});let l;r==="menu"?l=!0:r==="listbox"&&(l="listbox");let s=V();return{triggerProps:{"aria-haspopup":l,"aria-expanded":n,"aria-controls":n?s:void 0,onPress:e.toggle},overlayProps:{id:s}}}class Pe{getItemRect(e){let t=this.ref.current;if(!t)return null;let r=e!=null?tn(this.ref,e):null;if(!r)return null;let n=t.getBoundingClientRect(),l=r.getBoundingClientRect();return{x:l.left-n.left-t.clientLeft+t.scrollLeft,y:l.top-n.top-t.clientTop+t.scrollTop,width:l.width,height:l.height}}getContentSize(){let e=this.ref.current;var t,r;return{width:(t=e?.scrollWidth)!==null&&t!==void 0?t:0,height:(r=e?.scrollHeight)!==null&&r!==void 0?r:0}}getVisibleRect(){let e=this.ref.current;var t,r,n,l;return{x:(t=e?.scrollLeft)!==null&&t!==void 0?t:0,y:(r=e?.scrollTop)!==null&&r!==void 0?r:0,width:(n=e?.clientWidth)!==null&&n!==void 0?n:0,height:(l=e?.clientHeight)!==null&&l!==void 0?l:0}}constructor(e){this.ref=e}}class Mn{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let r=e;for(;r!=null;){let n=this.collection.getItem(r);if(n?.type==="item"&&!this.isDisabled(n))return r;r=t(r)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,r=>this.collection.getKeyAfter(r))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,r=>this.collection.getKeyBefore(r))}findKey(e,t,r){let n=e,l=this.layoutDelegate.getItemRect(n);if(!l||n==null)return null;let s=l;do{if(n=t(n),n==null)break;l=this.layoutDelegate.getItemRect(n)}while(l&&r(s,l)&&n!=null);return n}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!ve(t))return this.getFirstKey();let n=e;if(this.orientation==="horizontal"){let l=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>l&&n!=null;)n=this.getKeyAbove(n),r=n==null?null:this.layoutDelegate.getItemRect(n)}else{let l=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>l&&n!=null;)n=this.getKeyAbove(n),r=n==null?null:this.layoutDelegate.getItemRect(n)}return n??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!ve(t))return this.getLastKey();let n=e;if(this.orientation==="horizontal"){let l=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<l&&n!=null;)n=this.getKeyBelow(n),r=n==null?null:this.layoutDelegate.getItemRect(n)}else{let l=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<l&&n!=null;)n=this.getKeyBelow(n),r=n==null?null:this.layoutDelegate.getItemRect(n)}return n??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let r=this.collection,n=t||this.getFirstKey();for(;n!=null;){let l=r.getItem(n);if(!l)return null;let s=l.textValue.slice(0,e.length);if(l.textValue&&this.collator.compare(s,e)===0)return n;n=this.getNextKey(n)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new Pe(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Pe(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function An(o){let{selectionManager:e,collection:t,disabledKeys:r,ref:n,keyboardDelegate:l,layoutDelegate:s}=o,i=pn({usage:"search",sensitivity:"base"}),a=e.disabledBehavior,p=u.useMemo(()=>l||new Mn({collection:t,disabledKeys:r,disabledBehavior:a,ref:n,collator:i,layoutDelegate:s}),[l,s,t,r,n,i,a]),{collectionProps:g}=nn({...o,ref:n,selectionManager:e,keyboardDelegate:p});return{listProps:g}}const De=new WeakMap;function Sn(o){let e=De.get(o);if(e!=null)return e;let t=0,r=n=>{for(let l of n)l.type==="section"?r(rn(l,o)):l.type==="item"&&t++};return r(o),De.set(o,t),t}var Ne={};Ne={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Oe={};Oe={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Ie={};Ie={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var _e={};_e={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Le={};Le={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var ze={};ze={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Ve={};Ve={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Ue={};Ue={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var He={};He={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var We={};We={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Ge={};Ge={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Xe={};Xe={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Ye={};Ye={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Ze={};Ze={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Je={};Je={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var qe={};qe={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Qe={};Qe={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var et={};et={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var tt={};tt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var nt={};nt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var rt={};rt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var ot={};ot={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var lt={};lt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var at={};at={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var it={};it={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var st={};st={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var ut={};ut={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var ct={};ct={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var dt={};dt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var ft={};ft={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var pt={};pt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var gt={};gt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var bt={};bt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var ht={};ht={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var $t={};$t={"ar-AE":Ne,"bg-BG":Oe,"cs-CZ":Ie,"da-DK":_e,"de-DE":Le,"el-GR":ze,"en-US":Ve,"es-ES":Ue,"et-EE":He,"fi-FI":We,"fr-FR":Ge,"he-IL":Xe,"hr-HR":Ye,"hu-HU":Ze,"it-IT":Je,"ja-JP":qe,"ko-KR":Qe,"lt-LT":et,"lv-LV":tt,"nb-NO":nt,"nl-NL":rt,"pl-PL":ot,"pt-BR":lt,"pt-PT":at,"ro-RO":it,"ru-RU":st,"sk-SK":ut,"sl-SI":ct,"sr-SP":dt,"sv-SE":ft,"tr-TR":pt,"uk-UA":gt,"zh-CN":bt,"zh-TW":ht};function En(o){return o&&o.__esModule?o.default:o}function kn(o,e,t){let{type:r="menu",isDisabled:n,trigger:l="press"}=o,s=V(),{triggerProps:i,overlayProps:a}=Kn({type:r},e,t),p=c=>{if(!n&&!(l==="longPress"&&!c.altKey)&&t&&t.current)switch(c.key){case"Enter":case" ":if(l==="longPress"||c.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in c||c.stopPropagation(),c.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in c||c.stopPropagation(),c.preventDefault(),e.toggle("last");break;default:"continuePropagation"in c&&c.continuePropagation()}},g=gn(En($t),"@react-aria/menu"),{longPressProps:b}=on({isDisabled:n||l!=="longPress",accessibilityDescription:g.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),h={preventFocusOnPress:!0,onPressStart(c){c.pointerType!=="touch"&&c.pointerType!=="keyboard"&&!n&&(w(c.target),e.open(c.pointerType==="virtual"?"first":null))},onPress(c){c.pointerType==="touch"&&!n&&(w(c.target),e.toggle())}};return delete i.onPress,{menuTriggerProps:{...i,...l==="press"?h:b,id:s,onKeyDown:p},menuProps:{...a,"aria-labelledby":s,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const mt=new WeakMap;function Bn(o,e,t){let{shouldFocusWrap:r=!0,onKeyDown:n,onKeyUp:l,...s}=o;!o["aria-label"]&&o["aria-labelledby"];let i=U(o,{labelable:!0}),{listProps:a}=An({...s,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:r,linkBehavior:"override"});return mt.set(e,{onClose:o.onClose,onAction:o.onAction,shouldUseVirtualFocus:o.shouldUseVirtualFocus}),{menuProps:O(i,{onKeyDown:n,onKeyUp:l},{role:"menu",...a,onKeyDown:p=>{var g;(p.key!=="Escape"||o.shouldUseVirtualFocus)&&((g=a.onKeyDown)===null||g===void 0||g.call(a,p))}})}}function wn(o,e,t){let{id:r,key:n,closeOnSelect:l,isVirtualized:s,"aria-haspopup":i,onPressStart:a,onPressUp:p,onPress:g,onPressChange:b,onPressEnd:h,onClick:c,onHoverStart:m,onHoverChange:D,onHoverEnd:A,onKeyDown:C,onKeyUp:M,onFocus:S,onFocusChange:R,onBlur:B,selectionManager:P=e.selectionManager}=o,v=!!i,d=v&&o["aria-expanded"]==="true";var K;let E=(K=o.isDisabled)!==null&&K!==void 0?K:P.isDisabled(n);var F;let W=(F=o.isSelected)!==null&&F!==void 0?F:P.isSelected(n),k=mt.get(e),y=e.collection.getItem(n),I=o.onClose||k.onClose,_=xn(),Kt=()=>{var $;if(!v&&(!(y==null||($=y.props)===null||$===void 0)&&$.onAction?y.props.onAction():o.onAction&&o.onAction(n),k.onAction)){let L=k.onAction;L(n)}},ee="menuitem";v||(P.selectionMode==="single"?ee="menuitemradio":P.selectionMode==="multiple"&&(ee="menuitemcheckbox"));let pe=re(),ge=re(),be=re(),G={id:r,"aria-disabled":E||void 0,role:ee,"aria-label":o["aria-label"],"aria-labelledby":pe,"aria-describedby":[ge,be].filter(Boolean).join(" ")||void 0,"aria-controls":o["aria-controls"],"aria-haspopup":i,"aria-expanded":o["aria-expanded"]};P.selectionMode!=="none"&&!v&&(G["aria-checked"]=W),s&&(G["aria-posinset"]=y?.index,G["aria-setsize"]=Sn(e.collection));let he=u.useRef(!1),Mt=$=>{b?.($),he.current=$},T=u.useRef(null),At=$=>{$.pointerType!=="keyboard"&&(T.current={pointerType:$.pointerType}),$.pointerType==="mouse"&&(he.current||$.target.click()),p?.($)},St=$=>{var L,te;c?.($),Kt(),vn($,_,y.props.href,y?.props.routerOptions);let ne=((L=T.current)===null||L===void 0?void 0:L.pointerType)==="keyboard"?((te=T.current)===null||te===void 0?void 0:te.key)==="Enter"||P.selectionMode==="none"||P.isLink(n):P.selectionMode!=="multiple"||P.isLink(n);ne=l??ne,I&&!v&&ne&&I(),T.current=null},{itemProps:j,isFocused:$e}=ln({id:r,selectionManager:P,key:n,ref:t,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:k.shouldUseVirtualFocus}),{pressProps:Et,isPressed:kt}=Fe({onPressStart:a,onPress:g,onPressUp:At,onPressChange:Mt,onPressEnd:h,isDisabled:E}),{hoverProps:Bt}=Te({isDisabled:E,onHoverStart($){!xe()&&!(d&&i)&&(P.setFocused(!0),P.setFocusedKey(n)),m?.($)},onHoverChange:D,onHoverEnd:A}),{keyboardProps:wt}=Nt({onKeyDown:$=>{if($.repeat){$.continuePropagation();return}switch($.key){case" ":T.current={pointerType:"keyboard",key:" "},$.target.click();break;case"Enter":T.current={pointerType:"keyboard",key:"Enter"},$.target.tagName!=="A"&&$.target.click();break;default:v||$.continuePropagation(),C?.($);break}},onKeyUp:M}),{focusProps:Rt}=Ot({onBlur:B,onFocus:S,onFocusChange:R}),me=U(y?.props);delete me.id;let Ft=yn(y?.props);return{menuItemProps:{...G,...O(me,Ft,v?{onFocus:j.onFocus,"data-collection":j["data-collection"],"data-key":j["data-key"]}:j,Et,Bt,wt,Rt,k.shouldUseVirtualFocus||v?{onMouseDown:$=>$.preventDefault()}:void 0,E?void 0:{onClick:St}),tabIndex:j.tabIndex!=null&&d&&!k.shouldUseVirtualFocus?-1:j.tabIndex},labelProps:{id:pe},descriptionProps:{id:ge},keyboardShortcutProps:{id:be},isFocused:$e,isFocusVisible:$e&&P.isFocused&&xe()&&!d,isSelected:W,isPressed:kt,isDisabled:E}}function Rn(o){let{heading:e,"aria-label":t}=o,r=V();return{itemProps:{role:"presentation"},headingProps:e?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?r:void 0}}}const X=2,Fn=50,Tn=1e3,Ce=Math.PI/12;function jn(o){let{menuRef:e,submenuRef:t,isOpen:r,isDisabled:n}=o,l=u.useRef(void 0),s=u.useRef(void 0),i=u.useRef(0),a=u.useRef(void 0),p=u.useRef(void 0),g=u.useRef(void 0),b=u.useRef(2),[h,c]=u.useState(!1);Be({ref:t,onResize:()=>{t.current&&(s.current=t.current.getBoundingClientRect(),g.current=void 0)}});let D=()=>{c(!1),b.current=X,l.current=void 0},A=It(),C=oe(M=>{h&&M.preventDefault()});u.useEffect(()=>{h&&e.current?e.current.style.pointerEvents="none":e.current.style.pointerEvents=""},[e,h]),u.useEffect(()=>{let M=t.current,S=e.current;if(n||!M||!r||A!=="pointer"||!S){D();return}s.current=M.getBoundingClientRect();let R=B=>{if(B.pointerType==="touch"||B.pointerType==="pen")return;let P=Date.now();if(P-i.current<Fn)return;clearTimeout(a.current),clearTimeout(p.current);let{clientX:v,clientY:d}=B;if(!l.current){l.current={x:v,y:d};return}if(!s.current)return;if(g.current||(g.current=v>s.current.right?"left":"right"),v<S.getBoundingClientRect().left||v>S.getBoundingClientRect().right||d<S.getBoundingClientRect().top||d>S.getBoundingClientRect().bottom){D();return}let K=l.current.x,E=l.current.y,F=g.current==="right"?s.current.left-K:K-s.current.right,W=Math.atan2(E-s.current.top,F)+Ce,k=Math.atan2(E-s.current.bottom,F)-Ce,y=Math.atan2(E-d,g.current==="left"?-(v-K):v-K),I=y<W&&y>k;b.current=I?Math.min(b.current+1,X):Math.max(b.current-1,0),b.current>=X?c(!0):c(!1),i.current=P,l.current={x:v,y:d},I&&(a.current=setTimeout(()=>{D(),p.current=setTimeout(()=>{let _=document.elementFromPoint(v,d);_&&S.contains(_)&&_.dispatchEvent(new PointerEvent("pointerover",{bubbles:!0,cancelable:!0}))},100)},Tn))};return window.addEventListener("pointermove",R),window.addEventListener("pointerdown",C,!0),()=>{window.removeEventListener("pointermove",R),window.removeEventListener("pointerdown",C,!0),clearTimeout(a.current),clearTimeout(p.current),b.current=X}},[n,r,e,A,c,C,t])}function Nn(o,e,t){let{parentMenuRef:r,submenuRef:n,type:l="menu",isDisabled:s,delay:i=200,shouldUseVirtualFocus:a}=o,p=V(),g=V(),{direction:b}=_t(),h=u.useRef(void 0),c=u.useCallback(()=>{h.current&&(clearTimeout(h.current),h.current=void 0)},[h]),m=oe(d=>{c(),e.open(d)}),D=oe(()=>{c(),e.close()});Lt(()=>()=>{c()},[c]);let A=d=>{if(d.currentTarget.contains(document.activeElement))switch(d.key){case"ArrowLeft":b==="ltr"&&d.currentTarget.contains(d.target)&&(d.preventDefault(),d.stopPropagation(),D(),!a&&t.current&&w(t.current));break;case"ArrowRight":b==="rtl"&&d.currentTarget.contains(d.target)&&(d.preventDefault(),d.stopPropagation(),D(),!a&&t.current&&w(t.current));break;case"Escape":var K;!((K=n.current)===null||K===void 0)&&K.contains(d.target)&&(d.stopPropagation(),D(),!a&&t.current&&w(t.current));break}};var C;let M={id:g,"aria-labelledby":p,submenuLevel:e.submenuLevel,...l==="menu"&&{onClose:e.closeAll,autoFocus:(C=e.focusStrategy)!==null&&C!==void 0?C:void 0,onKeyDown:A}},S=d=>{switch(d.key){case"ArrowRight":s||(b==="ltr"?(d.preventDefault(),e.isOpen||m("first"),l==="menu"&&n?.current&&document.activeElement===t?.current&&w(n.current)):e.isOpen?D():d.continuePropagation());break;case"ArrowLeft":s||(b==="rtl"?(d.preventDefault(),e.isOpen||m("first"),l==="menu"&&n?.current&&document.activeElement===t?.current&&w(n.current)):e.isOpen?D():d.continuePropagation());break;default:d.continuePropagation();break}},R=d=>{!s&&(d.pointerType==="virtual"||d.pointerType==="keyboard")&&m("first")},B=d=>{!s&&(d.pointerType==="touch"||d.pointerType==="mouse")&&m()},P=d=>{s||(d&&!e.isOpen?h.current||(h.current=setTimeout(()=>{m()},i)):d||c())};Pn(r,"focusin",d=>{var K;e.isOpen&&(!((K=r.current)===null||K===void 0)&&K.contains(d.target))&&d.target!==t.current&&D()});let v=d=>d!==t.current;return jn({menuRef:r,submenuRef:n,isOpen:e.isOpen,isDisabled:s}),{submenuTriggerProps:{id:p,"aria-controls":e.isOpen?g:void 0,"aria-haspopup":s?void 0:l,"aria-expanded":e.isOpen?"true":"false",onPressStart:R,onPress:B,onHoverChange:P,onKeyDown:S,isOpen:e.isOpen},submenuProps:M,popoverProps:{isNonModal:!0,shouldCloseOnInteractOutside:v}}}function xt(o){let e=bn(o),[t,r]=u.useState(null),[n,l]=u.useState([]),s=()=>{l([]),e.close()};return{focusStrategy:t,...e,open(p=null){r(p),e.open()},toggle(p=null){r(p),e.toggle()},close(){s()},expandedKeysStack:n,openSubmenu:(p,g)=>{l(b=>g>b.length?b:[...b.slice(0,g),p])},closeSubmenu:(p,g)=>{l(b=>b[g]===p?b.slice(0,g):b)}}}function On(o,e){let{triggerKey:t}=o,{expandedKeysStack:r,openSubmenu:n,closeSubmenu:l,close:s}=e,[i]=u.useState(r?.length),a=u.useMemo(()=>r[i]===t,[r,t,i]),[p,g]=u.useState(null),b=u.useCallback(m=>{g(m??null),n(t,i)},[n,i,t]),h=u.useCallback(()=>{g(null),l(t,i)},[l,i,t]),c=u.useCallback(m=>{g(m??null),a?h():b(m)},[h,b,a]);return u.useMemo(()=>({focusStrategy:p,isOpen:a,open:b,close:h,closeAll:s,submenuLevel:i,setOpen:()=>{},toggle:c}),[a,b,h,s,p,c,i])}class In{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var r;return t&&(r=t.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(e){let t=this.keyMap.get(e);var r;return t&&(r=t.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,t=t||new Set;let r=i=>{if(this.keyMap.set(i.key,i),i.childNodes&&(i.type==="section"||t.has(i.key)))for(let a of i.childNodes)r(a)};for(let i of e)r(i);let n=null,l=0;for(let[i,a]of this.keyMap)n?(n.nextKey=i,a.prevKey=n.key):(this.firstKey=i,a.prevKey=void 0),a.type==="item"&&(a.index=l++),n=a,n.nextKey=void 0;var s;this.lastKey=(s=n?.key)!==null&&s!==void 0?s:null}}function _n(o){let{onExpandedChange:e}=o,[t,r]=Dn(o.expandedKeys?new Set(o.expandedKeys):void 0,o.defaultExpandedKeys?new Set(o.defaultExpandedKeys):new Set,e),n=Ee(o),l=u.useMemo(()=>o.disabledKeys?new Set(o.disabledKeys):new Set,[o.disabledKeys]),s=an(o,u.useCallback(a=>new In(a,{expandedKeys:t}),[t]),null);return u.useEffect(()=>{n.focusedKey!=null&&!s.getItem(n.focusedKey)&&n.setFocusedKey(null)},[s,n.focusedKey]),{collection:s,expandedKeys:t,disabledKeys:l,toggleKey:a=>{r(Ln(t,a))},setExpandedKeys:r,selectionManager:new ke(s,n)}}function Ln(o,e){let t=new Set(o);return t.has(e)?t.delete(e):t.add(e),t}const yt=u.createContext({}),zn=Me(zt,function(e,t){return[e,t]=q(e,t,yt),x.createElement("header",{className:"react-aria-Header",...e,ref:t},e.children)}),Vn=u.createContext({}),fe=u.createContext(null),Q=u.createContext(null),Y=u.createContext(null),Z=u.createContext(null);function vt(o){let e=xt(o),t=u.useRef(null),{menuTriggerProps:r,menuProps:n}=kn({...o,type:"menu"},e,t),[l,s]=u.useState(null),i=u.useCallback(()=>{t.current&&s(t.current.offsetWidth+"px")},[t]);Be({ref:t,onResize:i});let a=u.useRef(null);return x.createElement(H,{values:[[fe,{...n,ref:a}],[we,e],[Y,e],[Re,{trigger:"MenuTrigger",triggerRef:t,scrollRef:a,placement:"bottom start",style:{"--trigger-width":l},"aria-labelledby":n["aria-labelledby"]}]]},x.createElement(hn,{...r,ref:t,isPressed:e.isOpen},o.children))}const Pt=u.createContext(null);class Dt extends Yt{filter(e,t,r){let n=e.getItem(this.firstChildKey);if(n&&r(n.textValue,this)){let l=this.clone();return t.addDescendants(l,e),l}return null}}Dt.type="submenutrigger";const Un=Ae(Dt,(o,e,t)=>{let{CollectionBranch:r}=u.useContext(de),n=u.useContext(Q),l=u.useContext(Y),s=On({triggerKey:t.key},l),i=u.useRef(null),a=ue(e),{parentMenuRef:p,shouldUseVirtualFocus:g}=u.useContext(Pt),{submenuTriggerProps:b,submenuProps:h,popoverProps:c}=Nn({parentMenuRef:p,submenuRef:i,delay:o.delay,shouldUseVirtualFocus:g},s,a);return x.createElement(H,{values:[[J,{...b,onAction:void 0,ref:a}],[fe,{ref:i,...h}],[we,s],[Re,{trigger:"SubmenuTrigger",triggerRef:a,placement:"end top","aria-labelledby":h["aria-labelledby"],...c}]]},x.createElement(r,{collection:n.collection,parent:t}),o.children[1])},o=>o.children[0]),ie=u.forwardRef(function(e,t){return[e,t]=q(e,t,fe),x.createElement(Vt,{content:x.createElement(Se,e)},r=>x.createElement(Hn,{props:e,collection:r,menuRef:t}))});function Hn({props:o,collection:e,menuRef:t}){[o,t]=q(o,t,ye);let{filter:r,...n}=o,l=u.useMemo(()=>r?e.filter(r):e,[e,r]),s=_n({...o,collection:l,children:void 0}),i=u.useContext(Y),{isVirtualized:a,CollectionRoot:p}=u.useContext(de),{menuProps:g}=Bn({...o,isVirtualized:a,onClose:o.onClose||i?.close},s,t),b=ce({defaultClassName:"react-aria-Menu",className:o.className,style:o.style,values:{isEmpty:s.collection.size===0}}),h=null;s.collection.size===0&&o.renderEmptyState&&(h=x.createElement("div",{role:"menuitem",style:{display:"contents"}},o.renderEmptyState()));let c=U(o,{global:!0});return x.createElement(Gt,null,x.createElement("div",{...O(c,b,g),ref:t,slot:o.slot||void 0,"data-empty":s.collection.size===0||void 0,onScroll:o.onScroll},x.createElement(H,{values:[[Q,s],[Xt,{elementType:"div"}],[un,{name:"MenuSection",render:Ct}],[Pt,{parentMenuRef:t,shouldUseVirtualFocus:n?.shouldUseVirtualFocus}],[J,null],[ye,null],[mn,null],[Z,s.selectionManager],[Y,i??xt({})]]},x.createElement(cn,null,x.createElement(p,{collection:s.collection,persistedKeys:dn(s.selectionManager.focusedKey),scrollRef:t}))),h))}class Wn extends ke{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,t){return this.parent.setFocusedKey(e,t)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,t){super(e.collection,t),this.parent=e}}function Ct(o,e,t,r="react-aria-MenuSection"){var n,l;let s=u.useContext(Q),{CollectionBranch:i}=u.useContext(de),[a,p]=Zt();var g;let{headingProps:b,groupProps:h}=Rn({heading:p,"aria-label":(g=t.props["aria-label"])!==null&&g!==void 0?g:void 0}),c=ce({defaultClassName:r,className:(n=t.props)===null||n===void 0?void 0:n.className,style:(l=t.props)===null||l===void 0?void 0:l.style,values:{}}),m=u.useContext(Z),D=Ee(o),A=o.selectionMode!=null?new Wn(m,D):m,C=U(o,{global:!0});return delete C.id,x.createElement("section",{...O(C,c,h),ref:e},x.createElement(H,{values:[[yt,{...b,ref:a}],[Z,A]]},x.createElement(i,{collection:s.collection,parent:t})))}const Gn=Ae(Jt,Ct),J=u.createContext(null),se=Me(Ut,function(e,t,r){var n;[e,t]=q(e,t,J);let l=(n=Ht(J))===null||n===void 0?void 0:n.id,s=u.useContext(Q),i=ue(t),a=u.useContext(Z),{menuItemProps:p,labelProps:g,descriptionProps:b,keyboardShortcutProps:h,...c}=wn({...e,id:l,key:r.key,selectionManager:a},s,i),{hoverProps:m,isHovered:D}=Te({isDisabled:c.isDisabled}),A=ce({...e,id:void 0,children:r.rendered,defaultClassName:"react-aria-MenuItem",values:{...c,isHovered:D,isFocusVisible:c.isFocusVisible,selectionMode:a.selectionMode,selectionBehavior:a.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),C=e.href?"a":"div",M=U(e,{global:!0});return delete M.id,delete M.onClick,x.createElement(C,{...O(M,A,p,m),ref:i,"data-disabled":c.isDisabled||void 0,"data-hovered":D||void 0,"data-focused":c.isFocused||void 0,"data-focus-visible":c.isFocusVisible||void 0,"data-pressed":c.isPressed||void 0,"data-selected":c.isSelected||void 0,"data-selection-mode":a.selectionMode==="none"?void 0:a.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},x.createElement(H,{values:[[$n,{slots:{[Wt]:g,label:g,description:b}}],[Vn,h],[sn,{isSelected:c.isSelected}]]},A.children))});function Xn(o){const{label:e,...t}=o;return f.jsxs(vt,{children:[f.jsx(je,{children:f.jsxs("span",{role:"button",className:"my-menu-trigger",children:[f.jsxs(N,{component:"span",children:[" ",e]}),f.jsx(le.ChevronDown,{size:24,circle:!1})]})}),f.jsx(ae,{children:f.jsx(ie,{...t,children:r=>f.jsxs(Gn,{children:[f.jsx(zn,{children:r.name}),f.jsx(Se,{items:r.children,children:n=>f.jsx(se,{children:n.name})})]})})})]})}function z(o){const{label:e,...t}=o;return f.jsxs(vt,{children:[f.jsx(je,{children:f.jsxs("span",{role:"button",className:"my-menu-trigger",children:[f.jsxs(N,{component:"span",children:[" ",e]}),f.jsx(le.ChevronDown,{size:24,circle:!1})]})}),f.jsx(ae,{children:f.jsx(ie,{...t,children:function r(n){return n.children?f.jsxs(Un,{children:[f.jsx(se,{onAction:n.onAction,children:({hasSubmenu:l})=>f.jsxs(f.Fragment,{children:[n.name,l&&f.jsx(le.Chevron,{size:24,circle:!1})]})},n.name),f.jsx(ae,{children:f.jsx(ie,{items:n.children,children:l=>r(l)})})]}):f.jsxs(f.Fragment,{children:[f.jsx(se,{onAction:n.onAction,children:n.name},n.name),qt(n?.separator)?f.jsx(Qt,{}):null]})}})})]})}z.Sections=Xn;const Yn=(o=null,e)=>{const[t,r]=u.useState(o),n=u.useRef(e);n.current=e;const l=u.useRef(void 0);return u.useEffect(()=>{const i=l.current,a=t,p=n.current;if(i===void 0){l.current=a;return}if(i===a){l.current=a;return}if(i===null&&a!==null){p?.onOpen?.(a),l.current=a;return}if(i!==null&&a===null){p?.onClose?.(i),l.current=a;return}if(i!==null&&a!==null&&i!==a){p?.onClose?.(i),p?.onSwitch?.(i,a),p?.onOpen?.(a),l.current=a;return}l.current=a},[t]),[t,i=>r(a=>a===i?null:i)]},Ke=[{name:"Left Panel",id:"left",onAction:()=>({}),children:[{id:1,name:"Final Copy (1)",onAction:()=>({})}]},{name:"Right Panel",id:"right",onAction:()=>({}),children:[{id:2,name:"index.ts",onAction:()=>({})},{id:3,name:"package.json",onAction:()=>({})},{id:4,name:"license.txt",onAction:()=>({})}]}];function tr(){const[o,e]=Yn(null,{onOpen:a=>console.log("Opened menu:",a),onClose:a=>console.log("Closed menu:",a)}),t=[{id:"account",name:"Account",onAction:()=>e("account")},{id:"services",name:"Services",onAction:()=>e("services")},{id:"contact",name:"Contact",onAction:()=>e("contact")}],r=[{id:"cut",name:"Cut",onAction:()=>console.log("")},{id:"copy",name:"Copy",onAction:()=>console.log("")},{id:"delete",name:"Delete",onAction:()=>console.log(""),separator:!0},{id:"share",name:"Share",onAction:()=>console.log(""),header:"LOVE U",children:[{id:"sms",name:"SMS",onAction:()=>console.log("")},{id:"x",name:"X",onAction:()=>console.log("")},{id:"email",name:"Email",onAction:()=>console.log(""),children:[{id:"work",name:"Work",onAction:()=>console.log("")},{id:"personal",name:"Personal",onAction:()=>console.log("")}]}]}],[n,l]=u.useState(new Set([1,3])),[s,i]=u.useState(new Set([1]));return f.jsxs(f.Fragment,{children:[f.jsxs(Cn,{gridTemplateColumns:{xs:"170px",sm:"repeat(4,170px)"},gap:{xs:"var(--gap-3)"},breakEqualHeight:!0,children:[f.jsx(z,{items:t,label:"Settings"}),f.jsx(z,{items:r,label:"Options"}),f.jsx(z.Sections,{label:"Multiple",items:Ke,selectionMode:"multiple",selectedKeys:n,onSelectionChange:l}),f.jsx(z.Sections,{label:"Single",items:Ke,selectionMode:"single",selectedKeys:s,onSelectionChange:i})]}),f.jsx("br",{}),f.jsx(en.Col,{component:"div",dangerous:{maxWidth:"min(300px,60vw)",backgroundColor:"var(--neutral)",borderRadius:"var(--border-radius)",border:"var(--border)",padding:"var(--gap-3)",boxShadow:"var(--shadow)",marginTop:"var(--gap-1)"},children:o?f.jsxs(f.Fragment,{children:[o==="account"&&f.jsx(N.Bold,{children:" Account "}),o==="services"&&f.jsx(N.Bold,{children:" Services "}),o==="contact"&&f.jsx(N.Bold,{children:" Contact "})]}):f.jsx(N.Bold,{children:"No settings selected"})}),f.jsx("br",{})]})}export{tr as default};
