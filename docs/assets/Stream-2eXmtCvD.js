const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-CD0iEAPt.js","assets/graph-D4nyJ_XR.js","assets/_baseUniq-CMpeI3YQ.js","assets/layout-ZxlDdAGC.js","assets/_basePickBy-Cfl3ngA2.js","assets/clone-Bl3Tc3uL.js","assets/index-5usdHAzP.js","assets/index-DCsH5Mf8.css","assets/dayjs.min-B3mVIIL3.js","assets/index-DAISTjvQ.js","assets/index-B-IqOxyj.css","assets/index-DBoC6BUh.js","assets/index-BeSlbs5f.css","assets/Lite-DojKea8Q.js","assets/useKeyboard-DSNFmm-f.js","assets/Lite-DLQ1hxTf.css","assets/cose-bilkent-S5V4N54A-CSBymLWf.js","assets/cytoscape.esm-DtBltrT8.js","assets/c4Diagram-YG6GDRKO-xQ1vznno.js","assets/chunk-TZMSLE5B-BNQwXlVg.js","assets/flowDiagram-NV44I4VS-DD7MDfuh.js","assets/chunk-FMBD7UC4-DzTKE8mA.js","assets/chunk-55IACEB6-OnKgSadc.js","assets/chunk-QN33PNHL-D22qnFnC.js","assets/channel-Cx37izAR.js","assets/erDiagram-Q2GNP2WA-BNVTWqgG.js","assets/gitGraphDiagram-NY62KEGX-BpUBfQPM.js","assets/chunk-4BX2VUAB-BHRJNlNU.js","assets/chunk-QZHKN3VN-CTigugO3.js","assets/treemap-75Q7IDZK-C5OIjTkZ.js","assets/ganttDiagram-LVOFAZNH-DsAyYnIu.js","assets/linear-DmUp6KjI.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-F6ZHWCRC-CpdKt3KK.js","assets/pieDiagram-ADFJNKIX-kyLCG1uJ.js","assets/arc-DnlKb65h.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-Bx7eW84y.js","assets/xychartDiagram-PRI3JC2R-CtT57Lk2.js","assets/requirementDiagram-UZGBJVZJ-CMEaFY0L.js","assets/sequenceDiagram-WL72ISMW-YsWXUMuT.js","assets/classDiagram-2ON5EDUG-CbQ7U93m.js","assets/chunk-B4BG7PRW-DF40ZL6D.js","assets/classDiagram-v2-WZHVMYZB-CbQ7U93m.js","assets/stateDiagram-FKZM4ZOC-BngwisoM.js","assets/chunk-DI55MBZ5-Dg4hTBPY.js","assets/stateDiagram-v2-4FDKWEC3-r4moNVZe.js","assets/journeyDiagram-XKPGCS4Q-DhL-4DR0.js","assets/timeline-definition-IT6M3QCI-DCfjqUUO.js","assets/mindmap-definition-VGOIOE7T-CGY5mikM.js","assets/kanban-definition-3W4ZIXB7-CjPk5xj0.js","assets/sankeyDiagram-TZEHDZUN-Co_eQtNi.js","assets/diagram-S2PKOQOG-U9ErzBBm.js","assets/diagram-QEK2KX5R-jMG3E2IN.js","assets/blockDiagram-VD42YOAC-Bm_jezvf.js","assets/architectureDiagram-VXUJARFQ-DlTXbUHT.js","assets/diagram-PSM6KHXK-OHFg8tc2.js"])))=>i.map(i=>d[i]);
import{a4 as cy,a5 as Hd,a6 as rr,a7 as vo,a8 as Ls,a9 as To,aa as ch,ab as jd,ac as v2,ad as Aa,ae as T2,af as A2,ag as Ud,ah as kl,ai as Vd,aj as E2,r as Zt,ak as hy,al as Fu,g as Ou,j as wt,_ as Bt,A as uy,F as Cl,c as L2,am as Vr,an as Ea,ao as La,ap as M2,B as Ma,I as B2,T as I2}from"./index-5usdHAzP.js";import{d as R2}from"./dayjs.min-B3mVIIL3.js";import{G as fy}from"./index-DAISTjvQ.js";import{C as dc}from"./index-DBoC6BUh.js";import{P as $2}from"./Lite-DojKea8Q.js";var F2=class extends cy{constructor(e,t){super(),this.options=t,this.#r=e,this.#o=null,this.#a=Hd(),this.bindMethods(),this.setOptions(t)}#r;#t=void 0;#n=void 0;#e=void 0;#i;#s;#a;#o;#g;#f;#d;#c;#h;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Yd(this.#t,this.options)?this.#u():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hh(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hh(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#r.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof rr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#k(),this.#t.setOptions(this.options),t._defaulted&&!vo(this.options,t)&&this.#r.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&Gd(this.#t,r,this.options,t)&&this.#u(),this.updateResult(),n&&(this.#t!==r||rr(this.options.enabled,this.#t)!==rr(t.enabled,this.#t)||Ls(this.options.staleTime,this.#t)!==Ls(t.staleTime,this.#t))&&this.#m();const i=this.#y();n&&(this.#t!==r||rr(this.options.enabled,this.#t)!==rr(t.enabled,this.#t)||i!==this.#l)&&this.#x(i)}getOptimisticResult(e){const t=this.#r.getQueryCache().build(this.#r,e),r=this.createResult(t,e);return P2(this,r)&&(this.#e=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#e}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#r.defaultQueryOptions(e),r=this.#r.getQueryCache().build(this.#r,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#e))}#u(e){this.#k();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(To)),t}#m(){this.#w();const e=Ls(this.options.staleTime,this.#t);if(ch||this.#e.isStale||!jd(e))return;const r=v2(this.#e.dataUpdatedAt,e)+1;this.#c=Aa.setTimeout(()=>{this.#e.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#_(),this.#l=e,!(ch||rr(this.options.enabled,this.#t)===!1||!jd(this.#l)||this.#l===0)&&(this.#h=Aa.setInterval(()=>{(this.options.refetchIntervalInBackground||T2.isFocused())&&this.#u()},this.#l))}#b(){this.#m(),this.#x(this.#y())}#w(){this.#c&&(Aa.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#h&&(Aa.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){const r=this.#t,n=this.options,i=this.#e,s=this.#i,a=this.#s,l=e!==r?e.state:this.#n,{state:c}=e;let h={...c},u=!1,d;if(t._optimisticResults){const B=this.hasListeners(),F=!B&&Yd(e,t),v=B&&Gd(e,r,t,n);(F||v)&&(h={...h,...A2(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:f,errorUpdatedAt:p,status:g}=h;d=h.data;let x=!1;if(t.placeholderData!==void 0&&d===void 0&&g==="pending"){let B;i?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(B=i.data,x=!0):B=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,B!==void 0&&(g="success",d=Ud(i?.data,B,t),u=!0)}if(t.select&&d!==void 0&&!x)if(i&&d===s?.data&&t.select===this.#g)d=this.#f;else try{this.#g=t.select,d=t.select(d),d=Ud(i?.data,d,t),this.#f=d,this.#o=null}catch(B){this.#o=B}this.#o&&(f=this.#o,d=this.#f,p=Date.now(),g="error");const y=h.fetchStatus==="fetching",b=g==="pending",w=g==="error",k=b&&y,S=d!==void 0,A={status:g,fetchStatus:h.fetchStatus,isPending:b,isSuccess:g==="success",isError:w,isInitialLoading:k,isLoading:k,data:d,dataUpdatedAt:h.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:w&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:u,isRefetchError:w&&S,isStale:Pu(e,t),refetch:this.refetch,promise:this.#a,isEnabled:rr(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const B=L=>{A.status==="error"?L.reject(A.error):A.data!==void 0&&L.resolve(A.data)},F=()=>{const L=this.#a=A.promise=Hd();B(L)},v=this.#a;switch(v.status){case"pending":e.queryHash===r.queryHash&&B(v);break;case"fulfilled":(A.status==="error"||A.data!==v.value)&&F();break;case"rejected":(A.status!=="error"||A.error!==v.reason)&&F();break}}return A}updateResult(){const e=this.#e,t=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#d=this.#t),vo(t,e))return;this.#e=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#e).some(a=>{const o=a;return this.#e[o]!==e[o]&&s.has(o)})};this.#C({listeners:r()})}#k(){const e=this.#r.getQueryCache().build(this.#r,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#C(e){kl.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#e)}),this.#r.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function O2(e,t){return rr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Yd(e,t){return O2(e,t)||e.state.data!==void 0&&hh(e,t,t.refetchOnMount)}function hh(e,t,r){if(rr(t.enabled,e)!==!1&&Ls(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Pu(e,t)}return!1}function Gd(e,t,r,n){return(e!==t||rr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Pu(e,r)}function Pu(e,t){return rr(t.enabled,e)!==!1&&e.isStaleByTime(Ls(t.staleTime,e))}function P2(e,t){return!vo(e.getCurrentResult(),t)}var D2=class extends cy{#r;#t=void 0;#n;#e;constructor(e,t){super(),this.#r=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#r.defaultMutationOptions(e),vo(this.options,t)||this.#r.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&Vd(t.mutationKey)!==Vd(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,t){return this.#e=t,this.#n?.removeObserver(this),this.#n=this.#r.getMutationCache().build(this.#r,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??E2();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){kl.batch(()=>{if(this.#e&&this.hasListeners()){const t=this.#t.variables,r=this.#t.context,n={client:this.#r,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#e.onSuccess?.(e.data,t,r,n),this.#e.onSettled?.(e.data,null,t,r,n)):e?.type==="error"&&(this.#e.onError?.(e.error,t,r,n),this.#e.onSettled?.(void 0,e.error,t,r,n))}this.listeners.forEach(t=>{t(this.#t)})})}},dy=Zt.createContext(!1),N2=()=>Zt.useContext(dy);dy.Provider;function z2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var q2=Zt.createContext(z2()),W2=()=>Zt.useContext(q2),H2=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},j2=e=>{Zt.useEffect(()=>{e.clearReset()},[e])},U2=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||hy(r,[e.error,n])),V2=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Y2=(e,t)=>e.isLoading&&e.isFetching&&!t,G2=(e,t)=>e?.suspense&&t.isPending,Xd=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function X2(e,t,r){const n=N2(),i=W2(),s=Fu(),a=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=n?"isRestoring":"optimistic",V2(a),H2(a,i),j2(i);const o=!s.getQueryCache().get(a.queryHash),[l]=Zt.useState(()=>new t(s,a)),c=l.getOptimisticResult(a),h=!n&&e.subscribed!==!1;if(Zt.useSyncExternalStore(Zt.useCallback(u=>{const d=h?l.subscribe(kl.batchCalls(u)):To;return l.updateResult(),d},[l,h]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),Zt.useEffect(()=>{l.setOptions(a)},[a,l]),G2(a,c))throw Xd(a,l,i);if(U2({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!ch&&Y2(c,n)&&(o?Xd(a,l,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(To).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?c:l.trackResult(c)}function Qd(e,t){return X2(e,F2)}function Q2(e,t){const r=Fu(),[n]=Zt.useState(()=>new D2(r,e));Zt.useEffect(()=>{n.setOptions(e)},[n,e]);const i=Zt.useSyncExternalStore(Zt.useCallback(a=>n.subscribe(kl.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=Zt.useCallback((a,o)=>{n.mutate(a,o).catch(To)},[n]);if(i.error&&hy(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function Kd(e){const t=[],r=String(e||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const a=r.slice(i,n).trim();(a||!s)&&t.push(a),i=n+1,n=r.indexOf(",",i)}return t}function K2(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const J2=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Z2=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tS={};function Jd(e,t){return(tS.jsx?Z2:J2).test(e)}const eS=/[ \t\n\f\r]/g;function rS(e){return typeof e=="object"?e.type==="text"?Zd(e.value):!1:Zd(e)}function Zd(e){return e.replace(eS,"")===""}class aa{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}aa.prototype.normal={};aa.prototype.property={};aa.prototype.space=void 0;function py(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new aa(r,n,t)}function Ws(e){return e.toLowerCase()}class Fe{constructor(t,r){this.attribute=r,this.property=t}}Fe.prototype.attribute="";Fe.prototype.booleanish=!1;Fe.prototype.boolean=!1;Fe.prototype.commaOrSpaceSeparated=!1;Fe.prototype.commaSeparated=!1;Fe.prototype.defined=!1;Fe.prototype.mustUseProperty=!1;Fe.prototype.number=!1;Fe.prototype.overloadedBoolean=!1;Fe.prototype.property="";Fe.prototype.spaceSeparated=!1;Fe.prototype.space=void 0;let nS=0;const yt=Nn(),qt=Nn(),uh=Nn(),q=Nn(),Ft=Nn(),di=Nn(),De=Nn();function Nn(){return 2**++nS}const fh=Object.freeze(Object.defineProperty({__proto__:null,boolean:yt,booleanish:qt,commaOrSpaceSeparated:De,commaSeparated:di,number:q,overloadedBoolean:uh,spaceSeparated:Ft},Symbol.toStringTag,{value:"Module"})),pc=Object.keys(fh);class Du extends Fe{constructor(t,r,n,i){let s=-1;if(super(t,r),tp(this,"space",i),typeof n=="number")for(;++s<pc.length;){const a=pc[s];tp(this,pc[s],(n&fh[a])===fh[a])}}}Du.prototype.defined=!0;function tp(e,t,r){r&&(e[t]=r)}function Fi(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new Du(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[Ws(n)]=n,r[Ws(s.attribute)]=n}return new aa(t,r,e.space)}const gy=Fi({properties:{ariaActiveDescendant:null,ariaAtomic:qt,ariaAutoComplete:null,ariaBusy:qt,ariaChecked:qt,ariaColCount:q,ariaColIndex:q,ariaColSpan:q,ariaControls:Ft,ariaCurrent:null,ariaDescribedBy:Ft,ariaDetails:null,ariaDisabled:qt,ariaDropEffect:Ft,ariaErrorMessage:null,ariaExpanded:qt,ariaFlowTo:Ft,ariaGrabbed:qt,ariaHasPopup:null,ariaHidden:qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ft,ariaLevel:q,ariaLive:null,ariaModal:qt,ariaMultiLine:qt,ariaMultiSelectable:qt,ariaOrientation:null,ariaOwns:Ft,ariaPlaceholder:null,ariaPosInSet:q,ariaPressed:qt,ariaReadOnly:qt,ariaRelevant:null,ariaRequired:qt,ariaRoleDescription:Ft,ariaRowCount:q,ariaRowIndex:q,ariaRowSpan:q,ariaSelected:qt,ariaSetSize:q,ariaSort:null,ariaValueMax:q,ariaValueMin:q,ariaValueNow:q,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function my(e,t){return t in e?e[t]:t}function yy(e,t){return my(e,t.toLowerCase())}const iS=Fi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:di,acceptCharset:Ft,accessKey:Ft,action:null,allow:null,allowFullScreen:yt,allowPaymentRequest:yt,allowUserMedia:yt,alt:null,as:null,async:yt,autoCapitalize:null,autoComplete:Ft,autoFocus:yt,autoPlay:yt,blocking:Ft,capture:null,charSet:null,checked:yt,cite:null,className:Ft,cols:q,colSpan:null,content:null,contentEditable:qt,controls:yt,controlsList:Ft,coords:q|di,crossOrigin:null,data:null,dateTime:null,decoding:null,default:yt,defer:yt,dir:null,dirName:null,disabled:yt,download:uh,draggable:qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:yt,formTarget:null,headers:Ft,height:q,hidden:uh,high:q,href:null,hrefLang:null,htmlFor:Ft,httpEquiv:Ft,id:null,imageSizes:null,imageSrcSet:null,inert:yt,inputMode:null,integrity:null,is:null,isMap:yt,itemId:null,itemProp:Ft,itemRef:Ft,itemScope:yt,itemType:Ft,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:yt,low:q,manifest:null,max:null,maxLength:q,media:null,method:null,min:null,minLength:q,multiple:yt,muted:yt,name:null,nonce:null,noModule:yt,noValidate:yt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:yt,optimum:q,pattern:null,ping:Ft,placeholder:null,playsInline:yt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:yt,referrerPolicy:null,rel:Ft,required:yt,reversed:yt,rows:q,rowSpan:q,sandbox:Ft,scope:null,scoped:yt,seamless:yt,selected:yt,shadowRootClonable:yt,shadowRootDelegatesFocus:yt,shadowRootMode:null,shape:null,size:q,sizes:null,slot:null,span:q,spellCheck:qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:q,step:null,style:null,tabIndex:q,target:null,title:null,translate:null,type:null,typeMustMatch:yt,useMap:null,value:qt,width:q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ft,axis:null,background:null,bgColor:null,border:q,borderColor:null,bottomMargin:q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:yt,declare:yt,event:null,face:null,frame:null,frameBorder:null,hSpace:q,leftMargin:q,link:null,longDesc:null,lowSrc:null,marginHeight:q,marginWidth:q,noResize:yt,noHref:yt,noShade:yt,noWrap:yt,object:null,profile:null,prompt:null,rev:null,rightMargin:q,rules:null,scheme:null,scrolling:qt,standby:null,summary:null,text:null,topMargin:q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:yt,disableRemotePlayback:yt,prefix:null,property:null,results:q,security:null,unselectable:null},space:"html",transform:yy}),sS=Fi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:De,accentHeight:q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:q,amplitude:q,arabicForm:null,ascent:q,attributeName:null,attributeType:null,azimuth:q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:q,by:null,calcMode:null,capHeight:q,className:Ft,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:q,diffuseConstant:q,direction:null,display:null,dur:null,divisor:q,dominantBaseline:null,download:yt,dx:null,dy:null,edgeMode:null,editable:null,elevation:q,enableBackground:null,end:null,event:null,exponent:q,externalResourcesRequired:null,fill:null,fillOpacity:q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:di,g2:di,glyphName:di,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:q,horizOriginX:q,horizOriginY:q,id:null,ideographic:q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:q,k:q,k1:q,k2:q,k3:q,k4:q,kernelMatrix:De,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:q,overlineThickness:q,paintOrder:null,panose1:null,path:null,pathLength:q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ft,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:q,pointsAtY:q,pointsAtZ:q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:De,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:De,rev:De,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:De,requiredFeatures:De,requiredFonts:De,requiredFormats:De,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:q,specularExponent:q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:q,strikethroughThickness:q,string:null,stroke:null,strokeDashArray:De,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:q,strokeOpacity:q,strokeWidth:null,style:null,surfaceScale:q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:De,tabIndex:q,tableValues:null,target:null,targetX:q,targetY:q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:De,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:q,underlineThickness:q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:q,values:null,vAlphabetic:q,vMathematical:q,vectorEffect:null,vHanging:q,vIdeographic:q,version:null,vertAdvY:q,vertOriginX:q,vertOriginY:q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:my}),xy=Fi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),by=Fi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yy}),wy=Fi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),aS={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},oS=/[A-Z]/g,ep=/-[a-z]/g,lS=/^data[-\w.:]+$/i;function _y(e,t){const r=Ws(t);let n=t,i=Fe;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&lS.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(ep,hS);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!ep.test(s)){let a=s.replace(oS,cS);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Du}return new i(n,t)}function cS(e){return"-"+e.toLowerCase()}function hS(e){return e.charAt(1).toUpperCase()}const ky=py([gy,iS,xy,by,wy],"html"),Sl=py([gy,sS,xy,by,wy],"svg");function Ao(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function uS(e){return e.join(" ").trim()}var Jn={},gc,rp;function fS(){if(rp)return gc;rp=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,c="/",h="*",u="",d="comment",f="declaration";gc=function(g,x){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];x=x||{};var y=1,b=1;function w(R){var I=R.match(t);I&&(y+=I.length);var D=R.lastIndexOf(l);b=~D?R.length-D:b+R.length}function k(){var R={line:y,column:b};return function(I){return I.position=new S(R),B(),I}}function S(R){this.start=R,this.end={line:y,column:b},this.source=x.source}S.prototype.content=g;function _(R){var I=new Error(x.source+":"+y+":"+b+": "+R);if(I.reason=R,I.filename=x.source,I.line=y,I.column=b,I.source=g,!x.silent)throw I}function A(R){var I=R.exec(g);if(I){var D=I[0];return w(D),g=g.slice(D.length),I}}function B(){A(r)}function F(R){var I;for(R=R||[];I=v();)I!==!1&&R.push(I);return R}function v(){var R=k();if(!(c!=g.charAt(0)||h!=g.charAt(1))){for(var I=2;u!=g.charAt(I)&&(h!=g.charAt(I)||c!=g.charAt(I+1));)++I;if(I+=2,u===g.charAt(I-1))return _("End of comment missing");var D=g.slice(2,I-2);return b+=2,w(D),g=g.slice(I),b+=2,R({type:d,comment:D})}}function L(){var R=k(),I=A(n);if(I){if(v(),!A(i))return _("property missing ':'");var D=A(s),z=R({type:f,property:p(I[0].replace(e,u)),value:D?p(D[0].replace(e,u)):u});return A(a),z}}function O(){var R=[];F(R);for(var I;I=L();)I!==!1&&(R.push(I),F(R));return R}return B(),O()};function p(g){return g?g.replace(o,u):u}return gc}var np;function dS(){if(np)return Jn;np=1;var e=Jn&&Jn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.default=r;var t=e(fS());function r(n,i){var s=null;if(!n||typeof n!="string")return s;var a=(0,t.default)(n),o=typeof i=="function";return a.forEach(function(l){if(l.type==="declaration"){var c=l.property,h=l.value;o?i(c,h,l):h&&(s=s||{},s[c]=h)}}),s}return Jn}var Yi={},ip;function pS(){if(ip)return Yi;ip=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||r.test(c)||e.test(c)},a=function(c,h){return h.toUpperCase()},o=function(c,h){return"".concat(h,"-")},l=function(c,h){return h===void 0&&(h={}),s(c)?c:(c=c.toLowerCase(),h.reactCompat?c=c.replace(i,o):c=c.replace(n,o),c.replace(t,a))};return Yi.camelCase=l,Yi}var Gi,sp;function gS(){if(sp)return Gi;sp=1;var e=Gi&&Gi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(dS()),r=pS();function n(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,l){o&&l&&(a[(0,r.camelCase)(o,s)]=l)}),a}return n.default=n,Gi=n,Gi}var mS=gS();const yS=Ou(mS),Cy=Sy("end"),Nu=Sy("start");function Sy(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function xS(e){const t=Nu(e),r=Cy(e);if(t&&r)return{start:t,end:r}}function Ms(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ap(e.position):"start"in e||"end"in e?ap(e):"line"in e||"column"in e?dh(e):""}function dh(e){return op(e&&e.line)+":"+op(e&&e.column)}function ap(e){return dh(e&&e.start)+"-"+dh(e&&e.end)}function op(e){return e&&typeof e=="number"?e:1}class pe extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?s.ruleId=n:(s.source=n.slice(0,l),s.ruleId=n.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Ms(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}pe.prototype.file="";pe.prototype.name="";pe.prototype.reason="";pe.prototype.message="";pe.prototype.stack="";pe.prototype.column=void 0;pe.prototype.line=void 0;pe.prototype.ancestors=void 0;pe.prototype.cause=void 0;pe.prototype.fatal=void 0;pe.prototype.place=void 0;pe.prototype.ruleId=void 0;pe.prototype.source=void 0;const zu={}.hasOwnProperty,bS=new Map,wS=/[A-Z]/g,_S=new Set(["table","tbody","thead","tfoot","tr"]),kS=new Set(["td","th"]),vy="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function CS(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=BS(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=MS(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Sl:ky,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Ty(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Ty(e,t,r){if(t.type==="element")return SS(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return vS(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return AS(e,t,r);if(t.type==="mdxjsEsm")return TS(e,t);if(t.type==="root")return ES(e,t,r);if(t.type==="text")return LS(e,t)}function SS(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Sl,e.schema=i),e.ancestors.push(t);const s=Ey(e,t.tagName,!1),a=IS(e,t);let o=Wu(e,t);return _S.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!rS(l):!0})),Ay(e,a,s,t),qu(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function vS(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Hs(e,t.position)}function TS(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Hs(e,t.position)}function AS(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=Sl,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Ey(e,t.name,!0),a=RS(e,t),o=Wu(e,t);return Ay(e,a,s,t),qu(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function ES(e,t,r){const n={};return qu(n,Wu(e,t)),e.create(t,e.Fragment,n,r)}function LS(e,t){return t.value}function Ay(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function qu(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function MS(e,t,r){return n;function n(i,s,a,o){const c=Array.isArray(a.children)?r:t;return o?c(s,a,o):c(s,a)}}function BS(e,t){return r;function r(n,i,s,a){const o=Array.isArray(s.children),l=Nu(n);return t(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function IS(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&zu.call(t.properties,i)){const s=$S(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&kS.has(t.tagName)?n=o:r[a]=o}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function RS(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else Hs(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Hs(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function Wu(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:bS;for(;++n<t.children.length;){const s=t.children[n];let a;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const o=Ty(e,s,a);o!==void 0&&r.push(o)}return r}function $S(e,t,r){const n=_y(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?K2(r):uS(r)),n.property==="style"){let i=typeof r=="object"?r:FS(e,String(r));return e.stylePropertyNameCase==="css"&&(i=OS(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?aS[n.property]||n.property:n.attribute,r]}}function FS(e,t){try{return yS(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new pe("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=vy+"#cannot-parse-style-attribute",i}}function Ey(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=Jd(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=a}else n=Jd(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return zu.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Hs(e)}function Hs(e,t){const r=new pe("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=vy+"#cannot-handle-mdx-estrees-without-createevaluater",r}function OS(e){const t={};let r;for(r in e)zu.call(e,r)&&(t[PS(r)]=e[r]);return t}function PS(e){let t=e.replace(wS,DS);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function DS(e){return"-"+e.toLowerCase()}const mc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},NS={};function Hu(e,t){const r=NS,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Ly(e,n,i)}function Ly(e,t,r){if(zS(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return lp(e.children,t,r)}return Array.isArray(e)?lp(e,t,r):""}function lp(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=Ly(e[i],t,r);return n.join("")}function zS(e){return!!(e&&typeof e=="object")}const cp=document.createElement("i");function ju(e){const t="&"+e+";";cp.innerHTML=t;const r=cp.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function We(e,t,r,n){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Ye(e,t){return e.length>0?(We(e,e.length,0,t),e):t}const hp={}.hasOwnProperty;function My(e){const t={};let r=-1;for(;++r<e.length;)qS(t,e[r]);return t}function qS(e,t){let r;for(r in t){const i=(hp.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let a;if(s)for(a in s){hp.call(i,a)||(i[a]=[]);const o=s[a];WS(i[a],Array.isArray(o)?o:o?[o]:[])}}}function WS(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);We(e,0,0,n)}function By(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function sr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const be=sn(/[A-Za-z]/),he=sn(/[\dA-Za-z]/),HS=sn(/[#-'*+\--9=?A-Z^-~]/);function Eo(e){return e!==null&&(e<32||e===127)}const ph=sn(/\d/),jS=sn(/[\dA-Fa-f]/),US=sn(/[!-/:-@[-`{-~]/);function ot(e){return e!==null&&e<-2}function $t(e){return e!==null&&(e<0||e===32)}function kt(e){return e===-2||e===-1||e===32}const vl=sn(new RegExp("\\p{P}|\\p{S}","u")),Mn=sn(/\s/);function sn(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Oi(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let a="";if(s===37&&he(e.charCodeAt(r+1))&&he(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function vt(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return kt(l)?(e.enter(r),o(l)):t(l)}function o(l){return kt(l)&&s++<i?(e.consume(l),o):(e.exit(r),t(l))}}const VS={tokenize:YS};function YS(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),vt(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ot(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const GS={tokenize:XS},up={tokenize:QS};function XS(e){const t=this,r=[];let n=0,i,s,a;return o;function o(w){if(n<r.length){const k=r[n];return t.containerState=k[1],e.attempt(k[0].continuation,l,c)(w)}return c(w)}function l(w){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const k=t.events.length;let S=k,_;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){_=t.events[S][1].end;break}y(n);let A=k;for(;A<t.events.length;)t.events[A][1].end={..._},A++;return We(t.events,S+1,0,t.events.slice(k)),t.events.length=A,c(w)}return o(w)}function c(w){if(n===r.length){if(!i)return d(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(up,h,u)(w)}function h(w){return i&&b(),y(n),d(w)}function u(w){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,p(w)}function d(w){return t.containerState={},e.attempt(up,f,p)(w)}function f(w){return n++,r.push([t.currentConstruct,t.containerState]),d(w)}function p(w){if(w===null){i&&b(),y(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(w)}function g(w){if(w===null){x(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return ot(w)?(e.consume(w),x(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(w),g)}function x(w,k){const S=t.sliceStream(w);if(k&&S.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(S),t.parser.lazy[w.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const A=t.events.length;let B=A,F,v;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(F){v=t.events[B][1].end;break}F=!0}for(y(n),_=A;_<t.events.length;)t.events[_][1].end={...v},_++;We(t.events,B+1,0,t.events.slice(A)),t.events.length=_}}function y(w){let k=r.length;for(;k-- >w;){const S=r[k];t.containerState=S[1],S[0].exit.call(t,e)}r.length=w}function b(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function QS(e,t,r){return vt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function vi(e){if(e===null||$t(e)||Mn(e))return 1;if(vl(e))return 2}function Tl(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const gh={name:"attention",resolveAll:KS,tokenize:JS};function KS(e,t){let r=-1,n,i,s,a,o,l,c,h;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const u={...e[n][1].end},d={...e[r][1].start};fp(u,-l),fp(d,l),a={type:l>1?"strongSequence":"emphasisSequence",start:u,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:d},s={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[r][1].start={...o.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=Ye(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=Ye(c,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),c=Ye(c,Tl(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=Ye(c,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(h=2,c=Ye(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):h=0,We(e,n-1,r-n+3,c),r=n+c.length-h-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function JS(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=vi(n);let s;return a;function a(l){return s=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===s)return e.consume(l),o;const c=e.exit("attentionSequence"),h=vi(l),u=!h||h===2&&i||r.includes(l),d=!i||i===2&&h||r.includes(n);return c._open=!!(s===42?u:u&&(i||!d)),c._close=!!(s===42?d:d&&(h||!u)),t(l)}}function fp(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const ZS={name:"autolink",tokenize:tv};function tv(e,t,r){let n=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return be(f)?(e.consume(f),a):f===64?r(f):c(f)}function a(f){return f===43||f===45||f===46||he(f)?(n=1,o(f)):c(f)}function o(f){return f===58?(e.consume(f),n=0,l):(f===43||f===45||f===46||he(f))&&n++<32?(e.consume(f),o):(n=0,c(f))}function l(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||Eo(f)?r(f):(e.consume(f),l)}function c(f){return f===64?(e.consume(f),h):HS(f)?(e.consume(f),c):r(f)}function h(f){return he(f)?u(f):r(f)}function u(f){return f===46?(e.consume(f),n=0,h):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):d(f)}function d(f){if((f===45||he(f))&&n++<63){const p=f===45?d:u;return e.consume(f),p}return r(f)}}const oa={partial:!0,tokenize:ev};function ev(e,t,r){return n;function n(s){return kt(s)?vt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ot(s)?t(s):r(s)}}const Iy={continuation:{tokenize:nv},exit:iv,name:"blockQuote",tokenize:rv};function rv(e,t,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return kt(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function nv(e,t,r){const n=this;return i;function i(a){return kt(a)?vt(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(Iy,t,r)(a)}}function iv(e){e.exit("blockQuote")}const Ry={name:"characterEscape",tokenize:sv};function sv(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return US(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const $y={name:"characterReference",tokenize:av};function av(e,t,r){const n=this;let i=0,s,a;return o;function o(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),l}function l(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,a=he,h(u))}function c(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=jS,h):(e.enter("characterReferenceValue"),s=7,a=ph,h(u))}function h(u){if(u===59&&i){const d=e.exit("characterReferenceValue");return a===he&&!ju(n.sliceSerialize(d))?r(u):(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(u)&&i++<s?(e.consume(u),h):r(u)}}const dp={partial:!0,tokenize:lv},pp={concrete:!0,name:"codeFenced",tokenize:ov};function ov(e,t,r){const n=this,i={partial:!0,tokenize:S};let s=0,a=0,o;return l;function l(_){return c(_)}function c(_){const A=n.events[n.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(_)}function h(_){return _===o?(a++,e.consume(_),h):a<3?r(_):(e.exit("codeFencedFenceSequence"),kt(_)?vt(e,u,"whitespace")(_):u(_))}function u(_){return _===null||ot(_)?(e.exit("codeFencedFence"),n.interrupt?t(_):e.check(dp,g,k)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(_))}function d(_){return _===null||ot(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(_)):kt(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),vt(e,f,"whitespace")(_)):_===96&&_===o?r(_):(e.consume(_),d)}function f(_){return _===null||ot(_)?u(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||ot(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(_)):_===96&&_===o?r(_):(e.consume(_),p)}function g(_){return e.attempt(i,k,x)(_)}function x(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),y}function y(_){return s>0&&kt(_)?vt(e,b,"linePrefix",s+1)(_):b(_)}function b(_){return _===null||ot(_)?e.check(dp,g,k)(_):(e.enter("codeFlowValue"),w(_))}function w(_){return _===null||ot(_)?(e.exit("codeFlowValue"),b(_)):(e.consume(_),w)}function k(_){return e.exit("codeFenced"),t(_)}function S(_,A,B){let F=0;return v;function v(D){return _.enter("lineEnding"),_.consume(D),_.exit("lineEnding"),L}function L(D){return _.enter("codeFencedFence"),kt(D)?vt(_,O,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):O(D)}function O(D){return D===o?(_.enter("codeFencedFenceSequence"),R(D)):B(D)}function R(D){return D===o?(F++,_.consume(D),R):F>=a?(_.exit("codeFencedFenceSequence"),kt(D)?vt(_,I,"whitespace")(D):I(D)):B(D)}function I(D){return D===null||ot(D)?(_.exit("codeFencedFence"),A(D)):B(D)}}}function lv(e,t,r){const n=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const yc={name:"codeIndented",tokenize:hv},cv={partial:!0,tokenize:uv};function hv(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),vt(e,s,"linePrefix",5)(c)}function s(c){const h=n.events[n.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(c):r(c)}function a(c){return c===null?l(c):ot(c)?e.attempt(cv,a,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||ot(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function uv(e,t,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):ot(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):vt(e,s,"linePrefix",5)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):ot(a)?i(a):r(a)}}const fv={name:"codeText",previous:pv,resolve:dv,tokenize:gv};function dv(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function pv(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function gv(e,t,r){let n=0,i,s;return a;function a(u){return e.enter("codeText"),e.enter("codeTextSequence"),o(u)}function o(u){return u===96?(e.consume(u),n++,o):(e.exit("codeTextSequence"),l(u))}function l(u){return u===null?r(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),l):u===96?(s=e.enter("codeTextSequence"),i=0,h(u)):ot(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(u))}function c(u){return u===null||u===32||u===96||ot(u)?(e.exit("codeTextData"),l(u)):(e.consume(u),c)}function h(u){return u===96?(e.consume(u),i++,h):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(s.type="codeTextData",c(u))}}class mv{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Xi(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Xi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Xi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Xi(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Xi(this.left,r.reverse())}}}function Xi(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function Fy(e){const t={};let r=-1,n,i,s,a,o,l,c;const h=new mv(e);for(;++r<h.length;){for(;r in t;)r=t[r];if(n=h.get(r),r&&n[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,yv(h,r)),r=t[r],c=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=h.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...h.get(i)[1].start},o=h.slice(i,r),o.unshift(n),h.splice(i,r-i+1,o))}}return We(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function yv(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let h,u,d=-1,f=r,p=0,g=0;const x=[g];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(h=n.sliceStream(f),f.next||h.push(null),u&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),u=f,f=f.next}for(f=r;++d<o.length;)o[d][0]==="exit"&&o[d-1][0]==="enter"&&o[d][1].type===o[d-1][1].type&&o[d][1].start.line!==o[d][1].end.line&&(g=d+1,x.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):x.pop(),d=x.length;d--;){const y=o.slice(x[d],x[d+1]),b=s.pop();l.push([b,b+y.length-1]),e.splice(b,2,y)}for(l.reverse(),d=-1;++d<l.length;)c[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return c}const xv={resolve:wv,tokenize:_v},bv={partial:!0,tokenize:kv};function wv(e){return Fy(e),e}function _v(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):ot(o)?e.check(bv,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function kv(e,t,r){const n=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),vt(e,s,"linePrefix")}function s(a){if(a===null||ot(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function Oy(e,t,r,n,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return u;function u(y){return y===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(y),e.exit(s),d):y===null||y===32||y===41||Eo(y)?r(y):(e.enter(n),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(y))}function d(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(e.exit("chunkString"),e.exit(o),d(y)):y===null||y===60||ot(y)?r(y):(e.consume(y),y===92?p:f)}function p(y){return y===60||y===62||y===92?(e.consume(y),f):f(y)}function g(y){return!h&&(y===null||y===41||$t(y))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(n),t(y)):h<c&&y===40?(e.consume(y),h++,g):y===41?(e.consume(y),h--,g):y===null||y===32||y===40||Eo(y)?r(y):(e.consume(y),y===92?x:g)}function x(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function Py(e,t,r,n,i,s){const a=this;let o=0,l;return c;function c(f){return e.enter(n),e.enter(i),e.consume(f),e.exit(i),e.enter(s),h}function h(f){return o>999||f===null||f===91||f===93&&!l||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(n),t):ot(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===null||f===91||f===93||ot(f)||o++>999?(e.exit("chunkString"),h(f)):(e.consume(f),l||(l=!kt(f)),f===92?d:u)}function d(f){return f===91||f===92||f===93?(e.consume(f),o++,u):u(f)}}function Dy(e,t,r,n,i,s){let a;return o;function o(d){return d===34||d===39||d===40?(e.enter(n),e.enter(i),e.consume(d),e.exit(i),a=d===40?41:d,l):r(d)}function l(d){return d===a?(e.enter(i),e.consume(d),e.exit(i),e.exit(n),t):(e.enter(s),c(d))}function c(d){return d===a?(e.exit(s),l(a)):d===null?r(d):ot(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),vt(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===a||d===null||ot(d)?(e.exit("chunkString"),c(d)):(e.consume(d),d===92?u:h)}function u(d){return d===a||d===92?(e.consume(d),h):h(d)}}function Bs(e,t){let r;return n;function n(i){return ot(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):kt(i)?vt(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const Cv={name:"definition",tokenize:vv},Sv={partial:!0,tokenize:Tv};function vv(e,t,r){const n=this;let i;return s;function s(f){return e.enter("definition"),a(f)}function a(f){return Py.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=sr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),l):r(f)}function l(f){return $t(f)?Bs(e,c)(f):c(f)}function c(f){return Oy(e,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function h(f){return e.attempt(Sv,u,u)(f)}function u(f){return kt(f)?vt(e,d,"whitespace")(f):d(f)}function d(f){return f===null||ot(f)?(e.exit("definition"),n.parser.defined.push(i),t(f)):r(f)}}function Tv(e,t,r){return n;function n(o){return $t(o)?Bs(e,i)(o):r(o)}function i(o){return Dy(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return kt(o)?vt(e,a,"whitespace")(o):a(o)}function a(o){return o===null||ot(o)?t(o):r(o)}}const Av={name:"hardBreakEscape",tokenize:Ev};function Ev(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ot(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const Lv={name:"headingAtx",resolve:Mv,tokenize:Bv};function Mv(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},We(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Bv(e,t,r){let n=0;return i;function i(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&n++<6?(e.consume(h),a):h===null||$t(h)?(e.exit("atxHeadingSequence"),o(h)):r(h)}function o(h){return h===35?(e.enter("atxHeadingSequence"),l(h)):h===null||ot(h)?(e.exit("atxHeading"),t(h)):kt(h)?vt(e,o,"whitespace")(h):(e.enter("atxHeadingText"),c(h))}function l(h){return h===35?(e.consume(h),l):(e.exit("atxHeadingSequence"),o(h))}function c(h){return h===null||h===35||$t(h)?(e.exit("atxHeadingText"),o(h)):(e.consume(h),c)}}const Iv=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gp=["pre","script","style","textarea"],Rv={concrete:!0,name:"htmlFlow",resolveTo:Ov,tokenize:Pv},$v={partial:!0,tokenize:Nv},Fv={partial:!0,tokenize:Dv};function Ov(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Pv(e,t,r){const n=this;let i,s,a,o,l;return c;function c(C){return h(C)}function h(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),u}function u(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),s=!0,g):C===63?(e.consume(C),i=3,n.interrupt?t:T):be(C)?(e.consume(C),a=String.fromCharCode(C),x):r(C)}function d(C){return C===45?(e.consume(C),i=2,f):C===91?(e.consume(C),i=5,o=0,p):be(C)?(e.consume(C),i=4,n.interrupt?t:T):r(C)}function f(C){return C===45?(e.consume(C),n.interrupt?t:T):r(C)}function p(C){const Rt="CDATA[";return C===Rt.charCodeAt(o++)?(e.consume(C),o===Rt.length?n.interrupt?t:O:p):r(C)}function g(C){return be(C)?(e.consume(C),a=String.fromCharCode(C),x):r(C)}function x(C){if(C===null||C===47||C===62||$t(C)){const Rt=C===47,mt=a.toLowerCase();return!Rt&&!s&&gp.includes(mt)?(i=1,n.interrupt?t(C):O(C)):Iv.includes(a.toLowerCase())?(i=6,Rt?(e.consume(C),y):n.interrupt?t(C):O(C)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(C):s?b(C):w(C))}return C===45||he(C)?(e.consume(C),a+=String.fromCharCode(C),x):r(C)}function y(C){return C===62?(e.consume(C),n.interrupt?t:O):r(C)}function b(C){return kt(C)?(e.consume(C),b):v(C)}function w(C){return C===47?(e.consume(C),v):C===58||C===95||be(C)?(e.consume(C),k):kt(C)?(e.consume(C),w):v(C)}function k(C){return C===45||C===46||C===58||C===95||he(C)?(e.consume(C),k):S(C)}function S(C){return C===61?(e.consume(C),_):kt(C)?(e.consume(C),S):w(C)}function _(C){return C===null||C===60||C===61||C===62||C===96?r(C):C===34||C===39?(e.consume(C),l=C,A):kt(C)?(e.consume(C),_):B(C)}function A(C){return C===l?(e.consume(C),l=null,F):C===null||ot(C)?r(C):(e.consume(C),A)}function B(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||$t(C)?S(C):(e.consume(C),B)}function F(C){return C===47||C===62||kt(C)?w(C):r(C)}function v(C){return C===62?(e.consume(C),L):r(C)}function L(C){return C===null||ot(C)?O(C):kt(C)?(e.consume(C),L):r(C)}function O(C){return C===45&&i===2?(e.consume(C),z):C===60&&i===1?(e.consume(C),U):C===62&&i===4?(e.consume(C),pt):C===63&&i===3?(e.consume(C),T):C===93&&i===5?(e.consume(C),Tt):ot(C)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check($v,gt,R)(C)):C===null||ot(C)?(e.exit("htmlFlowData"),R(C)):(e.consume(C),O)}function R(C){return e.check(Fv,I,gt)(C)}function I(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),D}function D(C){return C===null||ot(C)?R(C):(e.enter("htmlFlowData"),O(C))}function z(C){return C===45?(e.consume(C),T):O(C)}function U(C){return C===47?(e.consume(C),a="",Y):O(C)}function Y(C){if(C===62){const Rt=a.toLowerCase();return gp.includes(Rt)?(e.consume(C),pt):O(C)}return be(C)&&a.length<8?(e.consume(C),a+=String.fromCharCode(C),Y):O(C)}function Tt(C){return C===93?(e.consume(C),T):O(C)}function T(C){return C===62?(e.consume(C),pt):C===45&&i===2?(e.consume(C),T):O(C)}function pt(C){return C===null||ot(C)?(e.exit("htmlFlowData"),gt(C)):(e.consume(C),pt)}function gt(C){return e.exit("htmlFlow"),t(C)}}function Dv(e,t,r){const n=this;return i;function i(a){return ot(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function Nv(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(oa,t,r)}}const zv={name:"htmlText",tokenize:qv};function qv(e,t,r){const n=this;let i,s,a;return o;function o(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),l}function l(T){return T===33?(e.consume(T),c):T===47?(e.consume(T),S):T===63?(e.consume(T),w):be(T)?(e.consume(T),B):r(T)}function c(T){return T===45?(e.consume(T),h):T===91?(e.consume(T),s=0,p):be(T)?(e.consume(T),b):r(T)}function h(T){return T===45?(e.consume(T),f):r(T)}function u(T){return T===null?r(T):T===45?(e.consume(T),d):ot(T)?(a=u,U(T)):(e.consume(T),u)}function d(T){return T===45?(e.consume(T),f):u(T)}function f(T){return T===62?z(T):T===45?d(T):u(T)}function p(T){const pt="CDATA[";return T===pt.charCodeAt(s++)?(e.consume(T),s===pt.length?g:p):r(T)}function g(T){return T===null?r(T):T===93?(e.consume(T),x):ot(T)?(a=g,U(T)):(e.consume(T),g)}function x(T){return T===93?(e.consume(T),y):g(T)}function y(T){return T===62?z(T):T===93?(e.consume(T),y):g(T)}function b(T){return T===null||T===62?z(T):ot(T)?(a=b,U(T)):(e.consume(T),b)}function w(T){return T===null?r(T):T===63?(e.consume(T),k):ot(T)?(a=w,U(T)):(e.consume(T),w)}function k(T){return T===62?z(T):w(T)}function S(T){return be(T)?(e.consume(T),_):r(T)}function _(T){return T===45||he(T)?(e.consume(T),_):A(T)}function A(T){return ot(T)?(a=A,U(T)):kt(T)?(e.consume(T),A):z(T)}function B(T){return T===45||he(T)?(e.consume(T),B):T===47||T===62||$t(T)?F(T):r(T)}function F(T){return T===47?(e.consume(T),z):T===58||T===95||be(T)?(e.consume(T),v):ot(T)?(a=F,U(T)):kt(T)?(e.consume(T),F):z(T)}function v(T){return T===45||T===46||T===58||T===95||he(T)?(e.consume(T),v):L(T)}function L(T){return T===61?(e.consume(T),O):ot(T)?(a=L,U(T)):kt(T)?(e.consume(T),L):F(T)}function O(T){return T===null||T===60||T===61||T===62||T===96?r(T):T===34||T===39?(e.consume(T),i=T,R):ot(T)?(a=O,U(T)):kt(T)?(e.consume(T),O):(e.consume(T),I)}function R(T){return T===i?(e.consume(T),i=void 0,D):T===null?r(T):ot(T)?(a=R,U(T)):(e.consume(T),R)}function I(T){return T===null||T===34||T===39||T===60||T===61||T===96?r(T):T===47||T===62||$t(T)?F(T):(e.consume(T),I)}function D(T){return T===47||T===62||$t(T)?F(T):r(T)}function z(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):r(T)}function U(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),Y}function Y(T){return kt(T)?vt(e,Tt,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):Tt(T)}function Tt(T){return e.enter("htmlTextData"),a(T)}}const Uu={name:"labelEnd",resolveAll:Uv,resolveTo:Vv,tokenize:Yv},Wv={tokenize:Gv},Hv={tokenize:Xv},jv={tokenize:Qv};function Uv(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&We(e,0,e.length,r),e}function Vv(e,t){let r=e.length,n=0,i,s,a,o;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},h={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Ye(o,e.slice(s+1,s+n+3)),o=Ye(o,[["enter",h,t]]),o=Ye(o,Tl(t.parser.constructs.insideSpan.null,e.slice(s+n+4,a-3),t)),o=Ye(o,[["exit",h,t],e[a-2],e[a-1],["exit",c,t]]),o=Ye(o,e.slice(a+1)),o=Ye(o,[["exit",l,t]]),We(e,s,e.length,o),e}function Yv(e,t,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(d){return s?s._inactive?u(d):(a=n.parser.defined.includes(sr(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),l):r(d)}function l(d){return d===40?e.attempt(Wv,h,a?h:u)(d):d===91?e.attempt(Hv,h,a?c:u)(d):a?h(d):u(d)}function c(d){return e.attempt(jv,h,u)(d)}function h(d){return t(d)}function u(d){return s._balanced=!0,r(d)}}function Gv(e,t,r){return n;function n(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),i}function i(u){return $t(u)?Bs(e,s)(u):s(u)}function s(u){return u===41?h(u):Oy(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function a(u){return $t(u)?Bs(e,l)(u):h(u)}function o(u){return r(u)}function l(u){return u===34||u===39||u===40?Dy(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):h(u)}function c(u){return $t(u)?Bs(e,h)(u):h(u)}function h(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):r(u)}}function Xv(e,t,r){const n=this;return i;function i(o){return Py.call(n,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(sr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function a(o){return r(o)}}function Qv(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const Kv={name:"labelStartImage",resolveAll:Uu.resolveAll,tokenize:Jv};function Jv(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const Zv={name:"labelStartLink",resolveAll:Uu.resolveAll,tokenize:tT};function tT(e,t,r){const n=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const xc={name:"lineEnding",tokenize:eT};function eT(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),vt(e,t,"linePrefix")}}const to={name:"thematicBreak",tokenize:rT};function rT(e,t,r){let n=0,i;return s;function s(c){return e.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||ot(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),kt(c)?vt(e,o,"whitespace")(c):o(c))}}const Me={continuation:{tokenize:aT},exit:lT,name:"list",tokenize:sT},nT={partial:!0,tokenize:cT},iT={partial:!0,tokenize:oT};function sT(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(f){const p=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:ph(f)){if(n.containerState.type||(n.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(to,r,c)(f):c(f);if(!n.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(f)}return r(f)}function l(f){return ph(f)&&++a<10?(e.consume(f),l):(!n.interrupt||a<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),c(f)):r(f)}function c(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,e.check(oa,n.interrupt?r:h,e.attempt(nT,d,u))}function h(f){return n.containerState.initialBlankLine=!0,s++,d(f)}function u(f){return kt(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),d):r(f)}function d(f){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function aT(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(oa,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,vt(e,t,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!kt(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(iT,t,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,vt(e,e.attempt(Me,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function oT(e,t,r){const n=this;return vt(e,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(s):r(s)}}function lT(e){e.exit(this.containerState.type)}function cT(e,t,r){const n=this;return vt(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!kt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const mp={name:"setextUnderline",resolveTo:hT,tokenize:uT};function hT(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function uT(e,t,r){const n=this;let i;return s;function s(c){let h=n.events.length,u;for(;h--;)if(n.events[h][1].type!=="lineEnding"&&n.events[h][1].type!=="linePrefix"&&n.events[h][1].type!=="content"){u=n.events[h][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||u)?(e.enter("setextHeadingLine"),i=c,a(c)):r(c)}function a(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),kt(c)?vt(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ot(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const fT={tokenize:dT};function dT(e){const t=this,r=e.attempt(oa,n,e.attempt(this.parser.constructs.flowInitial,i,vt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(xv,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const pT={resolveAll:zy()},gT=Ny("string"),mT=Ny("text");function Ny(e){return{resolveAll:zy(e==="text"?yT:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,a,o);return a;function a(h){return c(h)?s(h):o(h)}function o(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),l}function l(h){return c(h)?(r.exit("data"),s(h)):(r.consume(h),l)}function c(h){if(h===null)return!0;const u=i[h];let d=-1;if(u)for(;++d<u.length;){const f=u[d];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function zy(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function yT(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const c={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const xT={42:Me,43:Me,45:Me,48:Me,49:Me,50:Me,51:Me,52:Me,53:Me,54:Me,55:Me,56:Me,57:Me,62:Iy},bT={91:Cv},wT={[-2]:yc,[-1]:yc,32:yc},_T={35:Lv,42:to,45:[mp,to],60:Rv,61:mp,95:to,96:pp,126:pp},kT={38:$y,92:Ry},CT={[-5]:xc,[-4]:xc,[-3]:xc,33:Kv,38:$y,42:gh,60:[ZS,zv],91:Zv,92:[Av,Ry],93:Uu,95:gh,96:fv},ST={null:[gh,pT]},vT={null:[42,95]},TT={null:[]},AT=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:vT,contentInitial:bT,disable:TT,document:xT,flow:_T,flowInitial:wT,insideSpan:ST,string:kT,text:CT},Symbol.toStringTag,{value:"Module"}));function ET(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:A(S),check:A(_),consume:b,enter:w,exit:k,interrupt:A(_,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:d,sliceStream:f,write:u};let h=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function u(L){return a=Ye(a,L),x(),a[a.length-1]!==null?[]:(B(t,0),c.events=Tl(s,c.events,c),c.events)}function d(L,O){return MT(f(L),O)}function f(L){return LT(a,L)}function p(){const{_bufferIndex:L,_index:O,line:R,column:I,offset:D}=n;return{_bufferIndex:L,_index:O,line:R,column:I,offset:D}}function g(L){i[L.line]=L.column,v()}function x(){let L;for(;n._index<a.length;){const O=a[n._index];if(typeof O=="string")for(L=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===L&&n._bufferIndex<O.length;)y(O.charCodeAt(n._bufferIndex));else y(O)}}function y(L){h=h(L)}function b(L){ot(L)?(n.line++,n.column=1,n.offset+=L===-3?2:1,v()):L!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=L}function w(L,O){const R=O||{};return R.type=L,R.start=p(),c.events.push(["enter",R,c]),o.push(R),R}function k(L){const O=o.pop();return O.end=p(),c.events.push(["exit",O,c]),O}function S(L,O){B(L,O.from)}function _(L,O){O.restore()}function A(L,O){return R;function R(I,D,z){let U,Y,Tt,T;return Array.isArray(I)?gt(I):"tokenize"in I?gt([I]):pt(I);function pt(At){return Qt;function Qt(ve){const Je=ve!==null&&At[ve],Oe=ve!==null&&At.null,hn=[...Array.isArray(Je)?Je:Je?[Je]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return gt(hn)(ve)}}function gt(At){return U=At,Y=0,At.length===0?z:C(At[Y])}function C(At){return Qt;function Qt(ve){return T=F(),Tt=At,At.partial||(c.currentConstruct=At),At.name&&c.parser.constructs.disable.null.includes(At.name)?mt():At.tokenize.call(O?Object.assign(Object.create(c),O):c,l,Rt,mt)(ve)}}function Rt(At){return L(Tt,T),D}function mt(At){return T.restore(),++Y<U.length?C(U[Y]):z}}}function B(L,O){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&We(c.events,O,c.events.length-O,L.resolve(c.events.slice(O),c)),L.resolveTo&&(c.events=L.resolveTo(c.events,c))}function F(){const L=p(),O=c.previous,R=c.currentConstruct,I=c.events.length,D=Array.from(o);return{from:I,restore:z};function z(){n=L,c.previous=O,c.currentConstruct=R,c.events.length=I,o=D,v()}}function v(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function LT(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(n,s)];else{if(a=e.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function MT(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function BT(e){const n={constructs:My([AT,...(e||{}).extensions||[]]),content:i(VS),defined:[],document:i(GS),flow:i(fT),lazy:{},string:i(gT),text:i(mT)};return n;function i(s){return a;function a(o){return ET(n,s,o)}}}function IT(e){for(;!Fy(e););return e}const yp=/[\0\t\n\r]/g;function RT(){let e=1,t="",r=!0,n;return i;function i(s,a,o){const l=[];let c,h,u,d,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),u=0,t="",r&&(s.charCodeAt(0)===65279&&u++,r=void 0);u<s.length;){if(yp.lastIndex=u,c=yp.exec(s),d=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(d),!c){t=s.slice(u);break}if(f===10&&u===d&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),u<d&&(l.push(s.slice(u,d)),e+=d-u),f){case 0:{l.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,l.push(-2);e++<h;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}u=d+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const $T=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function FT(e){return e.replace($T,OT)}function OT(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return By(r.slice(s?2:1),s?16:10)}return ju(r)||e}const qy={}.hasOwnProperty;function PT(e,t,r){return typeof t!="string"&&(r=t,t=void 0),DT(r)(IT(BT(r).document().write(RT()(e,t,!0))))}function DT(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(un),autolinkProtocol:F,autolinkEmail:F,atxHeading:s(Yn),blockQuote:s(Oe),characterEscape:F,characterReference:F,codeFenced:s(hn),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(hn,a),codeText:s(jr,a),codeTextData:F,data:F,codeFlowValue:F,definition:s(Vn),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Sr),hardBreakEscape:s(Gn),hardBreakTrailing:s(Gn),htmlFlow:s(vr,a),htmlFlowData:F,htmlText:s(vr,a),htmlTextData:F,image:s(Xn),label:a,link:s(un),listItem:s(Sa),listItemValue:d,listOrdered:s(ji,u),listUnordered:s(ji),paragraph:s(cc),reference:C,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Yn),strong:s(Ui),thematicBreak:s(Ur)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:Je,autolinkProtocol:ve,blockQuote:l(),characterEscapeValue:v,characterReferenceMarkerHexadecimal:mt,characterReferenceMarkerNumeric:mt,characterReferenceValue:At,characterReference:Qt,codeFenced:l(x),codeFencedFence:g,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:v,codeIndented:l(y),codeText:l(D),codeTextData:v,data:v,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(R),htmlFlowData:v,htmlText:l(I),htmlTextData:v,image:l(U),label:Tt,labelText:Y,lineEnding:L,link:l(z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Rt,resourceDestinationString:T,resourceTitleString:pt,resource:gt,setextHeading:l(B),setextHeadingLineSequence:A,setextHeadingText:_,strong:l(),thematicBreak:l()}};Wy(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(P){let j={type:"root",children:[]};const dt={stack:[j],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:h,data:r},bt=[];let Et=-1;for(;++Et<P.length;)if(P[Et][1].type==="listOrdered"||P[Et][1].type==="listUnordered")if(P[Et][0]==="enter")bt.push(Et);else{const Te=bt.pop();Et=i(P,Te,Et)}for(Et=-1;++Et<P.length;){const Te=t[P[Et][0]];qy.call(Te,P[Et][1].type)&&Te[P[Et][1].type].call(Object.assign({sliceSerialize:P[Et][2].sliceSerialize},dt),P[Et][1])}if(dt.tokenStack.length>0){const Te=dt.tokenStack[dt.tokenStack.length-1];(Te[1]||xp).call(dt,void 0,Te[0])}for(j.position={start:Yr(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:Yr(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},Et=-1;++Et<t.transforms.length;)j=t.transforms[Et](j)||j;return j}function i(P,j,dt){let bt=j-1,Et=-1,Te=!1,je,Ae,me,Ue;for(;++bt<=dt;){const te=P[bt];switch(te[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{te[0]==="enter"?Et++:Et--,Ue=void 0;break}case"lineEndingBlank":{te[0]==="enter"&&(je&&!Ue&&!Et&&!me&&(me=bt),Ue=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ue=void 0}if(!Et&&te[0]==="enter"&&te[1].type==="listItemPrefix"||Et===-1&&te[0]==="exit"&&(te[1].type==="listUnordered"||te[1].type==="listOrdered")){if(je){let cr=bt;for(Ae=void 0;cr--;){const Ze=P[cr];if(Ze[1].type==="lineEnding"||Ze[1].type==="lineEndingBlank"){if(Ze[0]==="exit")continue;Ae&&(P[Ae][1].type="lineEndingBlank",Te=!0),Ze[1].type="lineEnding",Ae=cr}else if(!(Ze[1].type==="linePrefix"||Ze[1].type==="blockQuotePrefix"||Ze[1].type==="blockQuotePrefixWhitespace"||Ze[1].type==="blockQuoteMarker"||Ze[1].type==="listItemIndent"))break}me&&(!Ae||me<Ae)&&(je._spread=!0),je.end=Object.assign({},Ae?P[Ae][1].start:te[1].end),P.splice(Ae||bt,0,["exit",je,te[2]]),bt++,dt++}if(te[1].type==="listItemPrefix"){const cr={type:"listItem",_spread:!1,start:Object.assign({},te[1].start),end:void 0};je=cr,P.splice(bt,0,["enter",cr,te[2]]),bt++,dt++,me=void 0,Ue=!0}}}return P[j][1]._spread=Te,dt}function s(P,j){return dt;function dt(bt){o.call(this,P(bt),bt),j&&j.call(this,bt)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(P,j,dt){this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([j,dt||void 0]),P.position={start:Yr(j.start),end:void 0}}function l(P){return j;function j(dt){P&&P.call(this,dt),c.call(this,dt)}}function c(P,j){const dt=this.stack.pop(),bt=this.tokenStack.pop();if(bt)bt[0].type!==P.type&&(j?j.call(this,P,bt[0]):(bt[1]||xp).call(this,P,bt[0]));else throw new Error("Cannot close `"+P.type+"` ("+Ms({start:P.start,end:P.end})+"): it’s not open");dt.position.end=Yr(P.end)}function h(){return Hu(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function d(P){if(this.data.expectingFirstListItemValue){const j=this.stack[this.stack.length-2];j.start=Number.parseInt(this.sliceSerialize(P),10),this.data.expectingFirstListItemValue=void 0}}function f(){const P=this.resume(),j=this.stack[this.stack.length-1];j.lang=P}function p(){const P=this.resume(),j=this.stack[this.stack.length-1];j.meta=P}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const P=this.resume(),j=this.stack[this.stack.length-1];j.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const P=this.resume(),j=this.stack[this.stack.length-1];j.value=P.replace(/(\r?\n|\r)$/g,"")}function b(P){const j=this.resume(),dt=this.stack[this.stack.length-1];dt.label=j,dt.identifier=sr(this.sliceSerialize(P)).toLowerCase()}function w(){const P=this.resume(),j=this.stack[this.stack.length-1];j.title=P}function k(){const P=this.resume(),j=this.stack[this.stack.length-1];j.url=P}function S(P){const j=this.stack[this.stack.length-1];if(!j.depth){const dt=this.sliceSerialize(P).length;j.depth=dt}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function A(P){const j=this.stack[this.stack.length-1];j.depth=this.sliceSerialize(P).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function F(P){const dt=this.stack[this.stack.length-1].children;let bt=dt[dt.length-1];(!bt||bt.type!=="text")&&(bt=fn(),bt.position={start:Yr(P.start),end:void 0},dt.push(bt)),this.stack.push(bt)}function v(P){const j=this.stack.pop();j.value+=this.sliceSerialize(P),j.position.end=Yr(P.end)}function L(P){const j=this.stack[this.stack.length-1];if(this.data.atHardBreak){const dt=j.children[j.children.length-1];dt.position.end=Yr(P.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(j.type)&&(F.call(this,P),v.call(this,P))}function O(){this.data.atHardBreak=!0}function R(){const P=this.resume(),j=this.stack[this.stack.length-1];j.value=P}function I(){const P=this.resume(),j=this.stack[this.stack.length-1];j.value=P}function D(){const P=this.resume(),j=this.stack[this.stack.length-1];j.value=P}function z(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=j,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function U(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=j,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function Y(P){const j=this.sliceSerialize(P),dt=this.stack[this.stack.length-2];dt.label=FT(j),dt.identifier=sr(j).toLowerCase()}function Tt(){const P=this.stack[this.stack.length-1],j=this.resume(),dt=this.stack[this.stack.length-1];if(this.data.inReference=!0,dt.type==="link"){const bt=P.children;dt.children=bt}else dt.alt=j}function T(){const P=this.resume(),j=this.stack[this.stack.length-1];j.url=P}function pt(){const P=this.resume(),j=this.stack[this.stack.length-1];j.title=P}function gt(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function Rt(P){const j=this.resume(),dt=this.stack[this.stack.length-1];dt.label=j,dt.identifier=sr(this.sliceSerialize(P)).toLowerCase(),this.data.referenceType="full"}function mt(P){this.data.characterReferenceType=P.type}function At(P){const j=this.sliceSerialize(P),dt=this.data.characterReferenceType;let bt;dt?(bt=By(j,dt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):bt=ju(j);const Et=this.stack[this.stack.length-1];Et.value+=bt}function Qt(P){const j=this.stack.pop();j.position.end=Yr(P.end)}function ve(P){v.call(this,P);const j=this.stack[this.stack.length-1];j.url=this.sliceSerialize(P)}function Je(P){v.call(this,P);const j=this.stack[this.stack.length-1];j.url="mailto:"+this.sliceSerialize(P)}function Oe(){return{type:"blockquote",children:[]}}function hn(){return{type:"code",lang:null,meta:null,value:""}}function jr(){return{type:"inlineCode",value:""}}function Vn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Sr(){return{type:"emphasis",children:[]}}function Yn(){return{type:"heading",depth:0,children:[]}}function Gn(){return{type:"break"}}function vr(){return{type:"html",value:""}}function Xn(){return{type:"image",title:null,url:"",alt:null}}function un(){return{type:"link",title:null,url:"",children:[]}}function ji(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function Sa(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function cc(){return{type:"paragraph",children:[]}}function Ui(){return{type:"strong",children:[]}}function fn(){return{type:"text",value:""}}function Ur(){return{type:"thematicBreak"}}}function Yr(e){return{line:e.line,column:e.column,offset:e.offset}}function Wy(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?Wy(e,n):NT(e,n)}}function NT(e,t){let r;for(r in t)if(qy.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function xp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ms({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ms({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ms({start:t.start,end:t.end})+") is still open")}function zT(e){const t=this;t.parser=r;function r(n){return PT(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function qT(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function WT(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function HT(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function jT(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function UT(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function VT(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=Oi(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let a,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function YT(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function GT(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function Hy(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function XT(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Hy(e,t);const i={src:Oi(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function QT(e,t){const r={src:Oi(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function KT(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function JT(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Hy(e,t);const i={href:Oi(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function ZT(e,t){const r={href:Oi(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tA(e,t,r){const n=e.all(t),i=r?eA(r):jy(t),s={},a=[];if(typeof t.checked=="boolean"){const h=n[0];let u;h&&h.type==="element"&&h.tagName==="p"?u=h:(u={type:"element",tagName:"p",properties:{},children:[]},n.unshift(u)),u.children.length>0&&u.children.unshift({type:"text",value:" "}),u.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const h=n[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,c),e.applyData(t,c)}function eA(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=jy(r[n])}return t}function jy(e){const t=e.spread;return t??e.children.length>1}function rA(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function nA(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function iA(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function sA(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function aA(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=Nu(t.children[1]),l=Cy(t.children[t.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function oA(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const u=t.children[l],d={},f=a?a[l]:void 0;f&&(d.align=f);let p={type:"element",tagName:s,properties:d,children:[]};u&&(p.children=e.all(u),e.patch(u,p),p=e.applyData(u,p)),c.push(p)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,h),e.applyData(t,h)}function lA(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const bp=9,wp=32;function cA(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push(_p(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push(_p(t.slice(i),i>0,!1)),s.join("")}function _p(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===bp||s===wp;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===bp||s===wp;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function hA(e,t){const r={type:"text",value:cA(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function uA(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const fA={blockquote:qT,break:WT,code:HT,delete:jT,emphasis:UT,footnoteReference:VT,heading:YT,html:GT,imageReference:XT,image:QT,inlineCode:KT,linkReference:JT,link:ZT,listItem:tA,list:rA,paragraph:nA,root:iA,strong:sA,table:aA,tableCell:lA,tableRow:oA,text:hA,thematicBreak:uA,toml:Ba,yaml:Ba,definition:Ba,footnoteDefinition:Ba};function Ba(){}const Uy=-1,Al=0,Is=1,Lo=2,Vu=3,Yu=4,Gu=5,Xu=6,Vy=7,Yy=8,kp=typeof self=="object"?self:globalThis,dA=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case Al:case Uy:return r(a,i);case Is:{const o=r([],i);for(const l of a)o.push(n(l));return o}case Lo:{const o=r({},i);for(const[l,c]of a)o[n(l)]=n(c);return o}case Vu:return r(new Date(a),i);case Yu:{const{source:o,flags:l}=a;return r(new RegExp(o,l),i)}case Gu:{const o=r(new Map,i);for(const[l,c]of a)o.set(n(l),n(c));return o}case Xu:{const o=r(new Set,i);for(const l of a)o.add(n(l));return o}case Vy:{const{name:o,message:l}=a;return r(new kp[o](l),i)}case Yy:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new kp[s](a),i)};return n},Cp=e=>dA(new Map,e)(0),Zn="",{toString:pA}={},{keys:gA}=Object,Qi=e=>{const t=typeof e;if(t!=="object"||!e)return[Al,t];const r=pA.call(e).slice(8,-1);switch(r){case"Array":return[Is,Zn];case"Object":return[Lo,Zn];case"Date":return[Vu,Zn];case"RegExp":return[Yu,Zn];case"Map":return[Gu,Zn];case"Set":return[Xu,Zn];case"DataView":return[Is,r]}return r.includes("Array")?[Is,r]:r.includes("Error")?[Vy,r]:[Lo,r]},Ia=([e,t])=>e===Al&&(t==="function"||t==="symbol"),mA=(e,t,r,n)=>{const i=(a,o)=>{const l=n.push(a)-1;return r.set(o,l),l},s=a=>{if(r.has(a))return r.get(a);let[o,l]=Qi(a);switch(o){case Al:{let h=a;switch(l){case"bigint":o=Yy,h=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([Uy],a)}return i([o,h],a)}case Is:{if(l){let d=a;return l==="DataView"?d=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(a)),i([l,[...d]],a)}const h=[],u=i([o,h],a);for(const d of a)h.push(s(d));return u}case Lo:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const h=[],u=i([o,h],a);for(const d of gA(a))(e||!Ia(Qi(a[d])))&&h.push([s(d),s(a[d])]);return u}case Vu:return i([o,a.toISOString()],a);case Yu:{const{source:h,flags:u}=a;return i([o,{source:h,flags:u}],a)}case Gu:{const h=[],u=i([o,h],a);for(const[d,f]of a)(e||!(Ia(Qi(d))||Ia(Qi(f))))&&h.push([s(d),s(f)]);return u}case Xu:{const h=[],u=i([o,h],a);for(const d of a)(e||!Ia(Qi(d)))&&h.push(s(d));return u}}const{message:c}=a;return i([o,{name:l,message:c}],a)};return s},Sp=(e,{json:t,lossy:r}={})=>{const n=[];return mA(!(t||r),!!t,new Map,n)(e),n},Mo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Cp(Sp(e,t)):structuredClone(e):(e,t)=>Cp(Sp(e,t));function yA(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function xA(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function bA(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||yA,n=e.options.footnoteBackLabel||xA,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const h=e.all(c),u=String(c.identifier).toUpperCase(),d=Oi(u.toLowerCase());let f=0;const p=[],g=e.footnoteCounts.get(u);for(;g!==void 0&&++f<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof r=="string"?r:r(l,f);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,f),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=h[h.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...p)}else h.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(h,!0)};e.patch(c,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Mo(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const la=(function(e){if(e==null)return CA;if(typeof e=="function")return El(e);if(typeof e=="object")return Array.isArray(e)?wA(e):_A(e);if(typeof e=="string")return kA(e);throw new Error("Expected function, string, or object as test")});function wA(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=la(e[r]);return El(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function _A(e){const t=e;return El(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function kA(e){return El(t);function t(r){return r&&r.type===e}}function El(e){return t;function t(r,n,i){return!!(SA(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function CA(){return!0}function SA(e){return e!==null&&typeof e=="object"&&"type"in e}const Gy=[],vA=!0,mh=!1,TA="skip";function Qu(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=la(i),a=n?-1:1;o(e,void 0,[])();function o(l,c,h){const u=l&&typeof l=="object"?l:{};if(typeof u.type=="string"){const f=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=Gy,p,g,x;if((!t||s(l,c,h[h.length-1]||void 0))&&(f=AA(r(l,h)),f[0]===mh))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==TA)for(g=(n?y.children.length:-1)+a,x=h.concat(y);g>-1&&g<y.children.length;){const b=y.children[g];if(p=o(b,g,x)(),p[0]===mh)return p;g=typeof p[1]=="number"?p[1]:g+a}}return f}}}function AA(e){return Array.isArray(e)?e:typeof e=="number"?[vA,e]:e==null?Gy:[e]}function Ku(e,t,r,n){let i,s,a;typeof t=="function"&&typeof r!="function"?(s=void 0,a=t,i=r):(s=t,a=r,i=n),Qu(e,s,o,i);function o(l,c){const h=c[c.length-1],u=h?h.children.indexOf(l):void 0;return a(l,u,h)}}const yh={}.hasOwnProperty,EA={};function LA(e,t){const r=t||EA,n=new Map,i=new Map,s=new Map,a={...fA,...r.handlers},o={all:c,applyData:BA,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:r,patch:MA,wrap:RA};return Ku(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const u=h.type==="definition"?n:i,d=String(h.identifier).toUpperCase();u.has(d)||u.set(d,h)}}),o;function l(h,u){const d=h.type,f=o.handlers[d];if(yh.call(o.handlers,d)&&f)return f(o,h,u);if(o.options.passThrough&&o.options.passThrough.includes(d)){if("children"in h){const{children:g,...x}=h,y=Mo(x);return y.children=o.all(h),y}return Mo(h)}return(o.options.unknownHandler||IA)(o,h,u)}function c(h){const u=[];if("children"in h){const d=h.children;let f=-1;for(;++f<d.length;){const p=o.one(d[f],h);if(p){if(f&&d[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=vp(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=vp(g.value))}Array.isArray(p)?u.push(...p):u.push(p)}}}return u}}function MA(e,t){e.position&&(t.position=xS(e))}function BA(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,Mo(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function IA(e,t){const r=t.data||{},n="value"in t&&!(yh.call(r,"hProperties")||yh.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RA(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function vp(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function Tp(e,t){const r=LA(e,t),n=r.one(e,void 0),i=bA(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function $A(e,t){return e&&"run"in e?async function(r,n){const i=Tp(r,{file:n,...t});await e.run(i,n)}:function(r,n){return Tp(r,{file:n,...e||t})}}function Ap(e){if(e)throw e}var bc,Ep;function FA(){if(Ep)return bc;Ep=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var h=e.call(c,"constructor"),u=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!h&&!u)return!1;var d;for(d in c);return typeof d>"u"||e.call(c,d)},a=function(c,h){r&&h.name==="__proto__"?r(c,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):c[h.name]=h.newValue},o=function(c,h){if(h==="__proto__")if(e.call(c,h)){if(n)return n(c,h).value}else return;return c[h]};return bc=function l(){var c,h,u,d,f,p,g=arguments[0],x=1,y=arguments.length,b=!1;for(typeof g=="boolean"&&(b=g,g=arguments[1]||{},x=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});x<y;++x)if(c=arguments[x],c!=null)for(h in c)u=o(g,h),d=o(c,h),g!==d&&(b&&d&&(s(d)||(f=i(d)))?(f?(f=!1,p=u&&i(u)?u:[]):p=u&&s(u)?u:{},a(g,{name:h,newValue:l(b,p,d)})):typeof d<"u"&&a(g,{name:h,newValue:d}));return g},bc}var OA=FA();const wc=Ou(OA);function xh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function PA(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const h=e[++s];let u=-1;if(l){a(l);return}for(;++u<i.length;)(c[u]===null||c[u]===void 0)&&(c[u]=i[u]);i=c,h?DA(h,o)(...c):a(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function DA(e,t){let r;return n;function n(...a){const o=e.length>a.length;let l;o&&a.push(i);try{l=e.apply(this,a)}catch(c){const h=c;if(o&&r)throw h;return i(h)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){r||(r=!0,t(a,...o))}function s(a){i(null,a)}}const gr={basename:NA,dirname:zA,extname:qA,join:WA,sep:"/"};function NA(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ca(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function zA(e){if(ca(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function qA(e){ca(e);let t=e.length,r=-1,n=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function WA(...e){let t=-1,r;for(;++t<e.length;)ca(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":HA(r)}function HA(e){ca(e);const t=e.codePointAt(0)===47;let r=jA(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function jA(e,t){let r="",n=0,i=-1,s=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function ca(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const UA={cwd:VA};function VA(){return"/"}function bh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function YA(e){if(typeof e=="string")e=new URL(e);else if(!bh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return GA(e)}function GA(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const _c=["history","path","basename","stem","extname","dirname"];class Xy{constructor(t){let r;t?bh(t)?r={path:t}:typeof t=="string"||XA(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":UA.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<_c.length;){const s=_c[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)_c.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?gr.basename(this.path):void 0}set basename(t){Cc(t,"basename"),kc(t,"basename"),this.path=gr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?gr.dirname(this.path):void 0}set dirname(t){Lp(this.basename,"dirname"),this.path=gr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?gr.extname(this.path):void 0}set extname(t){if(kc(t,"extname"),Lp(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){bh(t)&&(t=YA(t)),Cc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?gr.basename(this.path,this.extname):void 0}set stem(t){Cc(t,"stem"),kc(t,"stem"),this.path=gr.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new pe(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function kc(e,t){if(e&&e.includes(gr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+gr.sep+"`")}function Cc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Lp(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function XA(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const QA=(function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s}),KA={}.hasOwnProperty;class Ju extends QA{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=PA()}copy(){const t=new Ju;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(wc(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Tc("data",this.frozen),this.namespace[t]=r,this):KA.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Tc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Ra(t),n=this.parser||this.Parser;return Sc("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Sc("process",this.parser||this.Parser),vc("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=Ra(t),l=n.parse(o);n.run(l,o,function(h,u,d){if(h||!u||!d)return c(h);const f=u,p=n.stringify(f,d);tE(p)?d.value=p:d.result=p,c(h,d)});function c(h,u){h||!u?a(h):s?s(u):r(void 0,u)}}}processSync(t){let r=!1,n;return this.freeze(),Sc("processSync",this.parser||this.Parser),vc("processSync",this.compiler||this.Compiler),this.process(t,i),Bp("processSync","process",r),n;function i(s,a){r=!0,Ap(s),n=a}}run(t,r,n){Mp(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const l=Ra(r);i.run(t,l,c);function c(h,u,d){const f=u||t;h?o(h):a?a(f):n(void 0,f,d)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),Bp("runSync","run",n),i;function s(a,o){Ap(a),i=o,n=!0}}stringify(t,r){this.freeze();const n=Ra(r),i=this.compiler||this.Compiler;return vc("stringify",i),Mp(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(Tc("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...u]=c;l(h,u)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=wc(!0,i.settings,c.settings))}function o(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const u=c[h];s(u)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,h){let u=-1,d=-1;for(;++u<n.length;)if(n[u][0]===c){d=u;break}if(d===-1)n.push([c,...h]);else if(h.length>0){let[f,...p]=h;const g=n[d][1];xh(g)&&xh(f)&&(f=wc(!0,g,f)),n[d]=[c,f,...p]}}}}const JA=new Ju().freeze();function Sc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function vc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Tc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Mp(e){if(!xh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Bp(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ra(e){return ZA(e)?e:new Xy(e)}function ZA(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function tE(e){return typeof e=="string"||eE(e)}function eE(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const rE="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ip=[],Rp={allowDangerousHtml:!0},nE=/^(https?|ircs?|mailto|xmpp)$/i,iE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sE(e){const t=aE(e),[r,n]=Zt.useState(void 0),[i,s]=Zt.useState(void 0);if(Zt.useEffect(function(){let a=!1;const o=oE(e);return t.run(t.parse(o),o,function(l,c){a||(n(l),s(c))}),function(){a=!0}},[e.children,e.rehypePlugins,e.remarkPlugins,e.remarkRehypeOptions]),r)throw r;return i?lE(i,e):e.fallback}function aE(e){const t=e.rehypePlugins||Ip,r=e.remarkPlugins||Ip,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Rp}:Rp;return JA().use(zT).use(r).use($A,n).use(t)}function oE(e){const t=e.children||"",r=new Xy;return typeof t=="string"&&(r.value=t),r}function lE(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||cE;for(const h of iE)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+rE+h.id,void 0);return Ku(e,c),CS(e,{Fragment:wt.Fragment,components:i,ignoreInvalidStyle:!0,jsx:wt.jsx,jsxs:wt.jsxs,passKeys:!0,passNode:!0});function c(h,u,d){if(h.type==="raw"&&d&&typeof u=="number")return a?d.children.splice(u,1):d.children[u]={type:"text",value:h.value},u;if(h.type==="element"){let f;for(f in mc)if(Object.hasOwn(mc,f)&&Object.hasOwn(h.properties,f)){const p=h.properties[f],g=mc[f];(g===null||g.includes(h.tagName))&&(h.properties[f]=l(String(p||""),f,h))}}if(h.type==="element"){let f=r?!r.includes(h.tagName):s?s.includes(h.tagName):!1;if(!f&&n&&typeof u=="number"&&(f=!n(h,u,d)),f&&d&&typeof u=="number")return o&&h.children?d.children.splice(u,1,...h.children):d.children.splice(u,1),u}}}function cE(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||nE.test(e.slice(0,t))?e:""}const $p=/[#.]/g;function hE(e,t){const r=e||"",n={};let i=0,s,a;for(;i<r.length;){$p.lastIndex=i;const o=$p.exec(r),l=r.slice(i,o?o.index:r.length);l&&(s?s==="#"?n.id=l:Array.isArray(n.className)?n.className.push(l):n.className=[l]:a=l,i+=l.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:n,children:[]}}function Qy(e,t,r){const n=r?pE(r):void 0;function i(s,a,...o){let l;if(s==null){l={type:"root",children:[]};const c=a;o.unshift(c)}else{l=hE(s,t);const c=l.tagName.toLowerCase(),h=n?n.get(c):void 0;if(l.tagName=h||c,uE(a))o.unshift(a);else for(const[u,d]of Object.entries(a))fE(e,l.properties,u,d)}for(const c of o)wh(l.children,c);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function uE(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function fE(e,t,r,n){const i=_y(e,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=Ao(n):i.commaSeparated?s=Kd(n):i.commaOrSpaceSeparated?s=Ao(Kd(n).join(" ")):s=Fp(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?dE(n):String(n);if(Array.isArray(s)){const a=[];for(const o of s)a.push(Fp(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function wh(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)wh(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?wh(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Fp(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Ws(r)===Ws(t)))return!0}return r}function dE(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function pE(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const gE=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],mE=Qy(ky,"div"),yE=Qy(Sl,"g",gE),Ac={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function xE(e,t){return Ky(e,{})||{type:"root",children:[]}}function Ky(e,t){const r=bE(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}function bE(e,t){switch(e.nodeType){case 1:return CE(e,t);case 3:return _E(e);case 8:return kE(e);case 9:return Op(e,t);case 10:return wE();case 11:return Op(e,t);default:return}}function Op(e,t){return{type:"root",children:Jy(e,t)}}function wE(){return{type:"doctype"}}function _E(e){return{type:"text",value:e.nodeValue||""}}function kE(e){return{type:"comment",value:e.nodeValue||""}}function CE(e,t){const r=e.namespaceURI,n=r===Ac.svg?yE:mE,i=r===Ac.html?e.tagName.toLowerCase():e.tagName,s=r===Ac.html&&i==="template"?e.content:e,a=e.getAttributeNames(),o={};let l=-1;for(;++l<a.length;)o[a[l]]=e.getAttribute(a[l])||"";return n(i,o,Jy(s,t))}function Jy(e,t){const r=e.childNodes,n=[];let i=-1;for(;++i<r.length;){const s=Ky(r[i],t);s!==void 0&&n.push(s)}return n}new DOMParser;function SE(e,t){const r=vE(e);return xE(r)}function vE(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const Pp=(function(e,t,r){const n=la(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]}),zn=(function(e){if(e==null)return EE;if(typeof e=="string")return AE(e);if(typeof e=="object")return TE(e);if(typeof e=="function")return Zu(e);throw new Error("Expected function, string, or array as `test`")});function TE(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=zn(e[r]);return Zu(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function AE(e){return Zu(t);function t(r){return r.tagName===e}}function Zu(e){return t;function t(r,n,i){return!!(LE(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function EE(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function LE(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const Dp=/\n/g,Np=/[\t ]+/g,_h=zn("br"),zp=zn(PE),ME=zn("p"),qp=zn("tr"),BE=zn(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",OE,DE]),Zy=zn(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function IE(e,t){const r=t||{},n="children"in e?e.children:[],i=Zy(e),s=r0(e,{whitespace:r.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...e0(e,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)a.push(...t0(n[o],e,{whitespace:s,breakBefore:o?void 0:i,breakAfter:o<n.length-1?_h(n[o+1]):i}));const l=[];let c;for(o=-1;++o<a.length;){const h=a[o];typeof h=="number"?c!==void 0&&h>c&&(c=h):h&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(h))}return l.join("")}function t0(e,t,r){return e.type==="element"?RE(e,t,r):e.type==="text"?r.whitespace==="normal"?e0(e,r):$E(e):[]}function RE(e,t,r){const n=r0(e,r),i=e.children||[];let s=-1,a=[];if(BE(e))return a;let o,l;for(_h(e)||qp(e)&&Pp(t,e,qp)?l=`
`:ME(e)?(o=2,l=2):Zy(e)&&(o=1,l=1);++s<i.length;)a=a.concat(t0(i[s],e,{whitespace:n,breakBefore:s?void 0:o,breakAfter:s<i.length-1?_h(i[s+1]):l}));return zp(e)&&Pp(t,e,zp)&&a.push("	"),o&&a.unshift(o),l&&a.push(l),a}function e0(e,t){const r=String(e.value),n=[],i=[];let s=0;for(;s<=r.length;){Dp.lastIndex=s;const l=Dp.exec(r),c=l&&"index"in l?l.index:r.length;n.push(FE(r.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,c===r.length?t.breakAfter:!0)),s=c+1}let a=-1,o;for(;++a<n.length;)n[a].charCodeAt(n[a].length-1)===8203||a<n.length-1&&n[a+1].charCodeAt(0)===8203?(i.push(n[a]),o=void 0):n[a]?(typeof o=="number"&&i.push(o),i.push(n[a]),o=0):(a===0||a===n.length-1)&&i.push(0);return i}function $E(e){return[String(e.value)]}function FE(e,t,r){const n=[];let i=0,s;for(;i<e.length;){Np.lastIndex=i;const a=Np.exec(e);s=a?a.index:e.length,!i&&!s&&a&&!t&&n.push(""),i!==s&&n.push(e.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!r&&n.push(""),n.join(" ")}function r0(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function OE(e){return!!(e.properties||{}).hidden}function PE(e){return e.tagName==="td"||e.tagName==="th"}function DE(e){return e.tagName==="dialog"&&!(e.properties||{}).open}var Wp={name:"mermaid",version:"11.12.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},n0=Object.defineProperty,m=(e,t)=>n0(e,"name",{value:t,configurable:!0}),NE=(e,t)=>{for(var r in t)n0(e,r,{get:t[r],enumerable:!0})},Er={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},N={trace:m((...e)=>{},"trace"),debug:m((...e)=>{},"debug"),info:m((...e)=>{},"info"),warn:m((...e)=>{},"warn"),error:m((...e)=>{},"error"),fatal:m((...e)=>{},"fatal")},tf=m(function(e="fatal"){let t=Er.fatal;typeof e=="string"?e.toLowerCase()in Er&&(t=Er[e]):typeof e=="number"&&(t=e),N.trace=()=>{},N.debug=()=>{},N.info=()=>{},N.warn=()=>{},N.error=()=>{},N.fatal=()=>{},t<=Er.fatal&&(N.fatal=console.error?console.error.bind(console,Ve("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Ve("FATAL"))),t<=Er.error&&(N.error=console.error?console.error.bind(console,Ve("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Ve("ERROR"))),t<=Er.warn&&(N.warn=console.warn?console.warn.bind(console,Ve("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Ve("WARN"))),t<=Er.info&&(N.info=console.info?console.info.bind(console,Ve("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Ve("INFO"))),t<=Er.debug&&(N.debug=console.debug?console.debug.bind(console,Ve("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ve("DEBUG"))),t<=Er.trace&&(N.trace=console.debug?console.debug.bind(console,Ve("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ve("TRACE")))},"setLogLevel"),Ve=m(e=>`%c${R2().format("ss.SSS")} : ${e} : `,"format");const eo={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;switch(n){case"r":return eo.hue2rgb(s,i,e+1/3)*255;case"g":return eo.hue2rgb(s,i,e)*255;case"b":return eo.hue2rgb(s,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),s=Math.min(e,t,r),a=(i+s)/2;if(n==="l")return a*100;if(i===s)return 0;const o=i-s,l=a>.5?o/(2-i-s):o/(i+s);if(n==="s")return l*100;switch(i){case e:return((t-r)/o+(t<r?6:0))*60;case t:return((r-e)/o+2)*60;case r:return((e-t)/o+4)*60;default:return-1}}},zE={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},qE={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},ft={channel:eo,lang:zE,unit:qE},Qr={};for(let e=0;e<=255;e++)Qr[e]=ft.unit.dec2hex(e);const le={ALL:0,RGB:1,HSL:2};class WE{constructor(){this.type=le.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=le.ALL}is(t){return this.type===t}}class HE{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new WE}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=le.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=ft.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=ft.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=ft.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=ft.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=ft.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=ft.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(le.HSL)&&r!==void 0?r:(this._ensureHSL(),ft.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(le.HSL)&&r!==void 0?r:(this._ensureHSL(),ft.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(le.HSL)&&r!==void 0?r:(this._ensureHSL(),ft.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(le.RGB)&&r!==void 0?r:(this._ensureRGB(),ft.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(le.RGB)&&r!==void 0?r:(this._ensureRGB(),ft.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(le.RGB)&&r!==void 0?r:(this._ensureRGB(),ft.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(le.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(le.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(le.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(le.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(le.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(le.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Ll=new HE({r:0,g:0,b:0,a:0},"transparent"),pi={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(pi.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,s=i%4===0,a=i>4,o=a?1:17,l=a?8:4,c=s?0:-1,h=a?255:15;return Ll.set({r:(n>>l*(c+3)&h)*o,g:(n>>l*(c+2)&h)*o,b:(n>>l*(c+1)&h)*o,a:s?(n&h)*o/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${Qr[Math.round(t)]}${Qr[Math.round(r)]}${Qr[Math.round(n)]}${Qr[Math.round(i*255)]}`:`#${Qr[Math.round(t)]}${Qr[Math.round(r)]}${Qr[Math.round(n)]}`}},_n={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(_n.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return ft.channel.clamp.h(parseFloat(r)*.9);case"rad":return ft.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return ft.channel.clamp.h(parseFloat(r)*360)}}return ft.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(_n.re);if(!r)return;const[,n,i,s,a,o]=r;return Ll.set({h:_n._hue2deg(n),s:ft.channel.clamp.s(parseFloat(i)),l:ft.channel.clamp.l(parseFloat(s)),a:a?ft.channel.clamp.a(o?parseFloat(a)/100:parseFloat(a)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${ft.lang.round(t)}, ${ft.lang.round(r)}%, ${ft.lang.round(n)}%, ${i})`:`hsl(${ft.lang.round(t)}, ${ft.lang.round(r)}%, ${ft.lang.round(n)}%)`}},Rs={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Rs.colors[e];if(t)return pi.parse(t)},stringify:e=>{const t=pi.stringify(e);for(const r in Rs.colors)if(Rs.colors[r]===t)return r}},hs={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(hs.re);if(!r)return;const[,n,i,s,a,o,l,c,h]=r;return Ll.set({r:ft.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:ft.channel.clamp.g(a?parseFloat(s)*2.55:parseFloat(s)),b:ft.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:c?ft.channel.clamp.a(h?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${ft.lang.round(t)}, ${ft.lang.round(r)}, ${ft.lang.round(n)}, ${ft.lang.round(i)})`:`rgb(${ft.lang.round(t)}, ${ft.lang.round(r)}, ${ft.lang.round(n)})`}},br={format:{keyword:Rs,hex:pi,rgb:hs,rgba:hs,hsl:_n,hsla:_n},parse:e=>{if(typeof e!="string")return e;const t=pi.parse(e)||hs.parse(e)||_n.parse(e)||Rs.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(le.HSL)||e.data.r===void 0?_n.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?hs.stringify(e):pi.stringify(e)},i0=(e,t)=>{const r=br.parse(e);for(const n in t)r[n]=ft.channel.clamp[n](t[n]);return br.stringify(r)},$s=(e,t,r=0,n=1)=>{if(typeof e!="number")return i0(e,{a:t});const i=Ll.set({r:ft.channel.clamp.r(e),g:ft.channel.clamp.g(t),b:ft.channel.clamp.b(r),a:ft.channel.clamp.a(n)});return br.stringify(i)},jE=e=>{const{r:t,g:r,b:n}=br.parse(e),i=.2126*ft.channel.toLinear(t)+.7152*ft.channel.toLinear(r)+.0722*ft.channel.toLinear(n);return ft.lang.round(i)},UE=e=>jE(e)>=.5,ha=e=>!UE(e),s0=(e,t,r)=>{const n=br.parse(e),i=n[t],s=ft.channel.clamp[t](i+r);return i!==s&&(n[t]=s),br.stringify(n)},X=(e,t)=>s0(e,"l",t),nt=(e,t)=>s0(e,"l",-t),M=(e,t)=>{const r=br.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return i0(e,n)},VE=(e,t,r=50)=>{const{r:n,g:i,b:s,a}=br.parse(e),{r:o,g:l,b:c,a:h}=br.parse(t),u=r/100,d=u*2-1,f=a-h,g=((d*f===-1?d:(d+f)/(1+d*f))+1)/2,x=1-g,y=n*g+o*x,b=i*g+l*x,w=s*g+c*x,k=a*u+h*(1-u);return $s(y,b,w,k)},V=(e,t=100)=>{const r=br.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,VE(r,e,t)};/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:a0,setPrototypeOf:Hp,isFrozen:YE,getPrototypeOf:GE,getOwnPropertyDescriptor:XE}=Object;let{freeze:Ce,seal:Xe,create:o0}=Object,{apply:kh,construct:Ch}=typeof Reflect<"u"&&Reflect;Ce||(Ce=function(t){return t});Xe||(Xe=function(t){return t});kh||(kh=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return t.apply(r,i)});Ch||(Ch=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new t(...n)});const $a=Se(Array.prototype.forEach),QE=Se(Array.prototype.lastIndexOf),jp=Se(Array.prototype.pop),Ki=Se(Array.prototype.push),KE=Se(Array.prototype.splice),ro=Se(String.prototype.toLowerCase),Ec=Se(String.prototype.toString),Lc=Se(String.prototype.match),Ji=Se(String.prototype.replace),JE=Se(String.prototype.indexOf),ZE=Se(String.prototype.trim),tr=Se(Object.prototype.hasOwnProperty),ye=Se(RegExp.prototype.test),Zi=tL(TypeError);function Se(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return kh(e,t,n)}}function tL(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ch(e,r)}}function _t(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ro;Hp&&Hp(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const s=r(i);s!==i&&(YE(t)||(t[n]=s),i=s)}e[i]=!0}return e}function eL(e){for(let t=0;t<e.length;t++)tr(e,t)||(e[t]=null);return e}function Br(e){const t=o0(null);for(const[r,n]of a0(e))tr(e,r)&&(Array.isArray(n)?t[r]=eL(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Br(n):t[r]=n);return t}function ts(e,t){for(;e!==null;){const n=XE(e,t);if(n){if(n.get)return Se(n.get);if(typeof n.value=="function")return Se(n.value)}e=GE(e)}function r(){return null}return r}const Up=Ce(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Mc=Ce(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Bc=Ce(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rL=Ce(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ic=Ce(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),nL=Ce(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Vp=Ce(["#text"]),Yp=Ce(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Rc=Ce(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Gp=Ce(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fa=Ce(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),iL=Xe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sL=Xe(/<%[\w\W]*|[\w\W]*%>/gm),aL=Xe(/\$\{[\w\W]*/gm),oL=Xe(/^data-[\-\w.\u00B7-\uFFFF]+$/),lL=Xe(/^aria-[\-\w]+$/),l0=Xe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cL=Xe(/^(?:\w+script|data):/i),hL=Xe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),c0=Xe(/^html$/i),uL=Xe(/^[a-z][.\w]*(-[.\w]+)+$/i);var Xp=Object.freeze({__proto__:null,ARIA_ATTR:lL,ATTR_WHITESPACE:hL,CUSTOM_ELEMENT:uL,DATA_ATTR:oL,DOCTYPE_NAME:c0,ERB_EXPR:sL,IS_ALLOWED_URI:l0,IS_SCRIPT_OR_DATA:cL,MUSTACHE_EXPR:iL,TMPLIT_EXPR:aL});const es={element:1,text:3,progressingInstruction:7,comment:8,document:9},fL=function(){return typeof window>"u"?null:window},dL=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Qp=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function h0(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fL();const t=rt=>h0(rt);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==es.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:c,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:u,DOMParser:d,trustedTypes:f}=e,p=l.prototype,g=ts(p,"cloneNode"),x=ts(p,"remove"),y=ts(p,"nextSibling"),b=ts(p,"childNodes"),w=ts(p,"parentNode");if(typeof a=="function"){const rt=r.createElement("template");rt.content&&rt.content.ownerDocument&&(r=rt.content.ownerDocument)}let k,S="";const{implementation:_,createNodeIterator:A,createDocumentFragment:B,getElementsByTagName:F}=r,{importNode:v}=n;let L=Qp();t.isSupported=typeof a0=="function"&&typeof w=="function"&&_&&_.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:O,ERB_EXPR:R,TMPLIT_EXPR:I,DATA_ATTR:D,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:U,ATTR_WHITESPACE:Y,CUSTOM_ELEMENT:Tt}=Xp;let{IS_ALLOWED_URI:T}=Xp,pt=null;const gt=_t({},[...Up,...Mc,...Bc,...Ic,...Vp]);let C=null;const Rt=_t({},[...Yp,...Rc,...Gp,...Fa]);let mt=Object.seal(o0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),At=null,Qt=null,ve=!0,Je=!0,Oe=!1,hn=!0,jr=!1,Vn=!0,Sr=!1,Yn=!1,Gn=!1,vr=!1,Xn=!1,un=!1,ji=!0,Sa=!1;const cc="user-content-";let Ui=!0,fn=!1,Ur={},P=null;const j=_t({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let dt=null;const bt=_t({},["audio","video","img","source","image","track"]);let Et=null;const Te=_t({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),je="http://www.w3.org/1998/Math/MathML",Ae="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml";let Ue=me,te=!1,cr=null;const Ze=_t({},[je,Ae,me],Ec);let va=_t({},["mi","mo","mn","ms","mtext"]),Ta=_t({},["annotation-xml"]);const b2=_t({},["title","style","font","a","script"]);let Vi=null;const w2=["application/xhtml+xml","text/html"],_2="text/html";let Kt=null,Qn=null;const k2=r.createElement("form"),Bd=function(E){return E instanceof RegExp||E instanceof Function},hc=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Qn&&Qn===E)){if((!E||typeof E!="object")&&(E={}),E=Br(E),Vi=w2.indexOf(E.PARSER_MEDIA_TYPE)===-1?_2:E.PARSER_MEDIA_TYPE,Kt=Vi==="application/xhtml+xml"?Ec:ro,pt=tr(E,"ALLOWED_TAGS")?_t({},E.ALLOWED_TAGS,Kt):gt,C=tr(E,"ALLOWED_ATTR")?_t({},E.ALLOWED_ATTR,Kt):Rt,cr=tr(E,"ALLOWED_NAMESPACES")?_t({},E.ALLOWED_NAMESPACES,Ec):Ze,Et=tr(E,"ADD_URI_SAFE_ATTR")?_t(Br(Te),E.ADD_URI_SAFE_ATTR,Kt):Te,dt=tr(E,"ADD_DATA_URI_TAGS")?_t(Br(bt),E.ADD_DATA_URI_TAGS,Kt):bt,P=tr(E,"FORBID_CONTENTS")?_t({},E.FORBID_CONTENTS,Kt):j,At=tr(E,"FORBID_TAGS")?_t({},E.FORBID_TAGS,Kt):Br({}),Qt=tr(E,"FORBID_ATTR")?_t({},E.FORBID_ATTR,Kt):Br({}),Ur=tr(E,"USE_PROFILES")?E.USE_PROFILES:!1,ve=E.ALLOW_ARIA_ATTR!==!1,Je=E.ALLOW_DATA_ATTR!==!1,Oe=E.ALLOW_UNKNOWN_PROTOCOLS||!1,hn=E.ALLOW_SELF_CLOSE_IN_ATTR!==!1,jr=E.SAFE_FOR_TEMPLATES||!1,Vn=E.SAFE_FOR_XML!==!1,Sr=E.WHOLE_DOCUMENT||!1,vr=E.RETURN_DOM||!1,Xn=E.RETURN_DOM_FRAGMENT||!1,un=E.RETURN_TRUSTED_TYPE||!1,Gn=E.FORCE_BODY||!1,ji=E.SANITIZE_DOM!==!1,Sa=E.SANITIZE_NAMED_PROPS||!1,Ui=E.KEEP_CONTENT!==!1,fn=E.IN_PLACE||!1,T=E.ALLOWED_URI_REGEXP||l0,Ue=E.NAMESPACE||me,va=E.MATHML_TEXT_INTEGRATION_POINTS||va,Ta=E.HTML_INTEGRATION_POINTS||Ta,mt=E.CUSTOM_ELEMENT_HANDLING||{},E.CUSTOM_ELEMENT_HANDLING&&Bd(E.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(mt.tagNameCheck=E.CUSTOM_ELEMENT_HANDLING.tagNameCheck),E.CUSTOM_ELEMENT_HANDLING&&Bd(E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(mt.attributeNameCheck=E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),E.CUSTOM_ELEMENT_HANDLING&&typeof E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(mt.allowCustomizedBuiltInElements=E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),jr&&(Je=!1),Xn&&(vr=!0),Ur&&(pt=_t({},Vp),C=[],Ur.html===!0&&(_t(pt,Up),_t(C,Yp)),Ur.svg===!0&&(_t(pt,Mc),_t(C,Rc),_t(C,Fa)),Ur.svgFilters===!0&&(_t(pt,Bc),_t(C,Rc),_t(C,Fa)),Ur.mathMl===!0&&(_t(pt,Ic),_t(C,Gp),_t(C,Fa))),E.ADD_TAGS&&(pt===gt&&(pt=Br(pt)),_t(pt,E.ADD_TAGS,Kt)),E.ADD_ATTR&&(C===Rt&&(C=Br(C)),_t(C,E.ADD_ATTR,Kt)),E.ADD_URI_SAFE_ATTR&&_t(Et,E.ADD_URI_SAFE_ATTR,Kt),E.FORBID_CONTENTS&&(P===j&&(P=Br(P)),_t(P,E.FORBID_CONTENTS,Kt)),Ui&&(pt["#text"]=!0),Sr&&_t(pt,["html","head","body"]),pt.table&&(_t(pt,["tbody"]),delete At.tbody),E.TRUSTED_TYPES_POLICY){if(typeof E.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zi('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof E.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zi('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=E.TRUSTED_TYPES_POLICY,S=k.createHTML("")}else k===void 0&&(k=dL(f,i)),k!==null&&typeof S=="string"&&(S=k.createHTML(""));Ce&&Ce(E),Qn=E}},Id=_t({},[...Mc,...Bc,...rL]),Rd=_t({},[...Ic,...nL]),C2=function(E){let W=w(E);(!W||!W.tagName)&&(W={namespaceURI:Ue,tagName:"template"});const tt=ro(E.tagName),Pt=ro(W.tagName);return cr[E.namespaceURI]?E.namespaceURI===Ae?W.namespaceURI===me?tt==="svg":W.namespaceURI===je?tt==="svg"&&(Pt==="annotation-xml"||va[Pt]):!!Id[tt]:E.namespaceURI===je?W.namespaceURI===me?tt==="math":W.namespaceURI===Ae?tt==="math"&&Ta[Pt]:!!Rd[tt]:E.namespaceURI===me?W.namespaceURI===Ae&&!Ta[Pt]||W.namespaceURI===je&&!va[Pt]?!1:!Rd[tt]&&(b2[tt]||!Id[tt]):!!(Vi==="application/xhtml+xml"&&cr[E.namespaceURI]):!1},hr=function(E){Ki(t.removed,{element:E});try{w(E).removeChild(E)}catch{x(E)}},dn=function(E,W){try{Ki(t.removed,{attribute:W.getAttributeNode(E),from:W})}catch{Ki(t.removed,{attribute:null,from:W})}if(W.removeAttribute(E),E==="is")if(vr||Xn)try{hr(W)}catch{}else try{W.setAttribute(E,"")}catch{}},$d=function(E){let W=null,tt=null;if(Gn)E="<remove></remove>"+E;else{const zt=Lc(E,/^[\r\n\t ]+/);tt=zt&&zt[0]}Vi==="application/xhtml+xml"&&Ue===me&&(E='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+E+"</body></html>");const Pt=k?k.createHTML(E):E;if(Ue===me)try{W=new d().parseFromString(Pt,Vi)}catch{}if(!W||!W.documentElement){W=_.createDocument(Ue,"template",null);try{W.documentElement.innerHTML=te?S:Pt}catch{}}const oe=W.body||W.documentElement;return E&&tt&&oe.insertBefore(r.createTextNode(tt),oe.childNodes[0]||null),Ue===me?F.call(W,Sr?"html":"body")[0]:Sr?W.documentElement:oe},Fd=function(E){return A.call(E.ownerDocument||E,E,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},uc=function(E){return E instanceof u&&(typeof E.nodeName!="string"||typeof E.textContent!="string"||typeof E.removeChild!="function"||!(E.attributes instanceof h)||typeof E.removeAttribute!="function"||typeof E.setAttribute!="function"||typeof E.namespaceURI!="string"||typeof E.insertBefore!="function"||typeof E.hasChildNodes!="function")},Od=function(E){return typeof o=="function"&&E instanceof o};function Tr(rt,E,W){$a(rt,tt=>{tt.call(t,E,W,Qn)})}const Pd=function(E){let W=null;if(Tr(L.beforeSanitizeElements,E,null),uc(E))return hr(E),!0;const tt=Kt(E.nodeName);if(Tr(L.uponSanitizeElement,E,{tagName:tt,allowedTags:pt}),Vn&&E.hasChildNodes()&&!Od(E.firstElementChild)&&ye(/<[/\w!]/g,E.innerHTML)&&ye(/<[/\w!]/g,E.textContent)||E.nodeType===es.progressingInstruction||Vn&&E.nodeType===es.comment&&ye(/<[/\w]/g,E.data))return hr(E),!0;if(!pt[tt]||At[tt]){if(!At[tt]&&Nd(tt)&&(mt.tagNameCheck instanceof RegExp&&ye(mt.tagNameCheck,tt)||mt.tagNameCheck instanceof Function&&mt.tagNameCheck(tt)))return!1;if(Ui&&!P[tt]){const Pt=w(E)||E.parentNode,oe=b(E)||E.childNodes;if(oe&&Pt){const zt=oe.length;for(let Ee=zt-1;Ee>=0;--Ee){const Ar=g(oe[Ee],!0);Ar.__removalCount=(E.__removalCount||0)+1,Pt.insertBefore(Ar,y(E))}}}return hr(E),!0}return E instanceof l&&!C2(E)||(tt==="noscript"||tt==="noembed"||tt==="noframes")&&ye(/<\/no(script|embed|frames)/i,E.innerHTML)?(hr(E),!0):(jr&&E.nodeType===es.text&&(W=E.textContent,$a([O,R,I],Pt=>{W=Ji(W,Pt," ")}),E.textContent!==W&&(Ki(t.removed,{element:E.cloneNode()}),E.textContent=W)),Tr(L.afterSanitizeElements,E,null),!1)},Dd=function(E,W,tt){if(ji&&(W==="id"||W==="name")&&(tt in r||tt in k2))return!1;if(!(Je&&!Qt[W]&&ye(D,W))){if(!(ve&&ye(z,W))){if(!C[W]||Qt[W]){if(!(Nd(E)&&(mt.tagNameCheck instanceof RegExp&&ye(mt.tagNameCheck,E)||mt.tagNameCheck instanceof Function&&mt.tagNameCheck(E))&&(mt.attributeNameCheck instanceof RegExp&&ye(mt.attributeNameCheck,W)||mt.attributeNameCheck instanceof Function&&mt.attributeNameCheck(W,E))||W==="is"&&mt.allowCustomizedBuiltInElements&&(mt.tagNameCheck instanceof RegExp&&ye(mt.tagNameCheck,tt)||mt.tagNameCheck instanceof Function&&mt.tagNameCheck(tt))))return!1}else if(!Et[W]){if(!ye(T,Ji(tt,Y,""))){if(!((W==="src"||W==="xlink:href"||W==="href")&&E!=="script"&&JE(tt,"data:")===0&&dt[E])){if(!(Oe&&!ye(U,Ji(tt,Y,"")))){if(tt)return!1}}}}}}return!0},Nd=function(E){return E!=="annotation-xml"&&Lc(E,Tt)},zd=function(E){Tr(L.beforeSanitizeAttributes,E,null);const{attributes:W}=E;if(!W||uc(E))return;const tt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:C,forceKeepAttr:void 0};let Pt=W.length;for(;Pt--;){const oe=W[Pt],{name:zt,namespaceURI:Ee,value:Ar}=oe,Kn=Kt(zt),fc=Ar;let ee=zt==="value"?fc:ZE(fc);if(tt.attrName=Kn,tt.attrValue=ee,tt.keepAttr=!0,tt.forceKeepAttr=void 0,Tr(L.uponSanitizeAttribute,E,tt),ee=tt.attrValue,Sa&&(Kn==="id"||Kn==="name")&&(dn(zt,E),ee=cc+ee),Vn&&ye(/((--!?|])>)|<\/(style|title|textarea)/i,ee)){dn(zt,E);continue}if(Kn==="attributename"&&Lc(ee,"href")){dn(zt,E);continue}if(tt.forceKeepAttr)continue;if(!tt.keepAttr){dn(zt,E);continue}if(!hn&&ye(/\/>/i,ee)){dn(zt,E);continue}jr&&$a([O,R,I],Wd=>{ee=Ji(ee,Wd," ")});const qd=Kt(E.nodeName);if(!Dd(qd,Kn,ee)){dn(zt,E);continue}if(k&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Ee)switch(f.getAttributeType(qd,Kn)){case"TrustedHTML":{ee=k.createHTML(ee);break}case"TrustedScriptURL":{ee=k.createScriptURL(ee);break}}if(ee!==fc)try{Ee?E.setAttributeNS(Ee,zt,ee):E.setAttribute(zt,ee),uc(E)?hr(E):jp(t.removed)}catch{dn(zt,E)}}Tr(L.afterSanitizeAttributes,E,null)},S2=function rt(E){let W=null;const tt=Fd(E);for(Tr(L.beforeSanitizeShadowDOM,E,null);W=tt.nextNode();)Tr(L.uponSanitizeShadowNode,W,null),Pd(W),zd(W),W.content instanceof s&&rt(W.content);Tr(L.afterSanitizeShadowDOM,E,null)};return t.sanitize=function(rt){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=null,tt=null,Pt=null,oe=null;if(te=!rt,te&&(rt="<!-->"),typeof rt!="string"&&!Od(rt))if(typeof rt.toString=="function"){if(rt=rt.toString(),typeof rt!="string")throw Zi("dirty is not a string, aborting")}else throw Zi("toString is not a function");if(!t.isSupported)return rt;if(Yn||hc(E),t.removed=[],typeof rt=="string"&&(fn=!1),fn){if(rt.nodeName){const Ar=Kt(rt.nodeName);if(!pt[Ar]||At[Ar])throw Zi("root node is forbidden and cannot be sanitized in-place")}}else if(rt instanceof o)W=$d("<!---->"),tt=W.ownerDocument.importNode(rt,!0),tt.nodeType===es.element&&tt.nodeName==="BODY"||tt.nodeName==="HTML"?W=tt:W.appendChild(tt);else{if(!vr&&!jr&&!Sr&&rt.indexOf("<")===-1)return k&&un?k.createHTML(rt):rt;if(W=$d(rt),!W)return vr?null:un?S:""}W&&Gn&&hr(W.firstChild);const zt=Fd(fn?rt:W);for(;Pt=zt.nextNode();)Pd(Pt),zd(Pt),Pt.content instanceof s&&S2(Pt.content);if(fn)return rt;if(vr){if(Xn)for(oe=B.call(W.ownerDocument);W.firstChild;)oe.appendChild(W.firstChild);else oe=W;return(C.shadowroot||C.shadowrootmode)&&(oe=v.call(n,oe,!0)),oe}let Ee=Sr?W.outerHTML:W.innerHTML;return Sr&&pt["!doctype"]&&W.ownerDocument&&W.ownerDocument.doctype&&W.ownerDocument.doctype.name&&ye(c0,W.ownerDocument.doctype.name)&&(Ee="<!DOCTYPE "+W.ownerDocument.doctype.name+`>
`+Ee),jr&&$a([O,R,I],Ar=>{Ee=Ji(Ee,Ar," ")}),k&&un?k.createHTML(Ee):Ee},t.setConfig=function(){let rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hc(rt),Yn=!0},t.clearConfig=function(){Qn=null,Yn=!1},t.isValidAttribute=function(rt,E,W){Qn||hc({});const tt=Kt(rt),Pt=Kt(E);return Dd(tt,Pt,W)},t.addHook=function(rt,E){typeof E=="function"&&Ki(L[rt],E)},t.removeHook=function(rt,E){if(E!==void 0){const W=QE(L[rt],E);return W===-1?void 0:KE(L[rt],W,1)[0]}return jp(L[rt])},t.removeHooks=function(rt){L[rt]=[]},t.removeAllHooks=function(){L=Qp()},t}var Ti=h0(),u0=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Fs=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,pL=/\s*%%.*\n/gm,yi,f0=(yi=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},m(yi,"UnknownDiagramError"),yi),Bn={},ef=m(function(e,t){e=e.replace(u0,"").replace(Fs,"").replace(pL,`
`);for(const[r,{detector:n}]of Object.entries(Bn))if(n(e,t))return r;throw new f0(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Sh=m((...e)=>{for(const{id:t,detector:r,loader:n}of e)d0(t,r,n)},"registerLazyLoadedDiagrams"),d0=m((e,t,r)=>{Bn[e]&&N.warn(`Detector with key ${e} already exists. Overwriting.`),Bn[e]={detector:t,loader:r},N.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),gL=m(e=>Bn[e].loader,"getDiagramLoader"),vh=m((e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>vh(e,s,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.includes(s)||e.push(s)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=vh(e[s],t[s],{depth:r-1,clobber:n})):(n||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),Yt=vh,Ml="#ffffff",Bl="#f2f2f2",we=m((e,t)=>t?M(e,{s:-40,l:10}):M(e,{s:-40,l:-10}),"mkBorder"),xi,mL=(xi=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||M(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||M(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||we(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||we(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||we(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||we(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||V(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||V(this.tertiaryColor),this.lineColor=this.lineColor||V(this.background),this.arrowheadColor=this.arrowheadColor||V(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?nt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||nt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||V(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||X(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||nt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||nt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||X(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||X(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||M(this.primaryColor,{h:30}),this.cScale4=this.cScale4||M(this.primaryColor,{h:60}),this.cScale5=this.cScale5||M(this.primaryColor,{h:90}),this.cScale6=this.cScale6||M(this.primaryColor,{h:120}),this.cScale7=this.cScale7||M(this.primaryColor,{h:150}),this.cScale8=this.cScale8||M(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||M(this.primaryColor,{h:270}),this.cScale10=this.cScale10||M(this.primaryColor,{h:300}),this.cScale11=this.cScale11||M(this.primaryColor,{h:330}),this.darkMode)for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=nt(this["cScale"+r],75);else for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=nt(this["cScale"+r],25);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleInv"+r]=this["cScaleInv"+r]||V(this["cScale"+r]);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this.darkMode?this["cScalePeer"+r]=this["cScalePeer"+r]||X(this["cScale"+r],10):this["cScalePeer"+r]=this["cScalePeer"+r]||nt(this["cScale"+r],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleLabel"+r]=this["cScaleLabel"+r]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let r=0;r<5;r++)this["surface"+r]=this["surface"+r]||M(this.mainBkg,{h:180,s:-15,l:t*(5+r*3)}),this["surfacePeer"+r]=this["surfacePeer"+r]||M(this.mainBkg,{h:180,s:-15,l:t*(8+r*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||M(this.primaryColor,{h:64}),this.fillType3=this.fillType3||M(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||M(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||M(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||M(this.primaryColor,{h:128}),this.fillType7=this.fillType7||M(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||M(this.primaryColor,{l:-10}),this.pie5=this.pie5||M(this.secondaryColor,{l:-10}),this.pie6=this.pie6||M(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||M(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||M(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||M(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||M(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||M(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||M(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||M(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||M(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||M(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||M(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||M(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||M(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ha(this.quadrant1Fill)?X(this.quadrant1Fill):nt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?nt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||M(this.primaryColor,{h:-30}),this.git4=this.git4||M(this.primaryColor,{h:-60}),this.git5=this.git5||M(this.primaryColor,{h:-90}),this.git6=this.git6||M(this.primaryColor,{h:60}),this.git7=this.git7||M(this.primaryColor,{h:120}),this.darkMode?(this.git0=X(this.git0,25),this.git1=X(this.git1,25),this.git2=X(this.git2,25),this.git3=X(this.git3,25),this.git4=X(this.git4,25),this.git5=X(this.git5,25),this.git6=X(this.git6,25),this.git7=X(this.git7,25)):(this.git0=nt(this.git0,25),this.git1=nt(this.git1,25),this.git2=nt(this.git2,25),this.git3=nt(this.git3,25),this.git4=nt(this.git4,25),this.git5=nt(this.git5,25),this.git6=nt(this.git6,25),this.git7=nt(this.git7,25)),this.gitInv0=this.gitInv0||V(this.git0),this.gitInv1=this.gitInv1||V(this.git1),this.gitInv2=this.gitInv2||V(this.git2),this.gitInv3=this.gitInv3||V(this.git3),this.gitInv4=this.gitInv4||V(this.git4),this.gitInv5=this.gitInv5||V(this.git5),this.gitInv6=this.gitInv6||V(this.git6),this.gitInv7=this.gitInv7||V(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ml,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Bl}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},m(xi,"Theme"),xi),yL=m(e=>{const t=new mL;return t.calculate(e),t},"getThemeVariables"),bi,xL=(bi=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=X(this.primaryColor,16),this.tertiaryColor=M(this.primaryColor,{h:-160}),this.primaryBorderColor=V(this.background),this.secondaryBorderColor=we(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=we(this.tertiaryColor,this.darkMode),this.primaryTextColor=V(this.primaryColor),this.secondaryTextColor=V(this.secondaryColor),this.tertiaryTextColor=V(this.tertiaryColor),this.lineColor=V(this.background),this.textColor=V(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=X(V("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=$s(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=nt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=nt(this.sectionBkgColor,10),this.taskBorderColor=$s(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=$s(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||X(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||nt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=X(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=X(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=X(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=M(this.primaryColor,{h:64}),this.fillType3=M(this.secondaryColor,{h:64}),this.fillType4=M(this.primaryColor,{h:-64}),this.fillType5=M(this.secondaryColor,{h:-64}),this.fillType6=M(this.primaryColor,{h:128}),this.fillType7=M(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||M(this.primaryColor,{h:30}),this.cScale4=this.cScale4||M(this.primaryColor,{h:60}),this.cScale5=this.cScale5||M(this.primaryColor,{h:90}),this.cScale6=this.cScale6||M(this.primaryColor,{h:120}),this.cScale7=this.cScale7||M(this.primaryColor,{h:150}),this.cScale8=this.cScale8||M(this.primaryColor,{h:210}),this.cScale9=this.cScale9||M(this.primaryColor,{h:270}),this.cScale10=this.cScale10||M(this.primaryColor,{h:300}),this.cScale11=this.cScale11||M(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||V(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||X(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||M(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||M(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||M(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||M(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||M(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||M(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||M(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||M(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ha(this.quadrant1Fill)?X(this.quadrant1Fill):nt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?nt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=X(this.secondaryColor,20),this.git1=X(this.pie2||this.secondaryColor,20),this.git2=X(this.pie3||this.tertiaryColor,20),this.git3=X(this.pie4||M(this.primaryColor,{h:-30}),20),this.git4=X(this.pie5||M(this.primaryColor,{h:-60}),20),this.git5=X(this.pie6||M(this.primaryColor,{h:-90}),10),this.git6=X(this.pie7||M(this.primaryColor,{h:60}),10),this.git7=X(this.pie8||M(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||V(this.git0),this.gitInv1=this.gitInv1||V(this.git1),this.gitInv2=this.gitInv2||V(this.git2),this.gitInv3=this.gitInv3||V(this.git3),this.gitInv4=this.gitInv4||V(this.git4),this.gitInv5=this.gitInv5||V(this.git5),this.gitInv6=this.gitInv6||V(this.git6),this.gitInv7=this.gitInv7||V(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||V(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||V(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||X(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||X(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},m(bi,"Theme"),bi),bL=m(e=>{const t=new xL;return t.calculate(e),t},"getThemeVariables"),wi,wL=(wi=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=M(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=M(this.primaryColor,{h:-160}),this.primaryBorderColor=we(this.primaryColor,this.darkMode),this.secondaryBorderColor=we(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=we(this.tertiaryColor,this.darkMode),this.primaryTextColor=V(this.primaryColor),this.secondaryTextColor=V(this.secondaryColor),this.tertiaryTextColor=V(this.tertiaryColor),this.lineColor=V(this.background),this.textColor=V(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=$s(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||M(this.primaryColor,{h:30}),this.cScale4=this.cScale4||M(this.primaryColor,{h:60}),this.cScale5=this.cScale5||M(this.primaryColor,{h:90}),this.cScale6=this.cScale6||M(this.primaryColor,{h:120}),this.cScale7=this.cScale7||M(this.primaryColor,{h:150}),this.cScale8=this.cScale8||M(this.primaryColor,{h:210}),this.cScale9=this.cScale9||M(this.primaryColor,{h:270}),this.cScale10=this.cScale10||M(this.primaryColor,{h:300}),this.cScale11=this.cScale11||M(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||nt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||nt(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=nt(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||nt(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||M(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||M(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||M(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||V(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||V(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=X(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||X(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||X(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=M(this.primaryColor,{h:64}),this.fillType3=M(this.secondaryColor,{h:64}),this.fillType4=M(this.primaryColor,{h:-64}),this.fillType5=M(this.secondaryColor,{h:-64}),this.fillType6=M(this.primaryColor,{h:128}),this.fillType7=M(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||M(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||M(this.primaryColor,{l:-10}),this.pie5=this.pie5||M(this.secondaryColor,{l:-30}),this.pie6=this.pie6||M(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||M(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||M(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||M(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||M(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||M(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||M(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||M(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||M(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||M(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||M(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||M(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||M(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ha(this.quadrant1Fill)?X(this.quadrant1Fill):nt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||M(this.primaryColor,{h:-30}),this.git4=this.git4||M(this.primaryColor,{h:-60}),this.git5=this.git5||M(this.primaryColor,{h:-90}),this.git6=this.git6||M(this.primaryColor,{h:60}),this.git7=this.git7||M(this.primaryColor,{h:120}),this.darkMode?(this.git0=X(this.git0,25),this.git1=X(this.git1,25),this.git2=X(this.git2,25),this.git3=X(this.git3,25),this.git4=X(this.git4,25),this.git5=X(this.git5,25),this.git6=X(this.git6,25),this.git7=X(this.git7,25)):(this.git0=nt(this.git0,25),this.git1=nt(this.git1,25),this.git2=nt(this.git2,25),this.git3=nt(this.git3,25),this.git4=nt(this.git4,25),this.git5=nt(this.git5,25),this.git6=nt(this.git6,25),this.git7=nt(this.git7,25)),this.gitInv0=this.gitInv0||nt(V(this.git0),25),this.gitInv1=this.gitInv1||V(this.git1),this.gitInv2=this.gitInv2||V(this.git2),this.gitInv3=this.gitInv3||V(this.git3),this.gitInv4=this.gitInv4||V(this.git4),this.gitInv5=this.gitInv5||V(this.git5),this.gitInv6=this.gitInv6||V(this.git6),this.gitInv7=this.gitInv7||V(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||V(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||V(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ml,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Bl}calculate(t){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},m(wi,"Theme"),wi),_L=m(e=>{const t=new wL;return t.calculate(e),t},"getThemeVariables"),_i,kL=(_i=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=X("#cde498",10),this.primaryBorderColor=we(this.primaryColor,this.darkMode),this.secondaryBorderColor=we(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=we(this.tertiaryColor,this.darkMode),this.primaryTextColor=V(this.primaryColor),this.secondaryTextColor=V(this.secondaryColor),this.tertiaryTextColor=V(this.primaryColor),this.lineColor=V(this.background),this.textColor=V(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=nt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||M(this.primaryColor,{h:30}),this.cScale4=this.cScale4||M(this.primaryColor,{h:60}),this.cScale5=this.cScale5||M(this.primaryColor,{h:90}),this.cScale6=this.cScale6||M(this.primaryColor,{h:120}),this.cScale7=this.cScale7||M(this.primaryColor,{h:150}),this.cScale8=this.cScale8||M(this.primaryColor,{h:210}),this.cScale9=this.cScale9||M(this.primaryColor,{h:270}),this.cScale10=this.cScale10||M(this.primaryColor,{h:300}),this.cScale11=this.cScale11||M(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||nt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||nt(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=nt(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||nt(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||M(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||M(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||M(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||X(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||X(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=M(this.primaryColor,{h:64}),this.fillType3=M(this.secondaryColor,{h:64}),this.fillType4=M(this.primaryColor,{h:-64}),this.fillType5=M(this.secondaryColor,{h:-64}),this.fillType6=M(this.primaryColor,{h:128}),this.fillType7=M(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||M(this.primaryColor,{l:-30}),this.pie5=this.pie5||M(this.secondaryColor,{l:-30}),this.pie6=this.pie6||M(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||M(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||M(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||M(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||M(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||M(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||M(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||M(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||M(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||M(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||M(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||M(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||M(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ha(this.quadrant1Fill)?X(this.quadrant1Fill):nt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||M(this.primaryColor,{h:-30}),this.git4=this.git4||M(this.primaryColor,{h:-60}),this.git5=this.git5||M(this.primaryColor,{h:-90}),this.git6=this.git6||M(this.primaryColor,{h:60}),this.git7=this.git7||M(this.primaryColor,{h:120}),this.darkMode?(this.git0=X(this.git0,25),this.git1=X(this.git1,25),this.git2=X(this.git2,25),this.git3=X(this.git3,25),this.git4=X(this.git4,25),this.git5=X(this.git5,25),this.git6=X(this.git6,25),this.git7=X(this.git7,25)):(this.git0=nt(this.git0,25),this.git1=nt(this.git1,25),this.git2=nt(this.git2,25),this.git3=nt(this.git3,25),this.git4=nt(this.git4,25),this.git5=nt(this.git5,25),this.git6=nt(this.git6,25),this.git7=nt(this.git7,25)),this.gitInv0=this.gitInv0||V(this.git0),this.gitInv1=this.gitInv1||V(this.git1),this.gitInv2=this.gitInv2||V(this.git2),this.gitInv3=this.gitInv3||V(this.git3),this.gitInv4=this.gitInv4||V(this.git4),this.gitInv5=this.gitInv5||V(this.git5),this.gitInv6=this.gitInv6||V(this.git6),this.gitInv7=this.gitInv7||V(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||V(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||V(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ml,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Bl}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},m(_i,"Theme"),_i),CL=m(e=>{const t=new kL;return t.calculate(e),t},"getThemeVariables"),ki,SL=(ki=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=X(this.contrast,55),this.background="#ffffff",this.tertiaryColor=M(this.primaryColor,{h:-160}),this.primaryBorderColor=we(this.primaryColor,this.darkMode),this.secondaryBorderColor=we(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=we(this.tertiaryColor,this.darkMode),this.primaryTextColor=V(this.primaryColor),this.secondaryTextColor=V(this.secondaryColor),this.tertiaryTextColor=V(this.tertiaryColor),this.lineColor=V(this.background),this.textColor=V(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||X(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=X(this.contrast,55),this.border2=this.contrast,this.actorBorder=X(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||V(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||X(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||nt(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||M(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||M(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=X(this.contrast,30),this.sectionBkgColor2=X(this.contrast,30),this.taskBorderColor=nt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=X(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=nt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=M(this.primaryColor,{h:64}),this.fillType3=M(this.secondaryColor,{h:64}),this.fillType4=M(this.primaryColor,{h:-64}),this.fillType5=M(this.secondaryColor,{h:-64}),this.fillType6=M(this.primaryColor,{h:128}),this.fillType7=M(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||M(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||M(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||M(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||M(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||M(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||M(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ha(this.quadrant1Fill)?X(this.quadrant1Fill):nt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=nt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||M(this.primaryColor,{h:-30}),this.git4=this.pie5||M(this.primaryColor,{h:-60}),this.git5=this.pie6||M(this.primaryColor,{h:-90}),this.git6=this.pie7||M(this.primaryColor,{h:60}),this.git7=this.pie8||M(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||V(this.git0),this.gitInv1=this.gitInv1||V(this.git1),this.gitInv2=this.gitInv2||V(this.git2),this.gitInv3=this.gitInv3||V(this.git3),this.gitInv4=this.gitInv4||V(this.git4),this.gitInv5=this.gitInv5||V(this.git5),this.gitInv6=this.gitInv6||V(this.git6),this.gitInv7=this.gitInv7||V(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ml,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Bl}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},m(ki,"Theme"),ki),vL=m(e=>{const t=new SL;return t.calculate(e),t},"getThemeVariables"),Pr={base:{getThemeVariables:yL},dark:{getThemeVariables:bL},default:{getThemeVariables:_L},forest:{getThemeVariables:CL},neutral:{getThemeVariables:vL}},ur={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},p0={...ur,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Pr.default.getThemeVariables(),sequence:{...ur.sequence,messageFont:m(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:m(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:m(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...ur.gantt,tickInterval:void 0,useWidth:void 0},c4:{...ur.c4,useWidth:void 0,personFont:m(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...ur.flowchart,inheritDir:!1},external_personFont:m(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:m(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:m(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:m(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:m(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:m(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:m(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:m(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:m(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:m(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:m(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:m(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:m(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:m(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:m(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:m(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:m(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:m(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:m(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:m(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:m(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...ur.pie,useWidth:984},xyChart:{...ur.xyChart,useWidth:void 0},requirement:{...ur.requirement,useWidth:void 0},packet:{...ur.packet},radar:{...ur.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},g0=m((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...g0(e[n],"")]:[...r,t+n],[]),"keyify"),TL=new Set(g0(p0,"")),m0=p0,Bo=m(e=>{if(N.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Bo(t));return}for(const t of Object.keys(e)){if(N.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!TL.has(t)||e[t]==null){N.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){N.debug("sanitizing object",t),Bo(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(N.debug("sanitizing css option",t),e[t]=AL(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}N.debug("After sanitization",e)}},"sanitizeDirective"),AL=m(e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),Ai=Object.freeze(m0),Ie=Yt({},Ai),Io,In=[],Os=Yt({},Ai),Il=m((e,t)=>{let r=Yt({},e),n={};for(const i of t)b0(i),n=Yt(n,i);if(r=Yt(r,n),n.theme&&n.theme in Pr){const i=Yt({},Io),s=Yt(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Pr&&(r.themeVariables=Pr[r.theme].getThemeVariables(s))}return Os=r,w0(Os),Os},"updateCurrentConfig"),EL=m(e=>(Ie=Yt({},Ai),Ie=Yt(Ie,e),e.theme&&Pr[e.theme]&&(Ie.themeVariables=Pr[e.theme].getThemeVariables(e.themeVariables)),Il(Ie,In),Ie),"setSiteConfig"),LL=m(e=>{Io=Yt({},e)},"saveConfigFromInitialize"),ML=m(e=>(Ie=Yt(Ie,e),Il(Ie,In),Ie),"updateSiteConfig"),y0=m(()=>Yt({},Ie),"getSiteConfig"),x0=m(e=>(w0(e),Yt(Os,e),ue()),"setConfig"),ue=m(()=>Yt({},Os),"getConfig"),b0=m(e=>{e&&(["secure",...Ie.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(N.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&b0(e[t])}))},"sanitize"),BL=m(e=>{Bo(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),In.push(e),Il(Ie,In)},"addDirective"),Ro=m((e=Ie)=>{In=[],Il(e,In)},"reset"),IL={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Kp={},RL=m(e=>{Kp[e]||(N.warn(IL[e]),Kp[e]=!0)},"issueWarning"),w0=m(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&RL("LAZY_LOAD_DEPRECATED")},"checkConfig"),wq=m(()=>{let e={};Io&&(e=Yt(e,Io));for(const t of In)e=Yt(e,t);return e},"getUserDefinedConfig"),ua=/<br\s*\/?>/gi,$L=m(e=>e?C0(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),FL=(()=>{let e=!1;return()=>{e||(_0(),e=!0)}})();function _0(){const e="data-temp-href-target";Ti.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Ti.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}m(_0,"setupDompurifyHooks");var k0=m(e=>(FL(),Ti.sanitize(e)),"removeScript"),Jp=m((e,t)=>{if(t.flowchart?.htmlLabels!==!1){const r=t.securityLevel;r==="antiscript"||r==="strict"?e=k0(e):r!=="loose"&&(e=C0(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=NL(e))}return e},"sanitizeMore"),Qe=m((e,t)=>e&&(t.dompurifyConfig?e=Ti.sanitize(Jp(e,t),t.dompurifyConfig).toString():e=Ti.sanitize(Jp(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),OL=m((e,t)=>typeof e=="string"?Qe(e,t):e.flat().map(r=>Qe(r,t)),"sanitizeTextOrArray"),PL=m(e=>ua.test(e),"hasBreaks"),DL=m(e=>e.split(ua),"splitBreaks"),NL=m(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),C0=m(e=>e.replace(ua,"#br#"),"breakToPlaceholder"),zL=m(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),Xt=m(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),qL=m(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),WL=m(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),Zp=m(function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){const s=t[n-1],a=t[n+1];HL(s,a)&&(i=s+","+a,n++,r.pop())}r.push(jL(i))}return r.join("")},"parseGenericTypes"),Th=m((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),HL=m((e,t)=>{const r=Th(e,"~"),n=Th(t,"~");return r===1&&n===1},"shouldCombineSets"),jL=m(e=>{const t=Th(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),s=n.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)n[i]="<",n[s]=">",i=n.indexOf("~"),s=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),tg=m(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Ah=/\$\$(.*)\$\$/g,Ei=m(e=>(e.match(Ah)?.length??0)>0,"hasKatex"),_q=m(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await rf(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),UL=m(async(e,t)=>{if(!Ei(e))return e;if(!(tg()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Ah,"MathML is unsupported in this environment.");{const{default:r}=await Bt(async()=>{const{default:i}=await import("./katex-DsmCZfJr.js");return{default:i}},[]),n=t.forceLegacyMathML||!tg()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(ua).map(i=>Ei(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(Ah,(i,s)=>r.renderToString(s,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),rf=m(async(e,t)=>Qe(await UL(e,t),t),"renderKatexSanitized"),Pi={getRows:$L,sanitizeText:Qe,sanitizeTextOrArray:OL,hasBreaks:PL,splitBreaks:DL,lineBreakRegex:ua,removeScript:k0,getUrl:zL,evaluate:Xt,getMax:qL,getMin:WL},VL=m(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),YL=m(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),S0=m(function(e,t,r,n){const i=YL(t,r,n);VL(e,i)},"configureSvgSize"),GL=m(function(e,t,r,n){const i=t.node().getBBox(),s=i.width,a=i.height;N.info(`SVG bounds: ${s}x${a}`,i);let o=0,l=0;N.info(`Graph bounds: ${o}x${l}`,e),o=s+r*2,l=a+r*2,N.info(`Calculated bounds: ${o}x${l}`),S0(t,l,o,n);const c=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",c)},"setupGraphViewbox"),no={},XL=m((e,t,r)=>{let n="";return e in no&&no[e]?n=no[e](r):N.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),QL=m((e,t)=>{t!==void 0&&(no[e]=t)},"addStylesForDiagram"),KL=XL,v0={};NE(v0,{clear:()=>JL,getAccDescription:()=>rM,getAccTitle:()=>tM,getDiagramTitle:()=>iM,setAccDescription:()=>eM,setAccTitle:()=>ZL,setDiagramTitle:()=>nM});var nf="",sf="",af="",of=m(e=>Qe(e,ue()),"sanitizeText"),JL=m(()=>{nf="",af="",sf=""},"clear"),ZL=m(e=>{nf=of(e).replace(/^\s+/g,"")},"setAccTitle"),tM=m(()=>nf,"getAccTitle"),eM=m(e=>{af=of(e).replace(/\n\s+/g,`
`)},"setAccDescription"),rM=m(()=>af,"getAccDescription"),nM=m(e=>{sf=of(e)},"setDiagramTitle"),iM=m(()=>sf,"getDiagramTitle"),eg=N,sM=tf,Lt=ue,kq=x0,Cq=Ai,lf=m(e=>Qe(e,Lt()),"sanitizeText"),aM=GL,oM=m(()=>v0,"getCommonDb"),$o={},Fo=m((e,t,r)=>{$o[e]&&eg.warn(`Diagram with id ${e} already registered. Overwriting.`),$o[e]=t,r&&d0(e,r),QL(e,t.styles),t.injectUtils?.(eg,sM,Lt,lf,aM,oM(),()=>{})},"registerDiagram"),Eh=m(e=>{if(e in $o)return $o[e];throw new lM(e)},"getDiagram"),Ci,lM=(Ci=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},m(Ci,"DiagramNotFoundError"),Ci),cM={value:()=>{}};function T0(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new io(r)}function io(e){this._=e}function hM(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}io.prototype=T0.prototype={constructor:io,on:function(e,t){var r=this._,n=hM(e+"",r),i,s=-1,a=n.length;if(arguments.length<2){for(;++s<a;)if((i=(e=n[s]).type)&&(i=uM(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=n[s]).type)r[i]=rg(r[i],e.name,t);else if(t==null)for(i in r)r[i]=rg(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new io(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function uM(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function rg(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=cM,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Lh="http://www.w3.org/1999/xhtml";const ng={svg:"http://www.w3.org/2000/svg",xhtml:Lh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rl(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),ng.hasOwnProperty(t)?{space:ng[t],local:e}:e}function fM(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Lh&&t.documentElement.namespaceURI===Lh?t.createElement(e):t.createElementNS(r,e)}}function dM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function A0(e){var t=Rl(e);return(t.local?dM:fM)(t)}function pM(){}function cf(e){return e==null?pM:function(){return this.querySelector(e)}}function gM(e){typeof e!="function"&&(e=cf(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=new Array(a),l,c,h=0;h<a;++h)(l=s[h])&&(c=e.call(l,l.__data__,h,s))&&("__data__"in l&&(c.__data__=l.__data__),o[h]=c);return new He(n,this._parents)}function mM(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function yM(){return[]}function E0(e){return e==null?yM:function(){return this.querySelectorAll(e)}}function xM(e){return function(){return mM(e.apply(this,arguments))}}function bM(e){typeof e=="function"?e=xM(e):e=E0(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var a=t[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&(n.push(e.call(l,l.__data__,c,a)),i.push(l));return new He(n,i)}function L0(e){return function(){return this.matches(e)}}function M0(e){return function(t){return t.matches(e)}}var wM=Array.prototype.find;function _M(e){return function(){return wM.call(this.children,e)}}function kM(){return this.firstElementChild}function CM(e){return this.select(e==null?kM:_M(typeof e=="function"?e:M0(e)))}var SM=Array.prototype.filter;function vM(){return Array.from(this.children)}function TM(e){return function(){return SM.call(this.children,e)}}function AM(e){return this.selectAll(e==null?vM:TM(typeof e=="function"?e:M0(e)))}function EM(e){typeof e!="function"&&(e=L0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=[],l,c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new He(n,this._parents)}function B0(e){return new Array(e.length)}function LM(){return new He(this._enter||this._groups.map(B0),this._parents)}function Oo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Oo.prototype={constructor:Oo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function MM(e){return function(){return e}}function BM(e,t,r,n,i,s){for(var a=0,o,l=t.length,c=s.length;a<c;++a)(o=t[a])?(o.__data__=s[a],n[a]=o):r[a]=new Oo(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function IM(e,t,r,n,i,s,a){var o,l,c=new Map,h=t.length,u=s.length,d=new Array(h),f;for(o=0;o<h;++o)(l=t[o])&&(d[o]=f=a.call(l,l.__data__,o,t)+"",c.has(f)?i[o]=l:c.set(f,l));for(o=0;o<u;++o)f=a.call(e,s[o],o,s)+"",(l=c.get(f))?(n[o]=l,l.__data__=s[o],c.delete(f)):r[o]=new Oo(e,s[o]);for(o=0;o<h;++o)(l=t[o])&&c.get(d[o])===l&&(i[o]=l)}function RM(e){return e.__data__}function $M(e,t){if(!arguments.length)return Array.from(this,RM);var r=t?IM:BM,n=this._parents,i=this._groups;typeof e!="function"&&(e=MM(e));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var h=n[c],u=i[c],d=u.length,f=FM(e.call(h,h&&h.__data__,c,n)),p=f.length,g=o[c]=new Array(p),x=a[c]=new Array(p),y=l[c]=new Array(d);r(h,u,g,x,y,f,t);for(var b=0,w=0,k,S;b<p;++b)if(k=g[b]){for(b>=w&&(w=b+1);!(S=x[w])&&++w<p;);k._next=S||null}}return a=new He(a,n),a._enter=o,a._exit=l,a}function FM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OM(){return new He(this._exit||this._groups.map(B0),this._parents)}function PM(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function DM(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=r[l],h=n[l],u=c.length,d=o[l]=new Array(u),f,p=0;p<u;++p)(f=c[p]||h[p])&&(d[p]=f);for(;l<i;++l)o[l]=r[l];return new He(o,this._parents)}function NM(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],a;--i>=0;)(a=n[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function zM(e){e||(e=qM);function t(u,d){return u&&d?e(u.__data__,d.__data__):!u-!d}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var a=r[s],o=a.length,l=i[s]=new Array(o),c,h=0;h<o;++h)(c=a[h])&&(l[h]=c);l.sort(t)}return new He(i,this._parents).order()}function qM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function WM(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function HM(){return Array.from(this)}function jM(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var a=n[i];if(a)return a}return null}function UM(){let e=0;for(const t of this)++e;return e}function VM(){return!this.node()}function YM(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function GM(e){return function(){this.removeAttribute(e)}}function XM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QM(e,t){return function(){this.setAttribute(e,t)}}function KM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function JM(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function ZM(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function tB(e,t){var r=Rl(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?XM:GM:typeof t=="function"?r.local?ZM:JM:r.local?KM:QM)(r,t))}function I0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function eB(e){return function(){this.style.removeProperty(e)}}function rB(e,t,r){return function(){this.style.setProperty(e,t,r)}}function nB(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function iB(e,t,r){return arguments.length>1?this.each((t==null?eB:typeof t=="function"?nB:rB)(e,t,r??"")):Li(this.node(),e)}function Li(e,t){return e.style.getPropertyValue(t)||I0(e).getComputedStyle(e,null).getPropertyValue(t)}function sB(e){return function(){delete this[e]}}function aB(e,t){return function(){this[e]=t}}function oB(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function lB(e,t){return arguments.length>1?this.each((t==null?sB:typeof t=="function"?oB:aB)(e,t)):this.node()[e]}function R0(e){return e.trim().split(/^|\s+/)}function hf(e){return e.classList||new $0(e)}function $0(e){this._node=e,this._names=R0(e.getAttribute("class")||"")}$0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function F0(e,t){for(var r=hf(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function O0(e,t){for(var r=hf(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function cB(e){return function(){F0(this,e)}}function hB(e){return function(){O0(this,e)}}function uB(e,t){return function(){(t.apply(this,arguments)?F0:O0)(this,e)}}function fB(e,t){var r=R0(e+"");if(arguments.length<2){for(var n=hf(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?uB:t?cB:hB)(r,t))}function dB(){this.textContent=""}function pB(e){return function(){this.textContent=e}}function gB(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function mB(e){return arguments.length?this.each(e==null?dB:(typeof e=="function"?gB:pB)(e)):this.node().textContent}function yB(){this.innerHTML=""}function xB(e){return function(){this.innerHTML=e}}function bB(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function wB(e){return arguments.length?this.each(e==null?yB:(typeof e=="function"?bB:xB)(e)):this.node().innerHTML}function _B(){this.nextSibling&&this.parentNode.appendChild(this)}function kB(){return this.each(_B)}function CB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function SB(){return this.each(CB)}function vB(e){var t=typeof e=="function"?e:A0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function TB(){return null}function AB(e,t){var r=typeof e=="function"?e:A0(e),n=t==null?TB:typeof t=="function"?t:cf(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function EB(){var e=this.parentNode;e&&e.removeChild(this)}function LB(){return this.each(EB)}function MB(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function BB(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function IB(e){return this.select(e?BB:MB)}function RB(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $B(e){return function(t){e.call(this,t,this.__data__)}}function FB(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function OB(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function PB(e,t,r){return function(){var n=this.__on,i,s=$B(t);if(n){for(var a=0,o=n.length;a<o;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function DB(e,t,r){var n=FB(e+""),i,s=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,h;l<c;++l)for(i=0,h=o[l];i<s;++i)if((a=n[i]).type===h.type&&a.name===h.name)return h.value}return}for(o=t?PB:OB,i=0;i<s;++i)this.each(o(n[i],t,r));return this}function P0(e,t,r){var n=I0(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function NB(e,t){return function(){return P0(this,e,t)}}function zB(e,t){return function(){return P0(this,e,t.apply(this,arguments))}}function qB(e,t){return this.each((typeof t=="function"?zB:NB)(e,t))}function*WB(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,a;i<s;++i)(a=n[i])&&(yield a)}var D0=[null];function He(e,t){this._groups=e,this._parents=t}function fa(){return new He([[document.documentElement]],D0)}function HB(){return this}He.prototype=fa.prototype={constructor:He,select:gM,selectAll:bM,selectChild:CM,selectChildren:AM,filter:EM,data:$M,enter:LM,exit:OM,join:PM,merge:DM,selection:HB,order:NM,sort:zM,call:WM,nodes:HM,node:jM,size:UM,empty:VM,each:YM,attr:tB,style:iB,property:lB,classed:fB,text:mB,html:wB,raise:kB,lower:SB,append:vB,insert:AB,remove:LB,clone:IB,datum:RB,on:DB,dispatch:qB,[Symbol.iterator]:WB};function St(e){return typeof e=="string"?new He([[document.querySelector(e)]],[document.documentElement]):new He([[e]],D0)}function uf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function N0(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function da(){}var js=.7,Po=1/js,gi="\\s*([+-]?\\d+)\\s*",Us="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jB=/^#([0-9a-f]{3,8})$/,UB=new RegExp(`^rgb\\(${gi},${gi},${gi}\\)$`),VB=new RegExp(`^rgb\\(${xr},${xr},${xr}\\)$`),YB=new RegExp(`^rgba\\(${gi},${gi},${gi},${Us}\\)$`),GB=new RegExp(`^rgba\\(${xr},${xr},${xr},${Us}\\)$`),XB=new RegExp(`^hsl\\(${Us},${xr},${xr}\\)$`),QB=new RegExp(`^hsla\\(${Us},${xr},${xr},${Us}\\)$`),ig={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uf(da,Vs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sg,formatHex:sg,formatHex8:KB,formatHsl:JB,formatRgb:ag,toString:ag});function sg(){return this.rgb().formatHex()}function KB(){return this.rgb().formatHex8()}function JB(){return z0(this).formatHsl()}function ag(){return this.rgb().formatRgb()}function Vs(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?og(t):r===3?new $e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Oa(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Oa(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UB.exec(e))?new $e(t[1],t[2],t[3],1):(t=VB.exec(e))?new $e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YB.exec(e))?Oa(t[1],t[2],t[3],t[4]):(t=GB.exec(e))?Oa(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=XB.exec(e))?hg(t[1],t[2]/100,t[3]/100,1):(t=QB.exec(e))?hg(t[1],t[2]/100,t[3]/100,t[4]):ig.hasOwnProperty(e)?og(ig[e]):e==="transparent"?new $e(NaN,NaN,NaN,0):null}function og(e){return new $e(e>>16&255,e>>8&255,e&255,1)}function Oa(e,t,r,n){return n<=0&&(e=t=r=NaN),new $e(e,t,r,n)}function ZB(e){return e instanceof da||(e=Vs(e)),e?(e=e.rgb(),new $e(e.r,e.g,e.b,e.opacity)):new $e}function Mh(e,t,r,n){return arguments.length===1?ZB(e):new $e(e,t,r,n??1)}function $e(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}uf($e,Mh,N0(da,{brighter(e){return e=e==null?Po:Math.pow(Po,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $e(En(this.r),En(this.g),En(this.b),Do(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lg,formatHex:lg,formatHex8:tI,formatRgb:cg,toString:cg}));function lg(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}`}function tI(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}${kn((isNaN(this.opacity)?1:this.opacity)*255)}`}function cg(){const e=Do(this.opacity);return`${e===1?"rgb(":"rgba("}${En(this.r)}, ${En(this.g)}, ${En(this.b)}${e===1?")":`, ${e})`}`}function Do(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function En(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kn(e){return e=En(e),(e<16?"0":"")+e.toString(16)}function hg(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new nr(e,t,r,n)}function z0(e){if(e instanceof nr)return new nr(e.h,e.s,e.l,e.opacity);if(e instanceof da||(e=Vs(e)),!e)return new nr;if(e instanceof nr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-t)/o+2:a=(t-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new nr(a,o,l,e.opacity)}function eI(e,t,r,n){return arguments.length===1?z0(e):new nr(e,t,r,n??1)}function nr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}uf(nr,eI,N0(da,{brighter(e){return e=e==null?Po:Math.pow(Po,e),new nr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?js:Math.pow(js,e),new nr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new $e($c(e>=240?e-240:e+120,i,n),$c(e,i,n),$c(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new nr(ug(this.h),Pa(this.s),Pa(this.l),Do(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Do(this.opacity);return`${e===1?"hsl(":"hsla("}${ug(this.h)}, ${Pa(this.s)*100}%, ${Pa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ug(e){return e=(e||0)%360,e<0?e+360:e}function Pa(e){return Math.max(0,Math.min(1,e||0))}function $c(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ff=e=>()=>e;function q0(e,t){return function(r){return e+r*t}}function rI(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Sq(e,t){var r=t-e;return r?q0(e,r>180||r<-180?r-360*Math.round(r/360):r):ff(isNaN(e)?t:e)}function nI(e){return(e=+e)==1?W0:function(t,r){return r-t?rI(t,r,e):ff(isNaN(t)?r:t)}}function W0(e,t){var r=t-e;return r?q0(e,r):ff(isNaN(e)?t:e)}const fg=(function e(t){var r=nI(t);function n(i,s){var a=r((i=Mh(i)).r,(s=Mh(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),c=W0(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=o(h),i.b=l(h),i.opacity=c(h),i+""}}return n.gamma=e,n})(1);function Kr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Bh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fc=new RegExp(Bh.source,"g");function iI(e){return function(){return e}}function sI(e){return function(t){return e(t)+""}}function aI(e,t){var r=Bh.lastIndex=Fc.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Bh.exec(e))&&(i=Fc.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Kr(n,i)})),r=Fc.lastIndex;return r<t.length&&(s=t.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?sI(l[0].x):iI(t):(t=l.length,function(c){for(var h=0,u;h<t;++h)o[(u=l[h]).i]=u.x(c);return o.join("")})}var dg=180/Math.PI,Ih={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H0(e,t,r,n,i,s){var a,o,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*dg,skewX:Math.atan(l)*dg,scaleX:a,scaleY:o}}var Da;function oI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ih:H0(t.a,t.b,t.c,t.d,t.e,t.f)}function lI(e){return e==null||(Da||(Da=document.createElementNS("http://www.w3.org/2000/svg","g")),Da.setAttribute("transform",e),!(e=Da.transform.baseVal.consolidate()))?Ih:(e=e.matrix,H0(e.a,e.b,e.c,e.d,e.e,e.f))}function j0(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function s(c,h,u,d,f,p){if(c!==u||h!==d){var g=f.push("translate(",null,t,null,r);p.push({i:g-4,x:Kr(c,u)},{i:g-2,x:Kr(h,d)})}else(u||d)&&f.push("translate("+u+t+d+r)}function a(c,h,u,d){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),d.push({i:u.push(i(u)+"rotate(",null,n)-2,x:Kr(c,h)})):h&&u.push(i(u)+"rotate("+h+n)}function o(c,h,u,d){c!==h?d.push({i:u.push(i(u)+"skewX(",null,n)-2,x:Kr(c,h)}):h&&u.push(i(u)+"skewX("+h+n)}function l(c,h,u,d,f,p){if(c!==u||h!==d){var g=f.push(i(f)+"scale(",null,",",null,")");p.push({i:g-4,x:Kr(c,u)},{i:g-2,x:Kr(h,d)})}else(u!==1||d!==1)&&f.push(i(f)+"scale("+u+","+d+")")}return function(c,h){var u=[],d=[];return c=e(c),h=e(h),s(c.translateX,c.translateY,h.translateX,h.translateY,u,d),a(c.rotate,h.rotate,u,d),o(c.skewX,h.skewX,u,d),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,u,d),c=h=null,function(f){for(var p=-1,g=d.length,x;++p<g;)u[(x=d[p]).i]=x.x(f);return u.join("")}}}var cI=j0(oI,"px, ","px)","deg)"),hI=j0(lI,", ",")",")"),Mi=0,us=0,rs=0,U0=1e3,No,fs,zo=0,Rn=0,$l=0,Ys=typeof performance=="object"&&performance.now?performance:Date,V0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function df(){return Rn||(V0(uI),Rn=Ys.now()+$l)}function uI(){Rn=0}function qo(){this._call=this._time=this._next=null}qo.prototype=Y0.prototype={constructor:qo,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?df():+r)+(t==null?0:+t),!this._next&&fs!==this&&(fs?fs._next=this:No=this,fs=this),this._call=e,this._time=r,Rh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rh())}};function Y0(e,t,r){var n=new qo;return n.restart(e,t,r),n}function fI(){df(),++Mi;for(var e=No,t;e;)(t=Rn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Mi}function pg(){Rn=(zo=Ys.now())+$l,Mi=us=0;try{fI()}finally{Mi=0,pI(),Rn=0}}function dI(){var e=Ys.now(),t=e-zo;t>U0&&($l-=t,zo=e)}function pI(){for(var e,t=No,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:No=r);fs=e,Rh(n)}function Rh(e){if(!Mi){us&&(us=clearTimeout(us));var t=e-Rn;t>24?(e<1/0&&(us=setTimeout(pg,e-Ys.now()-$l)),rs&&(rs=clearInterval(rs))):(rs||(zo=Ys.now(),rs=setInterval(dI,U0)),Mi=1,V0(pg))}}function gg(e,t,r){var n=new qo;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var gI=T0("start","end","cancel","interrupt"),mI=[],G0=0,mg=1,$h=2,so=3,yg=4,Fh=5,ao=6;function Fl(e,t,r,n,i,s){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;yI(e,r,{name:t,index:n,group:i,on:gI,tween:mI,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:G0})}function pf(e,t){var r=lr(e,t);if(r.state>G0)throw new Error("too late; already scheduled");return r}function _r(e,t){var r=lr(e,t);if(r.state>so)throw new Error("too late; already running");return r}function lr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function yI(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Y0(s,0,r.time);function s(c){r.state=mg,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var h,u,d,f;if(r.state!==mg)return l();for(h in n)if(f=n[h],f.name===r.name){if(f.state===so)return gg(a);f.state===yg?(f.state=ao,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete n[h]):+h<t&&(f.state=ao,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete n[h])}if(gg(function(){r.state===so&&(r.state=yg,r.timer.restart(o,r.delay,r.time),o(c))}),r.state=$h,r.on.call("start",e,e.__data__,r.index,r.group),r.state===$h){for(r.state=so,i=new Array(d=r.tween.length),h=0,u=-1;h<d;++h)(f=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(i[++u]=f);i.length=u+1}}function o(c){for(var h=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=Fh,1),u=-1,d=i.length;++u<d;)i[u].call(e,h);r.state===Fh&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=ao,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function xI(e,t){var r=e.__transition,n,i,s=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){s=!1;continue}i=n.state>$h&&n.state<Fh,n.state=ao,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}s&&delete e.__transition}}function bI(e){return this.each(function(){xI(this,e)})}function wI(e,t){var r,n;return function(){var i=_r(this,e),s=i.tween;if(s!==r){n=r=s;for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function _I(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=_r(this,e),a=s.tween;if(a!==n){i=(n=a).slice();for(var o={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=o;break}l===c&&i.push(o)}s.tween=i}}function kI(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=lr(this.node(),r).tween,i=0,s=n.length,a;i<s;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?wI:_I)(r,e,t))}function gf(e,t,r){var n=e._id;return e.each(function(){var i=_r(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return lr(i,n).value[t]}}function X0(e,t){var r;return(typeof t=="number"?Kr:t instanceof Vs?fg:(r=Vs(t))?(t=r,fg):aI)(e,t)}function CI(e){return function(){this.removeAttribute(e)}}function SI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vI(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===n?s:s=t(n=a,r)}}function TI(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?s:s=t(n=a,r)}}function AI(e,t,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o)))}}function EI(e,t,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o)))}}function LI(e,t){var r=Rl(e),n=r==="transform"?hI:X0;return this.attrTween(e,typeof t=="function"?(r.local?EI:AI)(r,n,gf(this,"attr."+e,t)):t==null?(r.local?SI:CI)(r):(r.local?TI:vI)(r,n,t))}function MI(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function BI(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function II(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&BI(e,s)),r}return i._value=t,i}function RI(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&MI(e,s)),r}return i._value=t,i}function $I(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Rl(e);return this.tween(r,(n.local?II:RI)(n,t))}function FI(e,t){return function(){pf(this,e).delay=+t.apply(this,arguments)}}function OI(e,t){return t=+t,function(){pf(this,e).delay=t}}function PI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?FI:OI)(t,e)):lr(this.node(),t).delay}function DI(e,t){return function(){_r(this,e).duration=+t.apply(this,arguments)}}function NI(e,t){return t=+t,function(){_r(this,e).duration=t}}function zI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?DI:NI)(t,e)):lr(this.node(),t).duration}function qI(e,t){if(typeof t!="function")throw new Error;return function(){_r(this,e).ease=t}}function WI(e){var t=this._id;return arguments.length?this.each(qI(t,e)):lr(this.node(),t).ease}function HI(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;_r(this,e).ease=r}}function jI(e){if(typeof e!="function")throw new Error;return this.each(HI(this._id,e))}function UI(e){typeof e!="function"&&(e=L0(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=[],l,c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new Nr(n,this._parents,this._name,this._id)}function VI(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),a=new Array(n),o=0;o<s;++o)for(var l=t[o],c=r[o],h=l.length,u=a[o]=new Array(h),d,f=0;f<h;++f)(d=l[f]||c[f])&&(u[f]=d);for(;o<n;++o)a[o]=t[o];return new Nr(a,this._parents,this._name,this._id)}function YI(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function GI(e,t,r){var n,i,s=YI(t)?pf:_r;return function(){var a=s(this,e),o=a.on;o!==n&&(i=(n=o).copy()).on(t,r),a.on=i}}function XI(e,t){var r=this._id;return arguments.length<2?lr(this.node(),r).on.on(e):this.each(GI(r,e,t))}function QI(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function KI(){return this.on("end.remove",QI(this._id))}function JI(e){var t=this._name,r=this._id;typeof e!="function"&&(e=cf(e));for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a)for(var o=n[a],l=o.length,c=s[a]=new Array(l),h,u,d=0;d<l;++d)(h=o[d])&&(u=e.call(h,h.__data__,d,o))&&("__data__"in h&&(u.__data__=h.__data__),c[d]=u,Fl(c[d],t,r,d,c,lr(h,r)));return new Nr(s,this._parents,t,r)}function ZI(e){var t=this._name,r=this._id;typeof e!="function"&&(e=E0(e));for(var n=this._groups,i=n.length,s=[],a=[],o=0;o<i;++o)for(var l=n[o],c=l.length,h,u=0;u<c;++u)if(h=l[u]){for(var d=e.call(h,h.__data__,u,l),f,p=lr(h,r),g=0,x=d.length;g<x;++g)(f=d[g])&&Fl(f,t,r,g,d,p);s.push(d),a.push(h)}return new Nr(s,a,t,r)}var tR=fa.prototype.constructor;function eR(){return new tR(this._groups,this._parents)}function rR(e,t){var r,n,i;return function(){var s=Li(this,e),a=(this.style.removeProperty(e),Li(this,e));return s===a?null:s===r&&a===n?i:i=t(r=s,n=a)}}function Q0(e){return function(){this.style.removeProperty(e)}}function nR(e,t,r){var n,i=r+"",s;return function(){var a=Li(this,e);return a===i?null:a===n?s:s=t(n=a,r)}}function iR(e,t,r){var n,i,s;return function(){var a=Li(this,e),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),Li(this,e))),a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o))}}function sR(e,t){var r,n,i,s="style."+t,a="end."+s,o;return function(){var l=_r(this,e),c=l.on,h=l.value[s]==null?o||(o=Q0(t)):void 0;(c!==r||i!==h)&&(n=(r=c).copy()).on(a,i=h),l.on=n}}function aR(e,t,r){var n=(e+="")=="transform"?cI:X0;return t==null?this.styleTween(e,rR(e,n)).on("end.style."+e,Q0(e)):typeof t=="function"?this.styleTween(e,iR(e,n,gf(this,"style."+e,t))).each(sR(this._id,e)):this.styleTween(e,nR(e,n,t),r).on("end.style."+e,null)}function oR(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function lR(e,t,r){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&oR(e,a,r)),n}return s._value=t,s}function cR(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,lR(e,t,r??""))}function hR(e){return function(){this.textContent=e}}function uR(e){return function(){var t=e(this);this.textContent=t??""}}function fR(e){return this.tween("text",typeof e=="function"?uR(gf(this,"text",e)):hR(e==null?"":e+""))}function dR(e){return function(t){this.textContent=e.call(this,t)}}function pR(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&dR(i)),t}return n._value=e,n}function gR(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,pR(e))}function mR(){for(var e=this._name,t=this._id,r=K0(),n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,c=0;c<o;++c)if(l=a[c]){var h=lr(l,t);Fl(l,e,r,c,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Nr(n,this._parents,e,r)}function yR(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};r.each(function(){var c=_r(this,n),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),c.on=t}),i===0&&s()})}var xR=0;function Nr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function K0(){return++xR}var Lr=fa.prototype;Nr.prototype={constructor:Nr,select:JI,selectAll:ZI,selectChild:Lr.selectChild,selectChildren:Lr.selectChildren,filter:UI,merge:VI,selection:eR,transition:mR,call:Lr.call,nodes:Lr.nodes,node:Lr.node,size:Lr.size,empty:Lr.empty,each:Lr.each,on:XI,attr:LI,attrTween:$I,style:aR,styleTween:cR,text:fR,textTween:gR,remove:KI,tween:kI,delay:PI,duration:zI,ease:WI,easeVarying:jI,end:yR,[Symbol.iterator]:Lr[Symbol.iterator]};function bR(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var wR={time:null,delay:0,duration:250,ease:bR};function _R(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function kR(e){var t,r;e instanceof Nr?(t=e._id,e=e._name):(t=K0(),(r=wR).time=df(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&Fl(l,e,t,c,a,r||_R(l,t));return new Nr(n,this._parents,e,t)}fa.prototype.interrupt=bI;fa.prototype.transition=kR;const Oh=Math.PI,Ph=2*Oh,mn=1e-6,CR=Ph-mn;function J0(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function SR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return J0;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class vR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?J0:SR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-t,c=i-r,h=a-t,u=o-r,d=h*h+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(d>mn)if(!(Math.abs(u*l-c*h)>mn)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let f=n-a,p=i-o,g=l*l+c*c,x=f*f+p*p,y=Math.sqrt(g),b=Math.sqrt(d),w=s*Math.tan((Oh-Math.acos((g+d-x)/(2*y*b)))/2),k=w/b,S=w/y;Math.abs(k-1)>mn&&this._append`L${t+k*h},${r+k*u}`,this._append`A${s},${s},0,0,${+(u*f>h*p)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,h=r+l,u=1^a,d=a?i-s:s-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>mn||Math.abs(this._y1-h)>mn)&&this._append`L${c},${h}`,n&&(d<0&&(d=d%Ph+Ph),d>CR?this._append`A${n},${n},0,1,${u},${t-o},${r-l}A${n},${n},0,1,${u},${this._x1=c},${this._y1=h}`:d>mn&&this._append`A${n},${n},0,${+(d>=Oh)},${u},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ti(e){return function(){return e}}const vq=Math.abs,Tq=Math.atan2,Aq=Math.cos,Eq=Math.max,Lq=Math.min,Mq=Math.sin,Bq=Math.sqrt,xg=1e-12,mf=Math.PI,bg=mf/2,Iq=2*mf;function Rq(e){return e>1?0:e<-1?mf:Math.acos(e)}function $q(e){return e>=1?bg:e<=-1?-bg:Math.asin(e)}function TR(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new vR(t)}function AR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Z0(e){this._context=e}Z0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wo(e){return new Z0(e)}function ER(e){return e[0]}function LR(e){return e[1]}function MR(e,t){var r=ti(!0),n=null,i=Wo,s=null,a=TR(o);e=typeof e=="function"?e:e===void 0?ER:ti(e),t=typeof t=="function"?t:t===void 0?LR:ti(t);function o(l){var c,h=(l=AR(l)).length,u,d=!1,f;for(n==null&&(s=i(f=a())),c=0;c<=h;++c)!(c<h&&r(u=l[c],c,l))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(u,c,l),+t(u,c,l));if(f)return s=null,f+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:ti(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:ti(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ti(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}class tx{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ex(e){return new tx(e,!0)}function rx(e){return new tx(e,!1)}function tn(){}function Ho(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ol(e){this._context=e}Ol.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ho(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ho(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oo(e){return new Ol(e)}function nx(e){this._context=e}nx.prototype={areaStart:tn,areaEnd:tn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ho(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BR(e){return new nx(e)}function ix(e){this._context=e}ix.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ho(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IR(e){return new ix(e)}function sx(e,t){this._basis=new Ol(e),this._beta=t}sx.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],s=e[r]-n,a=t[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(n+l*s),this._beta*t[o]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const RR=(function e(t){function r(n){return t===1?new Ol(n):new sx(n,t)}return r.beta=function(n){return e(+n)},r})(.85);function jo(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function yf(e,t){this._context=e,this._k=(1-t)/6}yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:jo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:jo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ax=(function e(t){function r(n){return new yf(n,t)}return r.tension=function(n){return e(+n)},r})(0);function xf(e,t){this._context=e,this._k=(1-t)/6}xf.prototype={areaStart:tn,areaEnd:tn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:jo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $R=(function e(t){function r(n){return new xf(n,t)}return r.tension=function(n){return e(+n)},r})(0);function bf(e,t){this._context=e,this._k=(1-t)/6}bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const FR=(function e(t){function r(n){return new bf(n,t)}return r.tension=function(n){return e(+n)},r})(0);function wf(e,t,r){var n=e._x1,i=e._y1,s=e._x2,a=e._y2;if(e._l01_a>xg){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>xg){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*c+e._x1*e._l23_2a-t*e._l12_2a)/h,a=(a*c+e._y1*e._l23_2a-r*e._l12_2a)/h}e._context.bezierCurveTo(n,i,s,a,e._x2,e._y2)}function ox(e,t){this._context=e,this._alpha=t}ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:wf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lx=(function e(t){function r(n){return t?new ox(n,t):new yf(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function cx(e,t){this._context=e,this._alpha=t}cx.prototype={areaStart:tn,areaEnd:tn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:wf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const OR=(function e(t){function r(n){return t?new cx(n,t):new xf(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function hx(e,t){this._context=e,this._alpha=t}hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const PR=(function e(t){function r(n){return t?new hx(n,t):new bf(n,0)}return r.alpha=function(n){return e(+n)},r})(.5);function ux(e){this._context=e}ux.prototype={areaStart:tn,areaEnd:tn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function DR(e){return new ux(e)}function wg(e){return e<0?-1:1}function _g(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(wg(s)+wg(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function kg(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Oc(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,i+o*t,s-o,a-o*r,s,a)}function Uo(e){this._context=e}Uo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Oc(this,this._t0,kg(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Oc(this,kg(this,r=_g(this,e,t)),r);break;default:Oc(this,this._t0,r=_g(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function fx(e){this._context=new dx(e)}(fx.prototype=Object.create(Uo.prototype)).point=function(e,t){Uo.prototype.point.call(this,t,e)};function dx(e){this._context=e}dx.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function px(e){return new Uo(e)}function gx(e){return new fx(e)}function mx(e){this._context=e}mx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Cg(e),i=Cg(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Cg(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function yx(e){return new mx(e)}function Pl(e,t){this._context=e,this._t=t}Pl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function xx(e){return new Pl(e,.5)}function bx(e){return new Pl(e,0)}function wx(e){return new Pl(e,1)}function ds(e,t,r){this.k=e,this.x=t,this.y=r}ds.prototype={constructor:ds,scale:function(e){return e===1?this:new ds(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ds(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ds.prototype;var NR=m(e=>{const{securityLevel:t}=Lt();let r=St("body");if(t==="sandbox"){const s=St(`#i${e}`).node()?.contentDocument??document;r=St(s.body)}return r.select(`#${e}`)},"selectSvgElement");function _f(e){return typeof e>"u"||e===null}m(_f,"isNothing");function _x(e){return typeof e=="object"&&e!==null}m(_x,"isObject");function kx(e){return Array.isArray(e)?e:_f(e)?[]:[e]}m(kx,"toArray");function Cx(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}m(Cx,"extend");function Sx(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}m(Sx,"repeat");function vx(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}m(vx,"isNegativeZero");var zR=_f,qR=_x,WR=kx,HR=Sx,jR=vx,UR=Cx,Gt={isNothing:zR,isObject:qR,toArray:WR,repeat:HR,isNegativeZero:jR,extend:UR};function kf(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}m(kf,"formatError");function Bi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=kf(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}m(Bi,"YAMLException$1");Bi.prototype=Object.create(Error.prototype);Bi.prototype.constructor=Bi;Bi.prototype.toString=m(function(t){return this.name+": "+kf(this,t)},"toString");var Re=Bi;function lo(e,t,r,n,i){var s="",a="",o=Math.floor(i/2)-1;return n-t>o&&(s=" ... ",t=n-o+s.length),r-n>o&&(a=" ...",r=n+o-a.length),{str:s+e.slice(t,r).replace(/\t/g,"→")+a,pos:n-t+s.length}}m(lo,"getLine");function co(e,t){return Gt.repeat(" ",t-e.length)+e}m(co,"padStart");function Tx(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var o="",l,c,h=Math.min(e.line+t.linesAfter,i.length).toString().length,u=t.maxLength-(t.indent+h+3);for(l=1;l<=t.linesBefore&&!(a-l<0);l++)c=lo(e.buffer,n[a-l],i[a-l],e.position-(n[a]-n[a-l]),u),o=Gt.repeat(" ",t.indent)+co((e.line-l+1).toString(),h)+" | "+c.str+`
`+o;for(c=lo(e.buffer,n[a],i[a],e.position,u),o+=Gt.repeat(" ",t.indent)+co((e.line+1).toString(),h)+" | "+c.str+`
`,o+=Gt.repeat("-",t.indent+h+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(a+l>=i.length);l++)c=lo(e.buffer,n[a+l],i[a+l],e.position-(n[a]-n[a+l]),u),o+=Gt.repeat(" ",t.indent)+co((e.line+l+1).toString(),h)+" | "+c.str+`
`;return o.replace(/\n$/,"")}m(Tx,"makeSnippet");var VR=Tx,YR=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],GR=["scalar","sequence","mapping"];function Ax(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}m(Ax,"compileStyleAliases");function Ex(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(YR.indexOf(r)===-1)throw new Re('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Ax(t.styleAliases||null),GR.indexOf(this.kind)===-1)throw new Re('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}m(Ex,"Type$1");var fe=Ex;function Dh(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}m(Dh,"compileList");function Lx(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(m(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}m(Lx,"compileMap");function Vo(e){return this.extend(e)}m(Vo,"Schema$1");Vo.prototype.extend=m(function(t){var r=[],n=[];if(t instanceof fe)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Re("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof fe))throw new Re("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Re("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Re("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof fe))throw new Re("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Vo.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Dh(i,"implicit"),i.compiledExplicit=Dh(i,"explicit"),i.compiledTypeMap=Lx(i.compiledImplicit,i.compiledExplicit),i},"extend");var XR=Vo,QR=new fe("tag:yaml.org,2002:str",{kind:"scalar",construct:m(function(e){return e!==null?e:""},"construct")}),KR=new fe("tag:yaml.org,2002:seq",{kind:"sequence",construct:m(function(e){return e!==null?e:[]},"construct")}),JR=new fe("tag:yaml.org,2002:map",{kind:"mapping",construct:m(function(e){return e!==null?e:{}},"construct")}),ZR=new XR({explicit:[QR,KR,JR]});function Mx(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}m(Mx,"resolveYamlNull");function Bx(){return null}m(Bx,"constructYamlNull");function Ix(e){return e===null}m(Ix,"isNull");var t$=new fe("tag:yaml.org,2002:null",{kind:"scalar",resolve:Mx,construct:Bx,predicate:Ix,represent:{canonical:m(function(){return"~"},"canonical"),lowercase:m(function(){return"null"},"lowercase"),uppercase:m(function(){return"NULL"},"uppercase"),camelcase:m(function(){return"Null"},"camelcase"),empty:m(function(){return""},"empty")},defaultStyle:"lowercase"});function Rx(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}m(Rx,"resolveYamlBoolean");function $x(e){return e==="true"||e==="True"||e==="TRUE"}m($x,"constructYamlBoolean");function Fx(e){return Object.prototype.toString.call(e)==="[object Boolean]"}m(Fx,"isBoolean");var e$=new fe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Rx,construct:$x,predicate:Fx,represent:{lowercase:m(function(e){return e?"true":"false"},"lowercase"),uppercase:m(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:m(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function Ox(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}m(Ox,"isHexCode");function Px(e){return 48<=e&&e<=55}m(Px,"isOctCode");function Dx(e){return 48<=e&&e<=57}m(Dx,"isDecCode");function Nx(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!Ox(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!Px(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!Dx(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}m(Nx,"resolveYamlInteger");function zx(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}m(zx,"constructYamlInteger");function qx(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Gt.isNegativeZero(e)}m(qx,"isInteger");var r$=new fe("tag:yaml.org,2002:int",{kind:"scalar",resolve:Nx,construct:zx,predicate:qx,represent:{binary:m(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:m(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:m(function(e){return e.toString(10)},"decimal"),hexadecimal:m(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),n$=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Wx(e){return!(e===null||!n$.test(e)||e[e.length-1]==="_")}m(Wx,"resolveYamlFloat");function Hx(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}m(Hx,"constructYamlFloat");var i$=/^[-+]?[0-9]+e/;function jx(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Gt.isNegativeZero(e))return"-0.0";return r=e.toString(10),i$.test(r)?r.replace("e",".e"):r}m(jx,"representYamlFloat");function Ux(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Gt.isNegativeZero(e))}m(Ux,"isFloat");var s$=new fe("tag:yaml.org,2002:float",{kind:"scalar",resolve:Wx,construct:Hx,predicate:Ux,represent:jx,defaultStyle:"lowercase"}),Vx=ZR.extend({implicit:[t$,e$,r$,s$]}),a$=Vx,Yx=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Gx=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Xx(e){return e===null?!1:Yx.exec(e)!==null||Gx.exec(e)!==null}m(Xx,"resolveYamlTimestamp");function Qx(e){var t,r,n,i,s,a,o,l=0,c=null,h,u,d;if(t=Yx.exec(e),t===null&&(t=Gx.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],o=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(h=+t[10],u=+(t[11]||0),c=(h*60+u)*6e4,t[9]==="-"&&(c=-c)),d=new Date(Date.UTC(r,n,i,s,a,o,l)),c&&d.setTime(d.getTime()-c),d}m(Qx,"constructYamlTimestamp");function Kx(e){return e.toISOString()}m(Kx,"representYamlTimestamp");var o$=new fe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Xx,construct:Qx,instanceOf:Date,represent:Kx});function Jx(e){return e==="<<"||e===null}m(Jx,"resolveYamlMerge");var l$=new fe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Jx}),Cf=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Zx(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Cf;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}m(Zx,"resolveYamlBinary");function tb(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Cf,a=0,o=[];for(t=0;t<i;t++)t%4===0&&t&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):r===18?(o.push(a>>10&255),o.push(a>>2&255)):r===12&&o.push(a>>4&255),new Uint8Array(o)}m(tb,"constructYamlBinary");function eb(e){var t="",r=0,n,i,s=e.length,a=Cf;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}m(eb,"representYamlBinary");function rb(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}m(rb,"isBinary");var c$=new fe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Zx,construct:tb,predicate:rb,represent:eb}),h$=Object.prototype.hasOwnProperty,u$=Object.prototype.toString;function nb(e){if(e===null)return!0;var t=[],r,n,i,s,a,o=e;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],a=!1,u$.call(i)!=="[object Object]")return!1;for(s in i)if(h$.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}m(nb,"resolveYamlOmap");function ib(e){return e!==null?e:[]}m(ib,"constructYamlOmap");var f$=new fe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:nb,construct:ib}),d$=Object.prototype.toString;function sb(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],d$.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}m(sb,"resolveYamlPairs");function ab(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}m(ab,"constructYamlPairs");var p$=new fe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:sb,construct:ab}),g$=Object.prototype.hasOwnProperty;function ob(e){if(e===null)return!0;var t,r=e;for(t in r)if(g$.call(r,t)&&r[t]!==null)return!1;return!0}m(ob,"resolveYamlSet");function lb(e){return e!==null?e:{}}m(lb,"constructYamlSet");var m$=new fe("tag:yaml.org,2002:set",{kind:"mapping",resolve:ob,construct:lb}),cb=a$.extend({implicit:[o$,l$],explicit:[c$,f$,p$,m$]}),en=Object.prototype.hasOwnProperty,Yo=1,hb=2,ub=3,Go=4,Pc=1,y$=2,Sg=3,x$=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,b$=/[\x85\u2028\u2029]/,w$=/[,\[\]\{\}]/,fb=/^(?:!|!!|![a-z\-]+!)$/i,db=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Nh(e){return Object.prototype.toString.call(e)}m(Nh,"_class");function ar(e){return e===10||e===13}m(ar,"is_EOL");function Zr(e){return e===9||e===32}m(Zr,"is_WHITE_SPACE");function _e(e){return e===9||e===32||e===10||e===13}m(_e,"is_WS_OR_EOL");function Cn(e){return e===44||e===91||e===93||e===123||e===125}m(Cn,"is_FLOW_INDICATOR");function pb(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}m(pb,"fromHexCode");function gb(e){return e===120?2:e===117?4:e===85?8:0}m(gb,"escapedHexLen");function mb(e){return 48<=e&&e<=57?e-48:-1}m(mb,"fromDecimalCode");function zh(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}m(zh,"simpleEscapeSequence");function yb(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}m(yb,"charFromCodepoint");var xb=new Array(256),bb=new Array(256);for(pn=0;pn<256;pn++)xb[pn]=zh(pn)?1:0,bb[pn]=zh(pn);var pn;function wb(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||cb,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}m(wb,"State$1");function Sf(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=VR(r),new Re(t,r)}m(Sf,"generateError");function et(e,t){throw Sf(e,t)}m(et,"throwError");function Gs(e,t){e.onWarning&&e.onWarning.call(null,Sf(e,t))}m(Gs,"throwWarning");var vg={YAML:m(function(t,r,n){var i,s,a;t.version!==null&&et(t,"duplication of %YAML directive"),n.length!==1&&et(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&et(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&et(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&Gs(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:m(function(t,r,n){var i,s;n.length!==2&&et(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],fb.test(i)||et(t,"ill-formed tag handle (first argument) of the TAG directive"),en.call(t.tagMap,i)&&et(t,'there is a previously declared suffix for "'+i+'" tag handle'),db.test(s)||et(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{et(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function Dr(e,t,r,n){var i,s,a,o;if(t<r){if(o=e.input.slice(t,r),n)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||et(e,"expected valid JSON character");else x$.test(o)&&et(e,"the stream contains non-printable characters");e.result+=o}}m(Dr,"captureSegment");function qh(e,t,r,n){var i,s,a,o;for(Gt.isObject(r)||et(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,o=i.length;a<o;a+=1)s=i[a],en.call(t,s)||(t[s]=r[s],n[s]=!0)}m(qh,"mergeMappings");function Sn(e,t,r,n,i,s,a,o,l){var c,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,h=i.length;c<h;c+=1)Array.isArray(i[c])&&et(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Nh(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&Nh(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,h=s.length;c<h;c+=1)qh(e,t,s[c],r);else qh(e,t,s,r);else!e.json&&!en.call(r,i)&&en.call(t,i)&&(e.line=a||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,et(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}m(Sn,"storeMappingPair");function Dl(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):et(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}m(Dl,"readLineBreak");function Nt(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Zr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(ar(i))for(Dl(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Gs(e,"deficient indentation"),n}m(Nt,"skipSeparationSpace");function pa(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||_e(r)))}m(pa,"testDocumentSeparator");function Nl(e,t){t===1?e.result+=" ":t>1&&(e.result+=Gt.repeat(`
`,t-1))}m(Nl,"writeFoldedLines");function _b(e,t,r){var n,i,s,a,o,l,c,h,u=e.kind,d=e.result,f;if(f=e.input.charCodeAt(e.position),_e(f)||Cn(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(i=e.input.charCodeAt(e.position+1),_e(i)||r&&Cn(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,o=!1;f!==0;){if(f===58){if(i=e.input.charCodeAt(e.position+1),_e(i)||r&&Cn(i))break}else if(f===35){if(n=e.input.charCodeAt(e.position-1),_e(n))break}else{if(e.position===e.lineStart&&pa(e)||r&&Cn(f))break;if(ar(f))if(l=e.line,c=e.lineStart,h=e.lineIndent,Nt(e,!1,-1),e.lineIndent>=t){o=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=l,e.lineStart=c,e.lineIndent=h;break}}o&&(Dr(e,s,a,!1),Nl(e,e.line-l),s=a=e.position,o=!1),Zr(f)||(a=e.position+1),f=e.input.charCodeAt(++e.position)}return Dr(e,s,a,!1),e.result?!0:(e.kind=u,e.result=d,!1)}m(_b,"readPlainScalar");function kb(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Dr(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else ar(r)?(Dr(e,n,i,!0),Nl(e,Nt(e,!1,t)),n=i=e.position):e.position===e.lineStart&&pa(e)?et(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);et(e,"unexpected end of the stream within a single quoted scalar")}m(kb,"readSingleQuotedScalar");function Cb(e,t){var r,n,i,s,a,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return Dr(e,r,e.position,!0),e.position++,!0;if(o===92){if(Dr(e,r,e.position,!0),o=e.input.charCodeAt(++e.position),ar(o))Nt(e,!1,t);else if(o<256&&xb[o])e.result+=bb[o],e.position++;else if((a=gb(o))>0){for(i=a,s=0;i>0;i--)o=e.input.charCodeAt(++e.position),(a=pb(o))>=0?s=(s<<4)+a:et(e,"expected hexadecimal character");e.result+=yb(s),e.position++}else et(e,"unknown escape sequence");r=n=e.position}else ar(o)?(Dr(e,r,n,!0),Nl(e,Nt(e,!1,t)),r=n=e.position):e.position===e.lineStart&&pa(e)?et(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}et(e,"unexpected end of the stream within a double quoted scalar")}m(Cb,"readDoubleQuotedScalar");function Sb(e,t){var r=!0,n,i,s,a=e.tag,o,l=e.anchor,c,h,u,d,f,p=Object.create(null),g,x,y,b;if(b=e.input.charCodeAt(e.position),b===91)h=93,f=!1,o=[];else if(b===123)h=125,f=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),b=e.input.charCodeAt(++e.position);b!==0;){if(Nt(e,!0,t),b=e.input.charCodeAt(e.position),b===h)return e.position++,e.tag=a,e.anchor=l,e.kind=f?"mapping":"sequence",e.result=o,!0;r?b===44&&et(e,"expected the node content, but found ','"):et(e,"missed comma between flow collection entries"),x=g=y=null,u=d=!1,b===63&&(c=e.input.charCodeAt(e.position+1),_e(c)&&(u=d=!0,e.position++,Nt(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,$n(e,t,Yo,!1,!0),x=e.tag,g=e.result,Nt(e,!0,t),b=e.input.charCodeAt(e.position),(d||e.line===n)&&b===58&&(u=!0,b=e.input.charCodeAt(++e.position),Nt(e,!0,t),$n(e,t,Yo,!1,!0),y=e.result),f?Sn(e,o,p,x,g,y,n,i,s):u?o.push(Sn(e,null,p,x,g,y,n,i,s)):o.push(g),Nt(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}et(e,"unexpected end of the stream within a flow collection")}m(Sb,"readFlowCollection");function vb(e,t){var r,n,i=Pc,s=!1,a=!1,o=t,l=0,c=!1,h,u;if(u=e.input.charCodeAt(e.position),u===124)n=!1;else if(u===62)n=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)Pc===i?i=u===43?Sg:y$:et(e,"repeat of a chomping mode identifier");else if((h=mb(u))>=0)h===0?et(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?et(e,"repeat of an indentation width identifier"):(o=t+h-1,a=!0);else break;if(Zr(u)){do u=e.input.charCodeAt(++e.position);while(Zr(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!ar(u)&&u!==0)}for(;u!==0;){for(Dl(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!a||e.lineIndent<o)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>o&&(o=e.lineIndent),ar(u)){l++;continue}if(e.lineIndent<o){i===Sg?e.result+=Gt.repeat(`
`,s?1+l:l):i===Pc&&s&&(e.result+=`
`);break}for(n?Zr(u)?(c=!0,e.result+=Gt.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=Gt.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=Gt.repeat(`
`,l):e.result+=Gt.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,r=e.position;!ar(u)&&u!==0;)u=e.input.charCodeAt(++e.position);Dr(e,r,e.position,!1)}return!0}m(vb,"readBlockScalar");function Wh(e,t){var r,n=e.tag,i=e.anchor,s=[],a,o=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,et(e,"tab characters must not be used in indentation")),!(l!==45||(a=e.input.charCodeAt(e.position+1),!_e(a))));){if(o=!0,e.position++,Nt(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,$n(e,t,ub,!1,!0),s.push(e.result),Nt(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)et(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}m(Wh,"readBlockSequence");function Tb(e,t,r){var n,i,s,a,o,l,c=e.tag,h=e.anchor,u={},d=Object.create(null),f=null,p=null,g=null,x=!1,y=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),b=e.input.charCodeAt(e.position);b!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,et(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&_e(n))b===63?(x&&(Sn(e,u,d,f,p,null,a,o,l),f=p=g=null),y=!0,x=!0,i=!0):x?(x=!1,i=!0):et(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(a=e.line,o=e.lineStart,l=e.position,!$n(e,r,hb,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);Zr(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),_e(b)||et(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(Sn(e,u,d,f,p,null,a,o,l),f=p=g=null),y=!0,x=!1,i=!1,f=e.tag,p=e.result;else if(y)et(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=h,!0}else if(y)et(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=h,!0}if((e.line===s||e.lineIndent>t)&&(x&&(a=e.line,o=e.lineStart,l=e.position),$n(e,t,Go,!0,i)&&(x?p=e.result:g=e.result),x||(Sn(e,u,d,f,p,g,a,o,l),f=p=g=null),Nt(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)et(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&Sn(e,u,d,f,p,null,a,o,l),y&&(e.tag=c,e.anchor=h,e.kind="mapping",e.result=u),y}m(Tb,"readBlockMapping");function Ab(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&et(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):et(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!_e(a);)a===33&&(n?et(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),fb.test(i)||et(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),w$.test(s)&&et(e,"tag suffix cannot contain flow indicator characters")}s&&!db.test(s)&&et(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{et(e,"tag name is malformed: "+s)}return r?e.tag=s:en.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:et(e,'undeclared tag handle "'+i+'"'),!0}m(Ab,"readTagProperty");function Eb(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&et(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!_e(r)&&!Cn(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&et(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}m(Eb,"readAnchorProperty");function Lb(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!_e(n)&&!Cn(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&et(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),en.call(e.anchorMap,r)||et(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Nt(e,!0,-1),!0}m(Lb,"readAlias");function $n(e,t,r,n,i){var s,a,o,l=1,c=!1,h=!1,u,d,f,p,g,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=o=Go===r||ub===r,n&&Nt(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;Ab(e)||Eb(e);)Nt(e,!0,-1)?(c=!0,o=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):o=!1;if(o&&(o=c||i),(l===1||Go===r)&&(Yo===r||hb===r?g=t:g=t+1,x=e.position-e.lineStart,l===1?o&&(Wh(e,x)||Tb(e,x,g))||Sb(e,g)?h=!0:(a&&vb(e,g)||kb(e,g)||Cb(e,g)?h=!0:Lb(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&et(e,"alias node should not have any properties")):_b(e,g,Yo===r)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(h=o&&Wh(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&et(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,d=e.implicitTypes.length;u<d;u+=1)if(p=e.implicitTypes[u],p.resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(en.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,f=e.typeMap.multi[e.kind||"fallback"],u=0,d=f.length;u<d;u+=1)if(e.tag.slice(0,f[u].tag.length)===f[u].tag){p=f[u];break}p||et(e,"unknown tag !<"+e.tag+">"),e.result!==null&&p.kind!==e.kind&&et(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):et(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}m($n,"composeNode");function Mb(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Nt(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!_e(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&et(e,"directive name must not be less than one character in length");a!==0;){for(;Zr(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!ar(a));break}if(ar(a))break;for(r=e.position;a!==0&&!_e(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&Dl(e),en.call(vg,n)?vg[n](e,n,i):Gs(e,'unknown document directive "'+n+'"')}if(Nt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Nt(e,!0,-1)):s&&et(e,"directives end mark is expected"),$n(e,e.lineIndent-1,Go,!1,!0),Nt(e,!0,-1),e.checkLineBreaks&&b$.test(e.input.slice(t,e.position))&&Gs(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&pa(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Nt(e,!0,-1));return}if(e.position<e.length-1)et(e,"end of the stream or a document separator is expected");else return}m(Mb,"readDocument");function vf(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new wb(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,et(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Mb(r);return r.documents}m(vf,"loadDocuments");function _$(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=vf(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}m(_$,"loadAll$1");function Bb(e,t){var r=vf(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Re("expected a single document in the stream, but found more")}}m(Bb,"load$1");var k$=Bb,C$={load:k$},Ib=Object.prototype.toString,Rb=Object.prototype.hasOwnProperty,Tf=65279,S$=9,Xs=10,v$=13,T$=32,A$=33,E$=34,Hh=35,L$=37,M$=38,B$=39,I$=42,$b=44,R$=45,Xo=58,$$=61,F$=62,O$=63,P$=64,Fb=91,Ob=93,D$=96,Pb=123,N$=124,Db=125,ge={};ge[0]="\\0";ge[7]="\\a";ge[8]="\\b";ge[9]="\\t";ge[10]="\\n";ge[11]="\\v";ge[12]="\\f";ge[13]="\\r";ge[27]="\\e";ge[34]='\\"';ge[92]="\\\\";ge[133]="\\N";ge[160]="\\_";ge[8232]="\\L";ge[8233]="\\P";var z$=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],q$=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Nb(e,t){var r,n,i,s,a,o,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],o=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=e.compiledTypeMap.fallback[a],l&&Rb.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[a]=o;return r}m(Nb,"compileStyleMap");function zb(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Re("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Gt.repeat("0",n-t.length)+t}m(zb,"encodeHex");var W$=1,Qs=2;function qb(e){this.schema=e.schema||cb,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Gt.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Nb(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Qs:W$,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}m(qb,"State");function jh(e,t){for(var r=Gt.repeat(" ",t),n=0,i=-1,s="",a,o=e.length;n<o;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=o):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}m(jh,"indentString");function Qo(e,t){return`
`+Gt.repeat(" ",e.indent*t)}m(Qo,"generateNextLine");function Wb(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}m(Wb,"testImplicitResolving");function Ks(e){return e===T$||e===S$}m(Ks,"isWhitespace");function Ii(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Tf||65536<=e&&e<=1114111}m(Ii,"isPrintable");function Uh(e){return Ii(e)&&e!==Tf&&e!==v$&&e!==Xs}m(Uh,"isNsCharOrWhitespace");function Vh(e,t,r){var n=Uh(e),i=n&&!Ks(e);return(r?n:n&&e!==$b&&e!==Fb&&e!==Ob&&e!==Pb&&e!==Db)&&e!==Hh&&!(t===Xo&&!i)||Uh(t)&&!Ks(t)&&e===Hh||t===Xo&&i}m(Vh,"isPlainSafe");function Hb(e){return Ii(e)&&e!==Tf&&!Ks(e)&&e!==R$&&e!==O$&&e!==Xo&&e!==$b&&e!==Fb&&e!==Ob&&e!==Pb&&e!==Db&&e!==Hh&&e!==M$&&e!==I$&&e!==A$&&e!==N$&&e!==$$&&e!==F$&&e!==B$&&e!==E$&&e!==L$&&e!==P$&&e!==D$}m(Hb,"isPlainSafeFirst");function jb(e){return!Ks(e)&&e!==Xo}m(jb,"isPlainSafeLast");function ui(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}m(ui,"codePointAt");function Af(e){var t=/^\n* /;return t.test(e)}m(Af,"needIndentIndicator");var Ub=1,Yh=2,Vb=3,Yb=4,si=5;function Gb(e,t,r,n,i,s,a,o){var l,c=0,h=null,u=!1,d=!1,f=n!==-1,p=-1,g=Hb(ui(e,0))&&jb(ui(e,e.length-1));if(t||a)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ui(e,l),!Ii(c))return si;g=g&&Vh(c,h,o),h=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ui(e,l),c===Xs)u=!0,f&&(d=d||l-p-1>n&&e[p+1]!==" ",p=l);else if(!Ii(c))return si;g=g&&Vh(c,h,o),h=c}d=d||f&&l-p-1>n&&e[p+1]!==" "}return!u&&!d?g&&!a&&!i(e)?Ub:s===Qs?si:Yh:r>9&&Af(e)?si:a?s===Qs?si:Yh:d?Yb:Vb}m(Gb,"chooseScalarStyle");function Xb(e,t,r,n,i){e.dump=(function(){if(t.length===0)return e.quotingType===Qs?'""':"''";if(!e.noCompatMode&&(z$.indexOf(t)!==-1||q$.test(t)))return e.quotingType===Qs?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),o=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return Wb(e,c)}switch(m(l,"testAmbiguity"),Gb(t,o,e.indent,a,l,e.quotingType,e.forceQuotes&&!n,i)){case Ub:return t;case Yh:return"'"+t.replace(/'/g,"''")+"'";case Vb:return"|"+Gh(t,e.indent)+Xh(jh(t,s));case Yb:return">"+Gh(t,e.indent)+Xh(jh(Qb(t,a),s));case si:return'"'+Kb(t)+'"';default:throw new Re("impossible error: invalid scalar style")}})()}m(Xb,"writeScalar");function Gh(e,t){var r=Af(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}m(Gh,"blockHeader");function Xh(e){return e[e.length-1]===`
`?e.slice(0,-1):e}m(Xh,"dropEndingNewline");function Qb(e,t){for(var r=/(\n+)([^\n]*)/g,n=(function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,Qh(e.slice(0,c),t)})(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var o=a[1],l=a[2];s=l[0]===" ",n+=o+(!i&&!s&&l!==""?`
`:"")+Qh(l,t),i=s}return n}m(Qb,"foldString");function Qh(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,o=0,l="";n=r.exec(e);)o=n.index,o-i>t&&(s=a>i?a:o,l+=`
`+e.slice(i,s),i=s+1),a=o;return l+=`
`,e.length-i>t&&a>i?l+=e.slice(i,a)+`
`+e.slice(a+1):l+=e.slice(i),l.slice(1)}m(Qh,"foldLine");function Kb(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ui(e,i),n=ge[r],!n&&Ii(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||zb(r);return t}m(Kb,"escapeString");function Jb(e,t,r){var n="",i=e.tag,s,a,o;for(s=0,a=r.length;s<a;s+=1)o=r[s],e.replacer&&(o=e.replacer.call(r,String(s),o)),(wr(e,t,o,!1,!1)||typeof o>"u"&&wr(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}m(Jb,"writeFlowSequence");function Kh(e,t,r,n){var i="",s=e.tag,a,o,l;for(a=0,o=r.length;a<o;a+=1)l=r[a],e.replacer&&(l=e.replacer.call(r,String(a),l)),(wr(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&wr(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Qo(e,t)),e.dump&&Xs===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}m(Kh,"writeBlockSequence");function Zb(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,o,l,c,h;for(a=0,o=s.length;a<o;a+=1)h="",n!==""&&(h+=", "),e.condenseFlow&&(h+='"'),l=s[a],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),wr(e,t,l,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),wr(e,t,c,!1,!1)&&(h+=e.dump,n+=h));e.tag=i,e.dump="{"+n+"}"}m(Zb,"writeFlowMapping");function tw(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),o,l,c,h,u,d;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new Re("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)d="",(!n||i!=="")&&(d+=Qo(e,t)),c=a[o],h=r[c],e.replacer&&(h=e.replacer.call(r,c,h)),wr(e,t+1,c,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&Xs===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,u&&(d+=Qo(e,t)),wr(e,t+1,h,!0,u)&&(e.dump&&Xs===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=s,e.dump=i||"{}"}m(tw,"writeBlockMapping");function Jh(e,t,r){var n,i,s,a,o,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(l=e.styleMap[o.tag]||o.defaultStyle,Ib.call(o.represent)==="[object Function]")n=o.represent(t,l);else if(Rb.call(o.represent,l))n=o.represent[l](t,l);else throw new Re("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}m(Jh,"detectType");function wr(e,t,r,n,i,s,a){e.tag=null,e.dump=r,Jh(e,r,!1)||Jh(e,r,!0);var o=Ib.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var h=o==="[object Object]"||o==="[object Array]",u,d;if(h&&(u=e.duplicates.indexOf(r),d=u!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(h&&d&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),o==="[object Object]")n&&Object.keys(e.dump).length!==0?(tw(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(Zb(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(o==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?Kh(e,t-1,e.dump,i):Kh(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(Jb(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(o==="[object String]")e.tag!=="?"&&Xb(e,e.dump,t,s,l);else{if(o==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Re("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}m(wr,"writeNode");function ew(e,t){var r=[],n=[],i,s;for(Ko(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}m(ew,"getDuplicateReferences");function Ko(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Ko(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Ko(e[n[i]],t,r)}m(Ko,"inspectNode");function H$(e,t){t=t||{};var r=new qb(t);r.noRefs||ew(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),wr(r,0,n,!0,!0)?r.dump+`
`:""}m(H$,"dump$1");function j$(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}m(j$,"renamed");var U$=Vx,V$=C$.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var ce={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},Tg={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function ps(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Dt(e),t=Dt(t);const[r,n]=[e.x,e.y],[i,s]=[t.x,t.y],a=i-r,o=s-n;return{angle:Math.atan(o/a),deltaX:a,deltaY:o}}m(ps,"calculateDeltaAndAngle");var Dt=m(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),Y$=m(e=>({x:m(function(t,r,n){let i=0;const s=Dt(n[0]).x<Dt(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(ce,e.arrowTypeStart)){const{angle:f,deltaX:p}=ps(n[0],n[1]);i=ce[e.arrowTypeStart]*Math.cos(f)*(p>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(ce,e.arrowTypeEnd)){const{angle:f,deltaX:p}=ps(n[n.length-1],n[n.length-2]);i=ce[e.arrowTypeEnd]*Math.cos(f)*(p>=0?1:-1)}const a=Math.abs(Dt(t).x-Dt(n[n.length-1]).x),o=Math.abs(Dt(t).y-Dt(n[n.length-1]).y),l=Math.abs(Dt(t).x-Dt(n[0]).x),c=Math.abs(Dt(t).y-Dt(n[0]).y),h=ce[e.arrowTypeStart],u=ce[e.arrowTypeEnd],d=1;if(a<u&&a>0&&o<u){let f=u+d-a;f*=s==="right"?-1:1,i-=f}if(l<h&&l>0&&c<h){let f=h+d-l;f*=s==="right"?-1:1,i+=f}return Dt(t).x+i},"x"),y:m(function(t,r,n){let i=0;const s=Dt(n[0]).y<Dt(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(ce,e.arrowTypeStart)){const{angle:f,deltaY:p}=ps(n[0],n[1]);i=ce[e.arrowTypeStart]*Math.abs(Math.sin(f))*(p>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(ce,e.arrowTypeEnd)){const{angle:f,deltaY:p}=ps(n[n.length-1],n[n.length-2]);i=ce[e.arrowTypeEnd]*Math.abs(Math.sin(f))*(p>=0?1:-1)}const a=Math.abs(Dt(t).y-Dt(n[n.length-1]).y),o=Math.abs(Dt(t).x-Dt(n[n.length-1]).x),l=Math.abs(Dt(t).y-Dt(n[0]).y),c=Math.abs(Dt(t).x-Dt(n[0]).x),h=ce[e.arrowTypeStart],u=ce[e.arrowTypeEnd],d=1;if(a<u&&a>0&&o<u){let f=u+d-a;f*=s==="up"?-1:1,i-=f}if(l<h&&l>0&&c<h){let f=h+d-l;f*=s==="up"?-1:1,i+=f}return Dt(t).y+i},"y")}),"getLineFunctionsWithOffset"),Ef=m(({flowchart:e})=>{const t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),G$=m(e=>{const{handDrawnSeed:t}=Lt();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Di=m(e=>{const t=X$([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),X$=m(e=>{const t=new Map;return e.forEach(r=>{const[n,i]=r.split(":");t.set(n.trim(),i?.trim())}),t},"styles2Map"),rw=m(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),J=m(e=>{const{stylesArray:t}=Di(e),r=[],n=[],i=[],s=[];return t.forEach(a=>{const o=a[0];rw(o)?r.push(a.join(":")+" !important"):(n.push(a.join(":")+" !important"),o.includes("stroke")&&i.push(a.join(":")+" !important"),o==="fill"&&s.push(a.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:s}},"styles2String"),K=m((e,t)=>{const{themeVariables:r,handDrawnSeed:n}=Lt(),{nodeBorder:i,mainBkg:s}=r,{stylesMap:a}=Di(e);return Object.assign({roughness:.7,fill:a.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:a.get("stroke")||i,seed:n,strokeWidth:a.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:Q$(a.get("stroke-dasharray"))},t)},"userNodeOverrides"),Q$=m(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const i=isNaN(t[0])?0:t[0];return[i,i]}const r=isNaN(t[0])?0:t[0],n=isNaN(t[1])?0:t[1];return[r,n]},"getStrokeDashArray"),ns={},jt={},Ag;function K$(){return Ag||(Ag=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.BLANK_URL=jt.relativeFirstCharacters=jt.whitespaceEscapeCharsRegex=jt.urlSchemeRegex=jt.ctrlCharactersRegex=jt.htmlCtrlEntityRegex=jt.htmlEntitiesRegex=jt.invalidProtocolRegex=void 0,jt.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,jt.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,jt.htmlCtrlEntityRegex=/&(newline|tab);/gi,jt.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,jt.urlSchemeRegex=/^.+(:|&colon;)/gim,jt.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,jt.relativeFirstCharacters=[".","/"],jt.BLANK_URL="about:blank"),jt}var Eg;function J$(){if(Eg)return ns;Eg=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.sanitizeUrl=void 0;var e=K$();function t(a){return e.relativeFirstCharacters.indexOf(a[0])>-1}function r(a){var o=a.replace(e.ctrlCharactersRegex,"");return o.replace(e.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function n(a){return URL.canParse(a)}function i(a){try{return decodeURIComponent(a)}catch{return a}}function s(a){if(!a)return e.BLANK_URL;var o,l=i(a.trim());do l=r(l).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),l=i(l),o=l.match(e.ctrlCharactersRegex)||l.match(e.htmlEntitiesRegex)||l.match(e.htmlCtrlEntityRegex)||l.match(e.whitespaceEscapeCharsRegex);while(o&&o.length>0);var c=l;if(!c)return e.BLANK_URL;if(t(c))return c;var h=c.trimStart(),u=h.match(e.urlSchemeRegex);if(!u)return c;var d=u[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(d))return e.BLANK_URL;var f=h.replace(/\\/g,"/");if(d==="mailto:"||d.includes("://"))return f;if(d==="http:"||d==="https:"){if(!n(f))return e.BLANK_URL;var p=new URL(f);return p.protocol=p.protocol.toLowerCase(),p.hostname=p.hostname.toLowerCase(),p.toString()}return f}return ns.sanitizeUrl=s,ns}var Z$=J$(),nw=typeof global=="object"&&global&&global.Object===Object&&global,tF=typeof self=="object"&&self&&self.Object===Object&&self,kr=nw||tF||Function("return this")(),Jo=kr.Symbol,iw=Object.prototype,eF=iw.hasOwnProperty,rF=iw.toString,is=Jo?Jo.toStringTag:void 0;function nF(e){var t=eF.call(e,is),r=e[is];try{e[is]=void 0;var n=!0}catch{}var i=rF.call(e);return n&&(t?e[is]=r:delete e[is]),i}var iF=Object.prototype,sF=iF.toString;function aF(e){return sF.call(e)}var oF="[object Null]",lF="[object Undefined]",Lg=Jo?Jo.toStringTag:void 0;function Ni(e){return e==null?e===void 0?lF:oF:Lg&&Lg in Object(e)?nF(e):aF(e)}function qn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var cF="[object AsyncFunction]",hF="[object Function]",uF="[object GeneratorFunction]",fF="[object Proxy]";function Lf(e){if(!qn(e))return!1;var t=Ni(e);return t==hF||t==uF||t==cF||t==fF}var Dc=kr["__core-js_shared__"],Mg=(function(){var e=/[^.]+$/.exec(Dc&&Dc.keys&&Dc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function dF(e){return!!Mg&&Mg in e}var pF=Function.prototype,gF=pF.toString;function Wn(e){if(e!=null){try{return gF.call(e)}catch{}try{return e+""}catch{}}return""}var mF=/[\\^$.*+?()[\]{}|]/g,yF=/^\[object .+?Constructor\]$/,xF=Function.prototype,bF=Object.prototype,wF=xF.toString,_F=bF.hasOwnProperty,kF=RegExp("^"+wF.call(_F).replace(mF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function CF(e){if(!qn(e)||dF(e))return!1;var t=Lf(e)?kF:yF;return t.test(Wn(e))}function SF(e,t){return e?.[t]}function Hn(e,t){var r=SF(e,t);return CF(r)?r:void 0}var Js=Hn(Object,"create");function vF(){this.__data__=Js?Js(null):{},this.size=0}function TF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var AF="__lodash_hash_undefined__",EF=Object.prototype,LF=EF.hasOwnProperty;function MF(e){var t=this.__data__;if(Js){var r=t[e];return r===AF?void 0:r}return LF.call(t,e)?t[e]:void 0}var BF=Object.prototype,IF=BF.hasOwnProperty;function RF(e){var t=this.__data__;return Js?t[e]!==void 0:IF.call(t,e)}var $F="__lodash_hash_undefined__";function FF(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Js&&t===void 0?$F:t,this}function Fn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fn.prototype.clear=vF;Fn.prototype.delete=TF;Fn.prototype.get=MF;Fn.prototype.has=RF;Fn.prototype.set=FF;function OF(){this.__data__=[],this.size=0}function zl(e,t){return e===t||e!==e&&t!==t}function ql(e,t){for(var r=e.length;r--;)if(zl(e[r][0],t))return r;return-1}var PF=Array.prototype,DF=PF.splice;function NF(e){var t=this.__data__,r=ql(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():DF.call(t,r,1),--this.size,!0}function zF(e){var t=this.__data__,r=ql(t,e);return r<0?void 0:t[r][1]}function qF(e){return ql(this.__data__,e)>-1}function WF(e,t){var r=this.__data__,n=ql(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Wr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wr.prototype.clear=OF;Wr.prototype.delete=NF;Wr.prototype.get=zF;Wr.prototype.has=qF;Wr.prototype.set=WF;var Zs=Hn(kr,"Map");function HF(){this.size=0,this.__data__={hash:new Fn,map:new(Zs||Wr),string:new Fn}}function jF(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Wl(e,t){var r=e.__data__;return jF(t)?r[typeof t=="string"?"string":"hash"]:r.map}function UF(e){var t=Wl(this,e).delete(e);return this.size-=t?1:0,t}function VF(e){return Wl(this,e).get(e)}function YF(e){return Wl(this,e).has(e)}function GF(e,t){var r=Wl(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function an(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}an.prototype.clear=HF;an.prototype.delete=UF;an.prototype.get=VF;an.prototype.has=YF;an.prototype.set=GF;var XF="Expected a function";function ga(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(XF);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(ga.Cache||an),r}ga.Cache=an;function QF(){this.__data__=new Wr,this.size=0}function KF(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function JF(e){return this.__data__.get(e)}function ZF(e){return this.__data__.has(e)}var tO=200;function eO(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!Zs||n.length<tO-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new an(n)}return r.set(e,t),this.size=r.size,this}function zi(e){var t=this.__data__=new Wr(e);this.size=t.size}zi.prototype.clear=QF;zi.prototype.delete=KF;zi.prototype.get=JF;zi.prototype.has=ZF;zi.prototype.set=eO;var Zo=(function(){try{var e=Hn(Object,"defineProperty");return e({},"",{}),e}catch{}})();function Mf(e,t,r){t=="__proto__"&&Zo?Zo(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Zh(e,t,r){(r!==void 0&&!zl(e[t],r)||r===void 0&&!(t in e))&&Mf(e,t,r)}function rO(e){return function(t,r,n){for(var i=-1,s=Object(t),a=n(t),o=a.length;o--;){var l=a[++i];if(r(s[l],l,s)===!1)break}return t}}var nO=rO(),sw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Bg=sw&&typeof module=="object"&&module&&!module.nodeType&&module,iO=Bg&&Bg.exports===sw,Ig=iO?kr.Buffer:void 0,Rg=Ig?Ig.allocUnsafe:void 0;function sO(e,t){if(t)return e.slice();var r=e.length,n=Rg?Rg(r):new e.constructor(r);return e.copy(n),n}var $g=kr.Uint8Array;function aO(e){var t=new e.constructor(e.byteLength);return new $g(t).set(new $g(e)),t}function oO(e,t){var r=t?aO(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function lO(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Fg=Object.create,cO=(function(){function e(){}return function(t){if(!qn(t))return{};if(Fg)return Fg(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function aw(e,t){return function(r){return e(t(r))}}var ow=aw(Object.getPrototypeOf,Object),hO=Object.prototype;function Hl(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||hO;return e===r}function uO(e){return typeof e.constructor=="function"&&!Hl(e)?cO(ow(e)):{}}function ma(e){return e!=null&&typeof e=="object"}var fO="[object Arguments]";function Og(e){return ma(e)&&Ni(e)==fO}var lw=Object.prototype,dO=lw.hasOwnProperty,pO=lw.propertyIsEnumerable,tl=Og((function(){return arguments})())?Og:function(e){return ma(e)&&dO.call(e,"callee")&&!pO.call(e,"callee")},el=Array.isArray,gO=9007199254740991;function cw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gO}function jl(e){return e!=null&&cw(e.length)&&!Lf(e)}function mO(e){return ma(e)&&jl(e)}function yO(){return!1}var hw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pg=hw&&typeof module=="object"&&module&&!module.nodeType&&module,xO=Pg&&Pg.exports===hw,Dg=xO?kr.Buffer:void 0,bO=Dg?Dg.isBuffer:void 0,Bf=bO||yO,wO="[object Object]",_O=Function.prototype,kO=Object.prototype,uw=_O.toString,CO=kO.hasOwnProperty,SO=uw.call(Object);function vO(e){if(!ma(e)||Ni(e)!=wO)return!1;var t=ow(e);if(t===null)return!0;var r=CO.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&uw.call(r)==SO}var TO="[object Arguments]",AO="[object Array]",EO="[object Boolean]",LO="[object Date]",MO="[object Error]",BO="[object Function]",IO="[object Map]",RO="[object Number]",$O="[object Object]",FO="[object RegExp]",OO="[object Set]",PO="[object String]",DO="[object WeakMap]",NO="[object ArrayBuffer]",zO="[object DataView]",qO="[object Float32Array]",WO="[object Float64Array]",HO="[object Int8Array]",jO="[object Int16Array]",UO="[object Int32Array]",VO="[object Uint8Array]",YO="[object Uint8ClampedArray]",GO="[object Uint16Array]",XO="[object Uint32Array]",Ot={};Ot[qO]=Ot[WO]=Ot[HO]=Ot[jO]=Ot[UO]=Ot[VO]=Ot[YO]=Ot[GO]=Ot[XO]=!0;Ot[TO]=Ot[AO]=Ot[NO]=Ot[EO]=Ot[zO]=Ot[LO]=Ot[MO]=Ot[BO]=Ot[IO]=Ot[RO]=Ot[$O]=Ot[FO]=Ot[OO]=Ot[PO]=Ot[DO]=!1;function QO(e){return ma(e)&&cw(e.length)&&!!Ot[Ni(e)]}function KO(e){return function(t){return e(t)}}var fw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ps=fw&&typeof module=="object"&&module&&!module.nodeType&&module,JO=Ps&&Ps.exports===fw,Nc=JO&&nw.process,Ng=(function(){try{var e=Ps&&Ps.require&&Ps.require("util").types;return e||Nc&&Nc.binding&&Nc.binding("util")}catch{}})(),zg=Ng&&Ng.isTypedArray,If=zg?KO(zg):QO;function tu(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ZO=Object.prototype,tP=ZO.hasOwnProperty;function eP(e,t,r){var n=e[t];(!(tP.call(e,t)&&zl(n,r))||r===void 0&&!(t in e))&&Mf(e,t,r)}function rP(e,t,r,n){var i=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=void 0;l===void 0&&(l=e[o]),i?Mf(r,o,l):eP(r,o,l)}return r}function nP(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var iP=9007199254740991,sP=/^(?:0|[1-9]\d*)$/;function dw(e,t){var r=typeof e;return t=t??iP,!!t&&(r=="number"||r!="symbol"&&sP.test(e))&&e>-1&&e%1==0&&e<t}var aP=Object.prototype,oP=aP.hasOwnProperty;function lP(e,t){var r=el(e),n=!r&&tl(e),i=!r&&!n&&Bf(e),s=!r&&!n&&!i&&If(e),a=r||n||i||s,o=a?nP(e.length,String):[],l=o.length;for(var c in e)(t||oP.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||dw(c,l)))&&o.push(c);return o}function cP(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var hP=Object.prototype,uP=hP.hasOwnProperty;function fP(e){if(!qn(e))return cP(e);var t=Hl(e),r=[];for(var n in e)n=="constructor"&&(t||!uP.call(e,n))||r.push(n);return r}function pw(e){return jl(e)?lP(e,!0):fP(e)}function dP(e){return rP(e,pw(e))}function pP(e,t,r,n,i,s,a){var o=tu(e,r),l=tu(t,r),c=a.get(l);if(c){Zh(e,r,c);return}var h=s?s(o,l,r+"",e,t,a):void 0,u=h===void 0;if(u){var d=el(l),f=!d&&Bf(l),p=!d&&!f&&If(l);h=l,d||f||p?el(o)?h=o:mO(o)?h=lO(o):f?(u=!1,h=sO(l,!0)):p?(u=!1,h=oO(l,!0)):h=[]:vO(l)||tl(l)?(h=o,tl(o)?h=dP(o):(!qn(o)||Lf(o))&&(h=uO(l))):u=!1}u&&(a.set(l,h),i(h,l,n,s,a),a.delete(l)),Zh(e,r,h)}function gw(e,t,r,n,i){e!==t&&nO(t,function(s,a){if(i||(i=new zi),qn(s))pP(e,t,a,r,gw,n,i);else{var o=n?n(tu(e,a),s,a+"",e,t,i):void 0;o===void 0&&(o=s),Zh(e,a,o)}},pw)}function mw(e){return e}function gP(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var qg=Math.max;function mP(e,t,r){return t=qg(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=qg(n.length-t,0),a=Array(s);++i<s;)a[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(a),gP(e,this,o)}}function yP(e){return function(){return e}}var xP=Zo?function(e,t){return Zo(e,"toString",{configurable:!0,enumerable:!1,value:yP(t),writable:!0})}:mw,bP=800,wP=16,_P=Date.now;function kP(e){var t=0,r=0;return function(){var n=_P(),i=wP-(n-r);if(r=n,i>0){if(++t>=bP)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var CP=kP(xP);function SP(e,t){return CP(mP(e,t,mw),e+"")}function vP(e,t,r){if(!qn(r))return!1;var n=typeof t;return(n=="number"?jl(r)&&dw(t,r.length):n=="string"&&t in r)?zl(r[t],e):!1}function TP(e){return SP(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,a&&vP(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var o=r[n];o&&e(t,o,n,s)}return t})}var AP=TP(function(e,t,r){gw(e,t,r)}),EP="​",LP={curveBasis:oo,curveBasisClosed:BR,curveBasisOpen:IR,curveBumpX:ex,curveBumpY:rx,curveBundle:RR,curveCardinalClosed:$R,curveCardinalOpen:FR,curveCardinal:ax,curveCatmullRomClosed:OR,curveCatmullRomOpen:PR,curveCatmullRom:lx,curveLinear:Wo,curveLinearClosed:DR,curveMonotoneX:px,curveMonotoneY:gx,curveNatural:yx,curveStep:xx,curveStepAfter:wx,curveStepBefore:bx},MP=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,BP=m(function(e,t){const r=yw(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const a=r.map(o=>o.args);Bo(a),n=Yt(n,[...a])}else n=r.args;if(!n)return;let i=ef(e,t);const s="config";return n[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s]),n},"detectInit"),yw=m(function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${MP.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),N.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n;const i=[];for(;(n=Fs.exec(e))!==null;)if(n.index===Fs.lastIndex&&Fs.lastIndex++,n&&!t||t&&n[1]?.match(t)||t&&n[2]?.match(t)){const s=n[1]?n[1]:n[2],a=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:s,args:a})}return i.length===0?{type:e,args:null}:i.length===1?i[0]:i}catch(r){return N.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),IP=m(function(e){return e.replace(Fs,"")},"removeDirectives"),RP=m(function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");function Rf(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return LP[r]??t}m(Rf,"interpolateToCurve");function xw(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?Z$.sanitizeUrl(r):r}m(xw,"formatUrl");var $P=m((e,...t)=>{const r=e.split("."),n=r.length-1,i=r[n];let s=window;for(let a=0;a<n;a++)if(s=s[r[a]],!s){N.error(`Function name: ${e} not found in window`);return}s[i](...t)},"runFunc");function $f(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}m($f,"distance");function bw(e){let t,r=0;e.forEach(i=>{r+=$f(i,t),t=i});const n=r/2;return Ff(e,n)}m(bw,"traverseEdge");function ww(e){return e.length===1?e[0]:bw(e)}m(ww,"calcLabelPosition");var Wg=m((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),Ff=m((e,t)=>{let r,n=t;for(const i of e){if(r){const s=$f(i,r);if(s===0)return r;if(s<n)n-=s;else{const a=n/s;if(a<=0)return r;if(a>=1)return{x:i.x,y:i.y};if(a>0&&a<1)return{x:Wg((1-a)*r.x+a*i.x,5),y:Wg((1-a)*r.y+a*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),FP=m((e,t,r)=>{N.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const i=Ff(t,25),s=e?10:5,a=Math.atan2(t[0].y-i.y,t[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(a)*s+(t[0].x+i.x)/2,o.y=-Math.cos(a)*s+(t[0].y+i.y)/2,o},"calcCardinalityPosition");function _w(e,t,r){const n=structuredClone(r);N.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const i=25+e,s=Ff(n,i),a=10+e*.5,o=Math.atan2(n[0].y-s.y,n[0].x-s.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(o+Math.PI)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o+Math.PI)*a+(n[0].y+s.y)/2):t==="end_right"?(l.x=Math.sin(o-Math.PI)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o-Math.PI)*a+(n[0].y+s.y)/2-5):t==="end_left"?(l.x=Math.sin(o)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2-5):(l.x=Math.sin(o)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2),l}m(_w,"calcTerminalLabelPosition");function kw(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}m(kw,"getStylesFromArray");var Hg=0,OP=m(()=>(Hg++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Hg),"generateId");function Cw(e){let t="";const r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}m(Cw,"makeRandomHex");var PP=m(e=>Cw(e.length),"random"),DP=m(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),NP=m(function(e,t){const r=t.text.replace(Pi.lineBreakRegex," "),[,n]=Ul(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const s=i.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(r),i},"drawSimpleText"),zP=ga((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Pi.lineBreakRegex.test(e)))return e;const n=e.split(" ").filter(Boolean),i=[];let s="";return n.forEach((a,o)=>{const l=zr(`${a} `,r),c=zr(s,r);if(l>t){const{hyphenatedStrings:d,remainingWord:f}=qP(a,t,"-",r);i.push(s,...d),s=f}else c+l>=t?(i.push(s),s=a):s=[s,a].filter(Boolean).join(" ");o+1===n.length&&i.push(s)}),i.filter(a=>a!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),qP=ga((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],s=[];let a="";return i.forEach((o,l)=>{const c=`${a}${o}`;if(zr(c,n)>=t){const u=l+1,d=i.length===u,f=`${c}${r}`;s.push(d?c:f),a=""}else a=c}),{hyphenatedStrings:s,remainingWord:a}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function Sw(e,t){return Of(e,t).height}m(Sw,"calculateTextHeight");function zr(e,t){return Of(e,t).width}m(zr,"calculateTextWidth");var Of=ga((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,s]=Ul(r),a=["sans-serif",n],o=e.split(Pi.lineBreakRegex),l=[],c=St("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const h=c.append("svg");for(const d of a){let f=0;const p={width:0,height:0,lineHeight:0};for(const g of o){const x=DP();x.text=g||EP;const y=NP(h,x).style("font-size",s).style("font-weight",i).style("font-family",d),b=(y._groups||y)[0][0].getBBox();if(b.width===0&&b.height===0)throw new Error("svg element not in render tree");p.width=Math.round(Math.max(p.width,b.width)),f=Math.round(b.height),p.height+=f,p.lineHeight=Math.round(Math.max(p.lineHeight,f))}l.push(p)}h.remove();const u=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[u]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Si,WP=(Si=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},m(Si,"InitIDGenerator"),Si),Na,HP=m(function(e){return Na=Na||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Na.innerHTML=e,unescape(Na.textContent)},"entityDecode");function Pf(e){return"str"in e}m(Pf,"isDetailedError");var jP=m((e,t,r,n)=>{if(!n)return;const i=e.node()?.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Ul=m(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function Df(e,t){return AP({},e,t)}m(Df,"cleanAndMerge");var ir={assignWithDepth:Yt,wrapLabel:zP,calculateTextHeight:Sw,calculateTextWidth:zr,calculateTextDimensions:Of,cleanAndMerge:Df,detectInit:BP,detectDirective:yw,isSubstringInArray:RP,interpolateToCurve:Rf,calcLabelPosition:ww,calcCardinalityPosition:FP,calcTerminalLabelPosition:_w,formatUrl:xw,getStylesFromArray:kw,generateId:OP,random:PP,runFunc:$P,entityDecode:HP,insertTitle:jP,isLabelCoordinateInPath:vw,parseFontSize:Ul,InitIDGenerator:WP},UP=m(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),t},"encodeEntities"),jn=m(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),Fq=m((e,t,{counter:r=0,prefix:n,suffix:i},s)=>s||`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId");function de(e){return e??null}m(de,"handleUndefinedAttr");function vw(e,t){const r=Math.round(e.x),n=Math.round(e.y),i=t.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(r.toString())||i.includes(n.toString())}m(vw,"isLabelCoordinateInPath");const VP=Object.freeze({left:0,top:0,width:16,height:16}),rl=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Tw=Object.freeze({...VP,...rl}),YP=Object.freeze({...Tw,body:"",hidden:!1}),GP=Object.freeze({width:null,height:null}),XP=Object.freeze({...GP,...rl}),QP=(e,t,r,n="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:n,prefix:l,name:o};return zc(c)?c:null}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:n,prefix:a.shift(),name:a.join("-")};return zc(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:s};return zc(o,r)?o:null}return null},zc=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function KP(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function jg(e,t){const r=KP(e,t);for(const n in YP)n in rl?n in e&&!(n in r)&&(r[n]=rl[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function JP(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function s(a){if(r[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=n[a]&&n[a].parent,l=o&&s(o);l&&(i[a]=[o].concat(l))}return i[a]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function Ug(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let s={};function a(o){s=jg(n[o]||i[o],s)}return a(t),r.forEach(a),jg(e,s)}function ZP(e,t){if(e.icons[t])return Ug(e,t,[]);const r=JP(e,[t])[t];return r?Ug(e,t,r):null}const tD=/(-?[0-9.]*[0-9]+[0-9.]*)/g,eD=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Vg(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(tD);if(n===null||!n.length)return e;const i=[];let s=n.shift(),a=eD.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*t*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");a=!a}}function rD(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),s=e.indexOf("</"+t);if(i===-1||s===-1)break;const a=e.indexOf(">",s);if(a===-1)break;r+=e.slice(i+1,s).trim(),e=e.slice(0,n).trim()+e.slice(a+1)}return{defs:r,content:e}}function nD(e,t){return e?"<defs>"+e+"</defs>"+t:t}function iD(e,t,r){const n=rD(e);return nD(n.defs,t+n.content+r)}const sD=e=>e==="unset"||e==="undefined"||e==="none";function aD(e,t){const r={...Tw,...e},n={...XP,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(g=>{const x=[],y=g.hFlip,b=g.vFlip;let w=g.rotate;y?b?w+=2:(x.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),x.push("scale(-1 1)"),i.top=i.left=0):b&&(x.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),x.push("scale(1 -1)"),i.top=i.left=0);let k;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:k=i.height/2+i.top,x.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:x.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:k=i.width/2+i.left,x.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}w%2===1&&(i.left!==i.top&&(k=i.left,i.left=i.top,i.top=k),i.width!==i.height&&(k=i.width,i.width=i.height,i.height=k)),x.length&&(s=iD(s,'<g transform="'+x.join(" ")+'">',"</g>"))});const a=n.width,o=n.height,l=i.width,c=i.height;let h,u;a===null?(u=o===null?"1em":o==="auto"?c:o,h=Vg(u,l/c)):(h=a==="auto"?l:a,u=o===null?Vg(h,c/l):o==="auto"?c:o);const d={},f=(g,x)=>{sD(x)||(d[g]=x.toString())};f("width",h),f("height",u);const p=[i.left,i.top,l,c];return d.viewBox=p.join(" "),{attributes:d,viewBox:p,body:s}}const oD=/\sid="(\S+)"/g,lD="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let cD=0;function hD(e,t=lD){const r=[];let n;for(;n=oD.exec(e);)r.push(n[1]);if(!r.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(s=>{const a=typeof t=="function"?t(s):t+(cD++).toString(),o=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}function uD(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function Nf(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Un=Nf();function Aw(e){Un=e}var Ds={exec:()=>null};function It(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(ke.caret,"$1"),r=r.replace(i,a),n},getRegex:()=>new RegExp(r,t)};return n}var ke={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},fD=/^(?:[ \t]*(?:\n|$))+/,dD=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,pD=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ya=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,gD=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,zf=/(?:[*+-]|\d{1,9}[.)])/,Ew=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Lw=It(Ew).replace(/bull/g,zf).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),mD=It(Ew).replace(/bull/g,zf).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),qf=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,yD=/^[^\n]+/,Wf=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,xD=It(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Wf).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),bD=It(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,zf).getRegex(),Vl="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Hf=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,wD=It("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Hf).replace("tag",Vl).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Mw=It(qf).replace("hr",ya).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vl).getRegex(),_D=It(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Mw).getRegex(),jf={blockquote:_D,code:dD,def:xD,fences:pD,heading:gD,hr:ya,html:wD,lheading:Lw,list:bD,newline:fD,paragraph:Mw,table:Ds,text:yD},Yg=It("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ya).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vl).getRegex(),kD={...jf,lheading:mD,table:Yg,paragraph:It(qf).replace("hr",ya).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Yg).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vl).getRegex()},CD={...jf,html:It(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Hf).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ds,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:It(qf).replace("hr",ya).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Lw).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},SD=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,vD=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Bw=/^( {2,}|\\)\n(?!\s*$)/,TD=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Yl=/[\p{P}\p{S}]/u,Uf=/[\s\p{P}\p{S}]/u,Iw=/[^\s\p{P}\p{S}]/u,AD=It(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Uf).getRegex(),Rw=/(?!~)[\p{P}\p{S}]/u,ED=/(?!~)[\s\p{P}\p{S}]/u,LD=/(?:[^\s\p{P}\p{S}]|~)/u,MD=/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,$w=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,BD=It($w,"u").replace(/punct/g,Yl).getRegex(),ID=It($w,"u").replace(/punct/g,Rw).getRegex(),Fw="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",RD=It(Fw,"gu").replace(/notPunctSpace/g,Iw).replace(/punctSpace/g,Uf).replace(/punct/g,Yl).getRegex(),$D=It(Fw,"gu").replace(/notPunctSpace/g,LD).replace(/punctSpace/g,ED).replace(/punct/g,Rw).getRegex(),FD=It("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Iw).replace(/punctSpace/g,Uf).replace(/punct/g,Yl).getRegex(),OD=It(/\\(punct)/,"gu").replace(/punct/g,Yl).getRegex(),PD=It(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),DD=It(Hf).replace("(?:-->|$)","-->").getRegex(),ND=It("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",DD).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),nl=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,zD=It(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",nl).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ow=It(/^!?\[(label)\]\[(ref)\]/).replace("label",nl).replace("ref",Wf).getRegex(),Pw=It(/^!?\[(ref)\](?:\[\])?/).replace("ref",Wf).getRegex(),qD=It("reflink|nolink(?!\\()","g").replace("reflink",Ow).replace("nolink",Pw).getRegex(),Vf={_backpedal:Ds,anyPunctuation:OD,autolink:PD,blockSkip:MD,br:Bw,code:vD,del:Ds,emStrongLDelim:BD,emStrongRDelimAst:RD,emStrongRDelimUnd:FD,escape:SD,link:zD,nolink:Pw,punctuation:AD,reflink:Ow,reflinkSearch:qD,tag:ND,text:TD,url:Ds},WD={...Vf,link:It(/^!?\[(label)\]\((.*?)\)/).replace("label",nl).getRegex(),reflink:It(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",nl).getRegex()},eu={...Vf,emStrongRDelimAst:$D,emStrongLDelim:ID,url:It(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},HD={...eu,br:It(Bw).replace("{2,}","*").getRegex(),text:It(eu.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},za={normal:jf,gfm:kD,pedantic:CD},ss={normal:Vf,gfm:eu,breaks:HD,pedantic:WD},jD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gg=e=>jD[e];function dr(e,t){if(t){if(ke.escapeTest.test(e))return e.replace(ke.escapeReplace,Gg)}else if(ke.escapeTestNoEncode.test(e))return e.replace(ke.escapeReplaceNoEncode,Gg);return e}function Xg(e){try{e=encodeURI(e).replace(ke.percentDecode,"%")}catch{return null}return e}function Qg(e,t){let r=e.replace(ke.findPipe,(s,a,o)=>{let l=!1,c=a;for(;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),n=r.split(ke.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(ke.slashPipe,"|");return n}function as(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function UD(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function Kg(e,t,r,n,i){let s=t.href,a=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function VD(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(s=>{let a=s.match(r.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var il=class{options;rules;lexer;constructor(t){this.options=t||Un}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:as(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],i=VD(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let i=as(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:as(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=as(r[0],`
`).split(`
`),i="",s="",a=[];for(;n.length>0;){let o=!1,l=[],c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),o=!0;else if(!o)l.push(n[c]);else break;n=n.slice(c);let h=l.join(`
`),u=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${h}`:h,s=s?`${s}
${u}`:u;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,a,!0),this.lexer.state.top=d,n.length===0)break;let f=a.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){let p=f,g=p.raw+`
`+n.join(`
`),x=this.blockquote(g);a[a.length-1]=x,i=i.substring(0,i.length-p.raw.length)+x.raw,s=s.substring(0,s.length-p.text.length)+x.text;break}else if(f?.type==="list"){let p=f,g=p.raw+`
`+n.join(`
`),x=this.list(g);a[a.length-1]=x,i=i.substring(0,i.length-f.raw.length)+x.raw,s=s.substring(0,s.length-p.raw.length)+x.raw,n=g.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim(),i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let a=this.rules.other.listItemRegex(n),o=!1;for(;t;){let c=!1,h="",u="";if(!(r=a.exec(t))||this.rules.block.hr.test(t))break;h=r[0],t=t.substring(h.length);let d=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),f=t.split(`
`,1)[0],p=!d.trim(),g=0;if(this.options.pedantic?(g=2,u=d.trimStart()):p?g=r[1].length+1:(g=r[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,u=d.slice(g),g+=r[1].length),p&&this.rules.other.blankLine.test(f)&&(h+=f+`
`,t=t.substring(f.length+1),c=!0),!c){let b=this.rules.other.nextBulletRegex(g),w=this.rules.other.hrRegex(g),k=this.rules.other.fencesBeginRegex(g),S=this.rules.other.headingBeginRegex(g),_=this.rules.other.htmlBeginRegex(g);for(;t;){let A=t.split(`
`,1)[0],B;if(f=A,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),B=f):B=f.replace(this.rules.other.tabCharGlobal,"    "),k.test(f)||S.test(f)||_.test(f)||b.test(f)||w.test(f))break;if(B.search(this.rules.other.nonSpaceChar)>=g||!f.trim())u+=`
`+B.slice(g);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(d)||S.test(d)||w.test(d))break;u+=`
`+f}!p&&!f.trim()&&(p=!0),h+=A+`
`,t=t.substring(A.length+1),d=B.slice(g)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(o=!0));let x=null,y;this.options.gfm&&(x=this.rules.other.listIsTask.exec(u),x&&(y=x[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:h,task:!!x,checked:y,loose:!1,text:u,tokens:[]}),s.raw+=h}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let h=s.items[c].tokens.filter(d=>d.type==="space"),u=h.length>0&&h.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=u}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:s}}}table(t){let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=Qg(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=r[3]?.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let o of i)this.rules.other.tableAlignRight.test(o)?a.align.push("right"):this.rules.other.tableAlignCenter.test(o)?a.align.push("center"):this.rules.other.tableAlignLeft.test(o)?a.align.push("left"):a.align.push(null);for(let o=0;o<n.length;o++)a.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:a.align[o]});for(let o of s)a.rows.push(Qg(o,a.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[c]})));return a}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let a=as(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{let a=UD(r[2],"()");if(a===-2)return;if(a>-1){let o=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,o).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),Kg(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[i.toLowerCase()];if(!s){let a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return Kg(n,s,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...i[0]].length-1,a,o,l=s,c=0,h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);(i=h.exec(r))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){l+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+c);let u=[...i[0]][0].length,d=t.slice(0,s+i.index+u+o);if(Math.min(s,o)%2){let p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}let f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,i;if(r[2]==="@")n=r[0],i="mailto:"+n;else{let s;do s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(s!==r[0]);n=r[0],r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},Fr=class ru{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Un,this.options.tokenizer=this.options.tokenizer||new il,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:ke,block:za.normal,inline:ss.normal};this.options.pedantic?(r.block=za.pedantic,r.inline=ss.pedantic):this.options.gfm&&(r.block=za.gfm,this.options.breaks?r.inline=ss.breaks:r.inline=ss.gfm),this.tokenizer.rules=r}static get rules(){return{block:za,inline:ss}}static lex(t,r){return new ru(r).lex(t)}static lexInline(t,r){return new ru(r).inlineTokens(t)}lex(t){t=t.replace(ke.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){for(this.options.pedantic&&(t=t.replace(ke.tabCharGlobal,"    ").replace(ke.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(a=>(i=a.call({lexer:this},t,r))?(t=t.substring(i.raw.length),r.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let a=r.at(-1);i.raw.length===1&&a!==void 0?a.raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.at(-1).src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},r.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),r.push(i);continue}let s=t;if(this.options.extensions?.startBlock){let a=1/0,o=t.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},o),typeof l=="number"&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(s=t.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let a=r.at(-1);n&&a?.type==="paragraph"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(i),n=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(i);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n=t,i=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)o.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,a="";for(;t;){s||(a=""),s=!1;let o;if(this.options.extensions?.inline?.some(c=>(o=c.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length);let c=r.at(-1);o.type==="text"&&c?.type==="text"?(c.raw+=o.raw,c.text+=o.text):r.push(o);continue}if(o=this.tokenizer.emStrong(t,n,a)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.autolink(t)){t=t.substring(o.raw.length),r.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t))){t=t.substring(o.raw.length),r.push(o);continue}let l=t;if(this.options.extensions?.startInline){let c=1/0,h=t.slice(1),u;this.options.extensions.startInline.forEach(d=>{u=d.call({lexer:this},h),typeof u=="number"&&u>=0&&(c=Math.min(c,u))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(o=this.tokenizer.inlineText(l)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(a=o.raw.slice(-1)),s=!0;let c=r.at(-1);c?.type==="text"?(c.raw+=o.raw,c.text+=o.text):r.push(o);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return r}},sl=class{options;parser;constructor(t){this.options=t||Un}space(t){return""}code({text:t,lang:r,escaped:n}){let i=(r||"").match(ke.notSpaceStart)?.[0],s=t.replace(ke.endingNewline,"")+`
`;return i?'<pre><code class="language-'+dr(i)+'">'+(n?s:dr(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:dr(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,i="";for(let o=0;o<t.items.length;o++){let l=t.items[o];i+=this.listitem(l)}let s=r?"ol":"ul",a=r&&n!==1?' start="'+n+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(t){let r="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+dr(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);r+=this.tablerow({text:n});let i="";for(let s=0;s<t.rows.length;s++){let a=t.rows[s];n="";for(let o=0;o<a.length;o++)n+=this.tablecell(a[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${dr(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let i=this.parser.parseInline(n),s=Xg(t);if(s===null)return i;t=s;let a='<a href="'+t+'"';return r&&(a+=' title="'+dr(r)+'"'),a+=">"+i+"</a>",a}image({href:t,title:r,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let s=Xg(t);if(s===null)return dr(n);t=s;let a=`<img src="${t}" alt="${n}"`;return r&&(a+=` title="${dr(r)}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:dr(t.text)}},Yf=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Or=class nu{options;renderer;textRenderer;constructor(t){this.options=t||Un,this.options.renderer=this.options.renderer||new sl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Yf}static parse(t,r){return new nu(r).parse(t)}static parseInline(t,r){return new nu(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=l||"";continue}}let a=s;switch(a.type){case"space":{n+=this.renderer.space(a);continue}case"hr":{n+=this.renderer.hr(a);continue}case"heading":{n+=this.renderer.heading(a);continue}case"code":{n+=this.renderer.code(a);continue}case"table":{n+=this.renderer.table(a);continue}case"blockquote":{n+=this.renderer.blockquote(a);continue}case"list":{n+=this.renderer.list(a);continue}case"html":{n+=this.renderer.html(a);continue}case"def":{n+=this.renderer.def(a);continue}case"paragraph":{n+=this.renderer.paragraph(a);continue}case"text":{let o=a,l=this.renderer.text(o);for(;i+1<t.length&&t[i+1].type==="text";)o=t[++i],l+=`
`+this.renderer.text(o);r?n+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):n+=l;continue}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(t,r=this.renderer){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=o||"";continue}}let a=s;switch(a.type){case"escape":{n+=r.text(a);break}case"html":{n+=r.html(a);break}case"link":{n+=r.link(a);break}case"image":{n+=r.image(a);break}case"strong":{n+=r.strong(a);break}case"em":{n+=r.em(a);break}case"codespan":{n+=r.codespan(a);break}case"br":{n+=r.br(a);break}case"del":{n+=r.del(a);break}case"text":{n+=r.text(a);break}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},gs=class{options;block;constructor(t){this.options=t||Un}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Fr.lex:Fr.lexInline}provideParser(){return this.block?Or.parse:Or.parseInline}},YD=class{defaults=Nf();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Or;Renderer=sl;TextRenderer=Yf;Lexer=Fr;Tokenizer=il;Hooks=gs;constructor(...t){this.use(...t)}walkTokens(t,r){let n=[];for(let i of t)switch(n=n.concat(r.call(this,i)),i.type){case"table":{let s=i;for(let a of s.header)n=n.concat(this.walkTokens(a.tokens,r));for(let a of s.rows)for(let o of a)n=n.concat(this.walkTokens(o.tokens,r));break}case"list":{let s=i;n=n.concat(this.walkTokens(s.items,r));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(a=>{let o=s[a].flat(1/0);n=n.concat(this.walkTokens(o,r))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,r)))}}return n}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let a=r.renderers[s.name];a?r.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=r[s.level];a?a.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),n.renderer){let s=this.defaults.renderer||new sl(this.defaults);for(let a in n.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let o=a,l=n.renderer[o],c=s[o];s[o]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=c.apply(s,h)),u||""}}i.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new il(this.defaults);for(let a in n.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,l=n.tokenizer[o],c=s[o];s[o]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=c.apply(s,h)),u}}i.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new gs;for(let a in n.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let o=a,l=n.hooks[o],c=s[o];gs.passThroughHooks.has(a)?s[o]=h=>{if(this.defaults.async&&gs.passThroughHooksRespectAsync.has(a))return Promise.resolve(l.call(s,h)).then(d=>c.call(s,d));let u=l.call(s,h);return c.call(s,u)}:s[o]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=c.apply(s,h)),u}}i.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,a=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(a.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Fr.lex(t,r??this.defaults)}parser(t,r){return Or.parse(t,r??this.defaults)}parseMarkdown(t){return(r,n)=>{let i={...n},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let o=s.hooks?s.hooks.provideLexer():t?Fr.lex:Fr.lexInline,l=s.hooks?s.hooks.provideParser():t?Or.parse:Or.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(c=>o(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>l(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let c=o(r,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let h=l(c,s);return s.hooks&&(h=s.hooks.postprocess(h)),h}catch(c){return a(c)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+dr(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}},On=new YD;function Mt(e,t){return On.parse(e,t)}Mt.options=Mt.setOptions=function(e){return On.setOptions(e),Mt.defaults=On.defaults,Aw(Mt.defaults),Mt};Mt.getDefaults=Nf;Mt.defaults=Un;Mt.use=function(...e){return On.use(...e),Mt.defaults=On.defaults,Aw(Mt.defaults),Mt};Mt.walkTokens=function(e,t){return On.walkTokens(e,t)};Mt.parseInline=On.parseInline;Mt.Parser=Or;Mt.parser=Or.parse;Mt.Renderer=sl;Mt.TextRenderer=Yf;Mt.Lexer=Fr;Mt.lexer=Fr.lex;Mt.Tokenizer=il;Mt.Hooks=gs;Mt.parse=Mt;Mt.options;Mt.setOptions;Mt.use;Mt.walkTokens;Mt.parseInline;Or.parse;Fr.lex;function Dw(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(h){var u,d;return(d=(u=h.match(/[\t ]/g))===null||u===void 0?void 0:u.length)!==null&&d!==void 0?d:0})):o},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(o,l){var c=a.match(/(?:^|\n)( *)$/),h=c?c[1]:"",u=o;typeof o=="string"&&o.includes(`
`)&&(u=String(o).split(`
`).map(function(d,f){return f===0?d:""+h+d}).join(`
`)),a+=u+n[l+1]}),a}var GD={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},iu=new Map,Nw=new Map,XD=m(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(N.debug("Registering icon pack:",t.name),"loader"in t)Nw.set(t.name,t.loader);else if("icons"in t)iu.set(t.name,t.icons);else throw N.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),zw=m(async(e,t)=>{const r=QP(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let i=iu.get(n);if(!i){const a=Nw.get(n);if(!a)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await a(),prefix:n},iu.set(n,i)}catch(o){throw N.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const s=ZP(i,r.name);if(!s)throw new Error(`Icon not found: ${e}`);return s},"getRegisteredIconData"),QD=m(async e=>{try{return await zw(e),!0}catch{return!1}},"isIconAvailable"),xa=m(async(e,t,r)=>{let n;try{n=await zw(e,t?.fallbackPrefix)}catch(a){N.error(a),n=GD}const i=aD(n,t),s=uD(hD(i.body),{...i.attributes,...r});return Qe(s,ue())},"getIconSVG");function qw(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=Dw(n);return t===!1?i.replace(/ /g,"&nbsp;"):i}m(qw,"preprocessMarkdown");function Ww(e,t={}){const r=qw(e,t),n=Mt.lexer(r),i=[[]];let s=0;function a(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((h,u)=>{u!==0&&(s++,i.push([])),h.split(" ").forEach(d=>{d=d.replace(/&#39;/g,"'"),d&&i[s].push({content:d,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(c=>{a(c,o.type)}):o.type==="html"&&i[s].push({content:o.text,type:"normal"})}return m(a,"processNode"),n.forEach(o=>{o.type==="paragraph"?o.tokens?.forEach(l=>{a(l)}):o.type==="html"?i[s].push({content:o.text,type:"normal"}):i[s].push({content:o.raw,type:"normal"})}),i}m(Ww,"markdownToLines");function Hw(e,{markdownAutoWrap:t}={}){const r=Mt.lexer(e);function n(i){return i.type==="text"?t===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${i.tokens?.map(n).join("")}</strong>`:i.type==="em"?`<em>${i.tokens?.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${i.tokens?.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(N.warn(`Unsupported markdown: ${i.type}`),i.raw)}return m(n,"output"),r.map(n).join("")}m(Hw,"markdownToHTML");function jw(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}m(jw,"splitTextToChars");function Uw(e,t){const r=jw(t.content);return Gf(e,[],r,t.type)}m(Uw,"splitWordToFitWidth");function Gf(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];const[i,...s]=r,a=[...t,i];return e([{content:a.join(""),type:n}])?Gf(e,a,s,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}m(Gf,"splitWordToFitWidthRecursion");function Vw(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return al(e,t)}m(Vw,"splitLineToFitWidth");function al(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());const s=e.shift()??{content:" ",type:"normal"},a=[...n];if(i!==""&&a.push({content:i,type:"normal"}),a.push(s),t(a))return al(e,t,r,a);if(n.length>0)r.push(n),e.unshift(s);else if(s.content){const[o,l]=Uw(t,s);r.push([o]),l.content&&e.unshift(l)}return al(e,t,r)}m(al,"splitLineToFitWidthRecursion");function su(e,t){t&&e.attr("style",t)}m(su,"applyStyle");async function Yw(e,t,r,n,i=!1,s=ue()){const a=e.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const o=a.append("xhtml:div"),l=Ei(t.label)?await rf(t.label.replace(Pi.lineBreakRegex,`
`),s):Qe(t.label,s),c=t.isNode?"nodeLabel":"edgeLabel",h=o.append("span");h.html(l),su(h,t.labelStyle),h.attr("class",`${c} ${n}`),su(o,t.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",r+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&o.attr("class","labelBkg");let u=o.node().getBoundingClientRect();return u.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),u=o.node().getBoundingClientRect()),a.node()}m(Yw,"addHtmlSpan");function Gl(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}m(Gl,"createTspan");function Gw(e,t,r){const n=e.append("text"),i=Gl(n,1,t);Xl(i,r);const s=i.node().getComputedTextLength();return n.remove(),s}m(Gw,"computeWidthOfText");function KD(e,t,r){const n=e.append("text"),i=Gl(n,1,t);Xl(i,[{content:r,type:"normal"}]);const s=i.node()?.getBoundingClientRect();return s&&n.remove(),s}m(KD,"computeDimensionOfText");function Xw(e,t,r,n=!1){const s=t.append("g"),a=s.insert("rect").attr("class","background").attr("style","stroke: none"),o=s.append("text").attr("y","-10.1");let l=0;for(const c of r){const h=m(d=>Gw(s,1.1,d)<=e,"checkWidth"),u=h(c)?[c]:Vw(c,h);for(const d of u){const f=Gl(o,l,1.1);Xl(f,d),l++}}if(n){const c=o.node().getBBox(),h=2;return a.attr("x",c.x-h).attr("y",c.y-h).attr("width",c.width+2*h).attr("height",c.height+2*h),s.node()}else return o.node()}m(Xw,"createFormattedText");function Xl(e,t){e.text(""),t.forEach((r,n)=>{const i=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}m(Xl,"updateTextContentAndStyles");async function Qw(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,a)=>(r.push((async()=>{const o=`${s}:${a}`;return await QD(o)?await xa(o,void 0,{class:"label-icon"}):`<i class='${Qe(i,t).replace(":"," ")}'></i>`})()),i));const n=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}m(Qw,"replaceIconSubstring");var on=m(async(e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:s=!0,isNode:a=!0,width:o=200,addSvgBackground:l=!1}={},c)=>{if(N.debug("XYZ createText",t,r,n,i,s,a,"addSvgBackground: ",l),s){const h=Hw(t,c),u=await Qw(jn(h),c),d=t.replace(/\\\\/g,"\\"),f={isNode:a,label:Ei(t)?d:u,labelStyle:r.replace("fill:","color:")};return await Yw(e,f,o,i,l,c)}else{const h=t.replace(/<br\s*\/?>/g,"<br/>"),u=Ww(h.replace("<br>","<br/>"),c),d=Xw(o,e,u,t?l:!1);if(a){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");St(d).attr("style",f)}else{const f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");St(d).select("rect").attr("style",f.replace(/background:/g,"fill:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");St(d).select("text").attr("style",p)}return d}},"createText");function qc(e,t,r){if(e&&e.length){const[n,i]=t,s=Math.PI/180*r,a=Math.cos(s),o=Math.sin(s);for(const l of e){const[c,h]=l;l[0]=(c-n)*a-(h-i)*o+n,l[1]=(c-n)*o+(h-i)*a+i}}}function JD(e,t){return e[0]===t[0]&&e[1]===t[1]}function ZD(e,t,r,n=1){const i=r,s=Math.max(t,.1),a=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(i)for(const c of a)qc(c,o,i);const l=(function(c,h,u){const d=[];for(const b of c){const w=[...b];JD(w[0],w[w.length-1])||w.push([w[0][0],w[0][1]]),w.length>2&&d.push(w)}const f=[];h=Math.max(h,.1);const p=[];for(const b of d)for(let w=0;w<b.length-1;w++){const k=b[w],S=b[w+1];if(k[1]!==S[1]){const _=Math.min(k[1],S[1]);p.push({ymin:_,ymax:Math.max(k[1],S[1]),x:_===k[1]?k[0]:S[0],islope:(S[0]-k[0])/(S[1]-k[1])})}}if(p.sort(((b,w)=>b.ymin<w.ymin?-1:b.ymin>w.ymin?1:b.x<w.x?-1:b.x>w.x?1:b.ymax===w.ymax?0:(b.ymax-w.ymax)/Math.abs(b.ymax-w.ymax))),!p.length)return f;let g=[],x=p[0].ymin,y=0;for(;g.length||p.length;){if(p.length){let b=-1;for(let w=0;w<p.length&&!(p[w].ymin>x);w++)b=w;p.splice(0,b+1).forEach((w=>{g.push({s:x,edge:w})}))}if(g=g.filter((b=>!(b.edge.ymax<=x))),g.sort(((b,w)=>b.edge.x===w.edge.x?0:(b.edge.x-w.edge.x)/Math.abs(b.edge.x-w.edge.x))),(u!==1||y%h==0)&&g.length>1)for(let b=0;b<g.length;b+=2){const w=b+1;if(w>=g.length)break;const k=g[b].edge,S=g[w].edge;f.push([[Math.round(k.x),x],[Math.round(S.x),x]])}x+=u,g.forEach((b=>{b.edge.x=b.edge.x+u*b.edge.islope})),y++}return f})(a,s,n);if(i){for(const c of a)qc(c,o,-i);(function(c,h,u){const d=[];c.forEach((f=>d.push(...f))),qc(d,h,u)})(l,o,-i)}return l}function ba(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),ZD(e,i,n,s||1)}class Xf{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=ba(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function Ql(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class t3 extends Xf{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=ba(t,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,a=[],o=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[c,h]of i)Ql([c,h])&&a.push([[c[0]-o,c[1]+l],[...h]],[[c[0]+o,c[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,r)}}}class e3 extends Xf{fillPolygons(t,r){const n=this._fillPolygons(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(t,i);return n.ops=n.ops.concat(s.ops),n}}class r3{constructor(t){this.helper=t}fillPolygons(t,r){const n=ba(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const a=i/4;for(const o of t){const l=Ql(o),c=l/i,h=Math.ceil(c)-1,u=l-h*i,d=(o[0][0]+o[1][0])/2-i/4,f=Math.min(o[0][1],o[1][1]);for(let p=0;p<h;p++){const g=f+u+p*i,x=d-a+2*Math.random()*a,y=g-a+2*Math.random()*a,b=this.helper.ellipse(x,y,s,s,r);n.push(...b.ops)}}return{type:"fillSketch",ops:n}}}class n3{constructor(t){this.helper=t}fillPolygons(t,r){const n=ba(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return t.forEach((a=>{const o=Ql(a),l=Math.floor(o/(n+i)),c=(o+i-l*(n+i))/2;let h=a[0],u=a[1];h[0]>u[0]&&(h=a[1],u=a[0]);const d=Math.atan((u[1]-h[1])/(u[0]-h[0]));for(let f=0;f<l;f++){const p=f*(n+i),g=p+n,x=[h[0]+p*Math.cos(d)+c*Math.cos(d),h[1]+p*Math.sin(d)+c*Math.sin(d)],y=[h[0]+g*Math.cos(d)+c*Math.cos(d),h[1]+g*Math.sin(d)+c*Math.sin(d)];s.push(...this.helper.doubleLineOps(x[0],x[1],y[0],y[1],r))}})),s}}class i3{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=ba(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(t,r,n){const i=[];return t.forEach((s=>{const a=Ql(s),o=Math.round(a/(2*r));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const h=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let u=0;u<o;u++){const d=2*u*r,f=2*(u+1)*r,p=Math.sqrt(2*Math.pow(r,2)),g=[l[0]+d*Math.cos(h),l[1]+d*Math.sin(h)],x=[l[0]+f*Math.cos(h),l[1]+f*Math.sin(h)],y=[g[0]+p*Math.cos(h+Math.PI/4),g[1]+p*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],n),...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],n))}})),i}}const Le={};class s3{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const a3=0,Wc=1,Jg=2,qa={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Hc(e,t){return e.type===t}function Qf(e){const t=[],r=(function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:a3,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:Wc,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:Jg,text:""},o})(e);let n="BOD",i=0,s=r[i];for(;!Hc(s,Jg);){let a=0;const o=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return Qf("M0,0"+e);i++,a=qa[s.text],n=s.text}else Hc(s,Wc)?a=qa[n]:(i++,a=qa[s.text],n=s.text);if(!(i+a<r.length))throw new Error("Path data ended short");for(let l=i;l<i+a;l++){const c=r[l];if(!Hc(c,Wc))throw new Error("Param not a number: "+n+","+c.text);o[o.length]=+c.text}if(typeof qa[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};t.push(l),i+=a,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function Kw(e){let t=0,r=0,n=0,i=0;const s=[];for(const{key:a,data:o}of e)switch(a){case"M":s.push({key:"M",data:[...o]}),[t,r]=o,[n,i]=o;break;case"m":t+=o[0],r+=o[1],s.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":s.push({key:"L",data:[...o]}),[t,r]=o;break;case"l":t+=o[0],r+=o[1],s.push({key:"L",data:[t,r]});break;case"C":s.push({key:"C",data:[...o]}),t=o[4],r=o[5];break;case"c":{const l=o.map(((c,h)=>h%2?c+r:c+t));s.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...o]}),t=o[2],r=o[3];break;case"q":{const l=o.map(((c,h)=>h%2?c+r:c+t));s.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...o]}),t=o[5],r=o[6];break;case"a":t+=o[5],r+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,r]});break;case"H":s.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...o]}),t=o[2],r=o[3];break;case"s":{const l=o.map(((c,h)=>h%2?c+r:c+t));s.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...o]}),t=o[0],r=o[1];break;case"t":t+=o[0],r+=o[1],s.push({key:"T",data:[t,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=n,r=i}return s}function Jw(e){const t=[];let r="",n=0,i=0,s=0,a=0,o=0,l=0;for(const{key:c,data:h}of e){switch(c){case"M":t.push({key:"M",data:[...h]}),[n,i]=h,[s,a]=h;break;case"C":t.push({key:"C",data:[...h]}),n=h[4],i=h[5],o=h[2],l=h[3];break;case"L":t.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],t.push({key:"L",data:[n,i]});break;case"V":i=h[0],t.push({key:"L",data:[n,i]});break;case"S":{let u=0,d=0;r==="C"||r==="S"?(u=n+(n-o),d=i+(i-l)):(u=n,d=i),t.push({key:"C",data:[u,d,...h]}),o=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[u,d]=h;let f=0,p=0;r==="Q"||r==="T"?(f=n+(n-o),p=i+(i-l)):(f=n,p=i);const g=n+2*(f-n)/3,x=i+2*(p-i)/3,y=u+2*(f-u)/3,b=d+2*(p-d)/3;t.push({key:"C",data:[g,x,y,b,u,d]}),o=f,l=p,n=u,i=d;break}case"Q":{const[u,d,f,p]=h,g=n+2*(u-n)/3,x=i+2*(d-i)/3,y=f+2*(u-f)/3,b=p+2*(d-p)/3;t.push({key:"C",data:[g,x,y,b,f,p]}),o=u,l=d,n=f,i=p;break}case"A":{const u=Math.abs(h[0]),d=Math.abs(h[1]),f=h[2],p=h[3],g=h[4],x=h[5],y=h[6];u===0||d===0?(t.push({key:"C",data:[n,i,x,y,x,y]}),n=x,i=y):(n!==x||i!==y)&&(Zw(n,i,x,y,u,d,f,p,g).forEach((function(b){t.push({key:"C",data:b})})),n=x,i=y);break}case"Z":t.push({key:"Z",data:[]}),n=s,i=a}r=c}return t}function os(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function Zw(e,t,r,n,i,s,a,o,l,c){const h=(u=a,Math.PI*u/180);var u;let d=[],f=0,p=0,g=0,x=0;if(c)[f,p,g,x]=c;else{[e,t]=os(e,t,-h),[r,n]=os(r,n,-h);const R=(e-r)/2,I=(t-n)/2;let D=R*R/(i*i)+I*I/(s*s);D>1&&(D=Math.sqrt(D),i*=D,s*=D);const z=i*i,U=s*s,Y=z*U-z*I*I-U*R*R,Tt=z*I*I+U*R*R,T=(o===l?-1:1)*Math.sqrt(Math.abs(Y/Tt));g=T*i*I/s+(e+r)/2,x=T*-s*R/i+(t+n)/2,f=Math.asin(parseFloat(((t-x)/s).toFixed(9))),p=Math.asin(parseFloat(((n-x)/s).toFixed(9))),e<g&&(f=Math.PI-f),r<g&&(p=Math.PI-p),f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),l&&f>p&&(f-=2*Math.PI),!l&&p>f&&(p-=2*Math.PI)}let y=p-f;if(Math.abs(y)>120*Math.PI/180){const R=p,I=r,D=n;p=l&&p>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,d=Zw(r=g+i*Math.cos(p),n=x+s*Math.sin(p),I,D,i,s,a,0,l,[p,R,g,x])}y=p-f;const b=Math.cos(f),w=Math.sin(f),k=Math.cos(p),S=Math.sin(p),_=Math.tan(y/4),A=4/3*i*_,B=4/3*s*_,F=[e,t],v=[e+A*w,t-B*b],L=[r+A*S,n-B*k],O=[r,n];if(v[0]=2*F[0]-v[0],v[1]=2*F[1]-v[1],c)return[v,L,O].concat(d);{d=[v,L,O].concat(d);const R=[];for(let I=0;I<d.length;I+=3){const D=os(d[I][0],d[I][1],h),z=os(d[I+1][0],d[I+1][1],h),U=os(d[I+2][0],d[I+2][1],h);R.push([D[0],D[1],z[0],z[1],U[0],U[1]])}return R}}const o3={randOffset:function(e,t){return ht(e,t)},randOffsetWithRange:function(e,t,r){return ol(e,t,r)},ellipse:function(e,t,r,n,i){const s=e1(r,n,i);return au(e,t,i,s).opset},doubleLineOps:function(e,t,r,n,i){return rn(e,t,r,n,i,!0)}};function t1(e,t,r,n,i){return{type:"path",ops:rn(e,t,r,n,i)}}function ho(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...rn(e[s][0],e[s][1],e[s+1][0],e[s+1][1],r));return t&&i.push(...rn(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?t1(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function l3(e,t,r,n,i){return(function(s,a){return ho(s,!0,a)})([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function Zg(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=Wa(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:Wa(r[0],1.5*(1+.22*t.roughness),rm(t));for(let s=1;s<r.length;s++){const a=r[s];if(a.length){const o=Wa(a,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:Wa(a,1.5*(1+.22*t.roughness),rm(t));for(const c of o)c.op!=="move"&&n.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function e1(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let a=Math.abs(e/2),o=Math.abs(t/2);const l=1-r.curveFitting;return a+=ht(a*l,r),o+=ht(o*l,r),{increment:s,rx:a,ry:o}}function au(e,t,r,n){const[i,s]=nm(n.increment,e,t,n.rx,n.ry,1,n.increment*ol(.1,ol(.4,1,r),r),r);let a=ll(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=nm(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=ll(o,null,r);a=a.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function tm(e,t,r,n,i,s,a,o,l){const c=e,h=t;let u=Math.abs(r/2),d=Math.abs(n/2);u+=ht(.01*u,l),d+=ht(.01*d,l);let f=i,p=s;for(;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);const g=2*Math.PI/l.curveStepCount,x=Math.min(g/2,(p-f)/2),y=im(x,c,h,u,d,f,p,1,l);if(!l.disableMultiStroke){const b=im(x,c,h,u,d,f,p,1.5,l);y.push(...b)}return a&&(o?y.push(...rn(c,h,c+u*Math.cos(f),h+d*Math.sin(f),l),...rn(c,h,c+u*Math.cos(p),h+d*Math.sin(p),l)):y.push({op:"lineTo",data:[c,h]},{op:"lineTo",data:[c+u*Math.cos(f),h+d*Math.sin(f)]})),{type:"path",ops:y}}function em(e,t){const r=Jw(Kw(Qf(e))),n=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of r)switch(a){case"M":s=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...rn(s[0],s[1],o[0],o[1],t)),s=[o[0],o[1]];break;case"C":{const[l,c,h,u,d,f]=o;n.push(...c3(l,c,h,u,d,f,s,t)),s=[d,f];break}case"Z":n.push(...rn(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]]}return{type:"path",ops:n}}function jc(e,t){const r=[];for(const n of e)if(n.length){const i=t.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+ht(i,t),n[0][1]+ht(i,t)]});for(let a=1;a<s;a++)r.push({op:"lineTo",data:[n[a][0]+ht(i,t),n[a][1]+ht(i,t)]})}}return{type:"fillPath",ops:r}}function ei(e,t){return(function(r,n){let i=r.fillStyle||"hachure";if(!Le[i])switch(i){case"zigzag":Le[i]||(Le[i]=new t3(n));break;case"cross-hatch":Le[i]||(Le[i]=new e3(n));break;case"dots":Le[i]||(Le[i]=new r3(n));break;case"dashed":Le[i]||(Le[i]=new n3(n));break;case"zigzag-line":Le[i]||(Le[i]=new i3(n));break;default:i="hachure",Le[i]||(Le[i]=new Xf(n))}return Le[i]})(t,o3).fillPolygons(e,t)}function rm(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function r1(e){return e.randomizer||(e.randomizer=new s3(e.seed||0)),e.randomizer.next()}function ol(e,t,r,n=1){return r.roughness*n*(r1(r)*(t-e)+e)}function ht(e,t,r=1){return ol(-e,e,t,r)}function rn(e,t,r,n,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=ou(e,t,r,n,i,!0,!1);if(a)return o;const l=ou(e,t,r,n,i,!0,!0);return o.concat(l)}function ou(e,t,r,n,i,s,a){const o=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(o);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const u=h/2,d=.2+.2*r1(i);let f=i.bowing*i.maxRandomnessOffset*(n-t)/200,p=i.bowing*i.maxRandomnessOffset*(e-r)/200;f=ht(f,i,c),p=ht(p,i,c);const g=[],x=()=>ht(u,i,c),y=()=>ht(h,i,c),b=i.preserveVertices;return a?g.push({op:"move",data:[e+(b?0:x()),t+(b?0:x())]}):g.push({op:"move",data:[e+(b?0:ht(h,i,c)),t+(b?0:ht(h,i,c))]}),a?g.push({op:"bcurveTo",data:[f+e+(r-e)*d+x(),p+t+(n-t)*d+x(),f+e+2*(r-e)*d+x(),p+t+2*(n-t)*d+x(),r+(b?0:x()),n+(b?0:x())]}):g.push({op:"bcurveTo",data:[f+e+(r-e)*d+y(),p+t+(n-t)*d+y(),f+e+2*(r-e)*d+y(),p+t+2*(n-t)*d+y(),r+(b?0:y()),n+(b?0:y())]}),g}function Wa(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+ht(t,r),e[0][1]+ht(t,r)]),n.push([e[0][0]+ht(t,r),e[0][1]+ht(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+ht(t,r),e[i][1]+ht(t,r)]),i===e.length-1&&n.push([e[i][0]+ht(t,r),e[i][1]+ht(t,r)]);return ll(n,null,r)}function ll(e,t,r){const n=e.length,i=[];if(n>3){const s=[],a=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<n;o++){const l=e[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*e[o+1][0]-a*e[o-1][0])/6,l[1]+(a*e[o+1][1]-a*e[o-1][1])/6],s[2]=[e[o+1][0]+(a*e[o][0]-a*e[o+2][0])/6,e[o+1][1]+(a*e[o][1]-a*e[o+2][1])/6],s[3]=[e[o+1][0],e[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...ou(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function nm(e,t,r,n,i,s,a,o){const l=[],c=[];if(o.roughness===0){e/=4,c.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let h=0;h<=2*Math.PI;h+=e){const u=[t+n*Math.cos(h),r+i*Math.sin(h)];l.push(u),c.push(u)}c.push([t+n*Math.cos(0),r+i*Math.sin(0)]),c.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const h=ht(.5,o)-Math.PI/2;c.push([ht(s,o)+t+.9*n*Math.cos(h-e),ht(s,o)+r+.9*i*Math.sin(h-e)]);const u=2*Math.PI+h-.01;for(let d=h;d<u;d+=e){const f=[ht(s,o)+t+n*Math.cos(d),ht(s,o)+r+i*Math.sin(d)];l.push(f),c.push(f)}c.push([ht(s,o)+t+n*Math.cos(h+2*Math.PI+.5*a),ht(s,o)+r+i*Math.sin(h+2*Math.PI+.5*a)]),c.push([ht(s,o)+t+.98*n*Math.cos(h+a),ht(s,o)+r+.98*i*Math.sin(h+a)]),c.push([ht(s,o)+t+.9*n*Math.cos(h+.5*a),ht(s,o)+r+.9*i*Math.sin(h+.5*a)])}return[c,l]}function im(e,t,r,n,i,s,a,o,l){const c=s+ht(.1,l),h=[];h.push([ht(o,l)+t+.9*n*Math.cos(c-e),ht(o,l)+r+.9*i*Math.sin(c-e)]);for(let u=c;u<=a;u+=e)h.push([ht(o,l)+t+n*Math.cos(u),ht(o,l)+r+i*Math.sin(u)]);return h.push([t+n*Math.cos(a),r+i*Math.sin(a)]),h.push([t+n*Math.cos(a),r+i*Math.sin(a)]),ll(h,null,l)}function c3(e,t,r,n,i,s,a,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const u=o.disableMultiStroke?1:2,d=o.preserveVertices;for(let f=0;f<u;f++)f===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(d?0:ht(c[0],o)),a[1]+(d?0:ht(c[0],o))]}),h=d?[i,s]:[i+ht(c[f],o),s+ht(c[f],o)],l.push({op:"bcurveTo",data:[e+ht(c[f],o),t+ht(c[f],o),r+ht(c[f],o),n+ht(c[f],o),h[0],h[1]]});return l}function ls(e){return[...e]}function sm(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(ls(e[0]),ls(e[1]),ls(e[2]),ls(e[2]));else{const i=[];i.push(e[0],e[0]);for(let o=1;o<e.length;o++)i.push(e[o]),o===e.length-1&&i.push(e[o]);const s=[],a=1-t;n.push(ls(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*i[o+1][0]-a*i[o-1][0])/6,l[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],n.push(s[1],s[2],s[3])}}return n}function uo(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function h3(e,t,r){const n=uo(t,r);if(n===0)return uo(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),uo(e,yn(t,r,i))}function yn(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function lu(e,t,r,n){const i=n||[];if((function(o,l){const c=o[l+0],h=o[l+1],u=o[l+2],d=o[l+3];let f=3*h[0]-2*c[0]-d[0];f*=f;let p=3*h[1]-2*c[1]-d[1];p*=p;let g=3*u[0]-2*d[0]-c[0];g*=g;let x=3*u[1]-2*d[1]-c[1];return x*=x,f<g&&(f=g),p<x&&(p=x),f+p})(e,t)<r){const o=e[t+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(uo(s,a))>1&&i.push(o)):i.push(o),i.push(e[t+3])}else{const l=e[t+0],c=e[t+1],h=e[t+2],u=e[t+3],d=yn(l,c,.5),f=yn(c,h,.5),p=yn(h,u,.5),g=yn(d,f,.5),x=yn(f,p,.5),y=yn(g,x,.5);lu([l,d,g,y],0,r,i),lu([y,x,p,u],0,r,i)}var s,a;return i}function u3(e,t){return cl(e,0,e.length,t)}function cl(e,t,r,n,i){const s=i||[],a=e[t],o=e[r-1];let l=0,c=1;for(let h=t+1;h<r-1;++h){const u=h3(e[h],a,o);u>l&&(l=u,c=h)}return Math.sqrt(l)>n?(cl(e,t,c+1,n,s),cl(e,c,r,n,s)):(s.length||s.push(a),s.push(o)),s}function Uc(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let s=0;s<i;s++)lu(e,3*s,t,n);return r&&r>0?cl(n,0,n.length,r):n}const Pe="none";class hl{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,s){const a=this._o(s);return this._d("line",[t1(t,r,n,i,a)],a)}rectangle(t,r,n,i,s){const a=this._o(s),o=[],l=l3(t,r,n,i,a);if(a.fill){const c=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];a.fillStyle==="solid"?o.push(jc([c],a)):o.push(ei([c],a))}return a.stroke!==Pe&&o.push(l),this._d("rectangle",o,a)}ellipse(t,r,n,i,s){const a=this._o(s),o=[],l=e1(n,i,a),c=au(t,r,a,l);if(a.fill)if(a.fillStyle==="solid"){const h=au(t,r,a,l).opset;h.type="fillPath",o.push(h)}else o.push(ei([c.estimatedPoints],a));return a.stroke!==Pe&&o.push(c.opset),this._d("ellipse",o,a)}circle(t,r,n,i){const s=this.ellipse(t,r,n,n,i);return s.shape="circle",s}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[ho(t,!1,n)],n)}arc(t,r,n,i,s,a,o=!1,l){const c=this._o(l),h=[],u=tm(t,r,n,i,s,a,o,!0,c);if(o&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const f=tm(t,r,n,i,s,a,!0,!1,d);f.type="fillPath",h.push(f)}else h.push((function(d,f,p,g,x,y,b){const w=d,k=f;let S=Math.abs(p/2),_=Math.abs(g/2);S+=ht(.01*S,b),_+=ht(.01*_,b);let A=x,B=y;for(;A<0;)A+=2*Math.PI,B+=2*Math.PI;B-A>2*Math.PI&&(A=0,B=2*Math.PI);const F=(B-A)/b.curveStepCount,v=[];for(let L=A;L<=B;L+=F)v.push([w+S*Math.cos(L),k+_*Math.sin(L)]);return v.push([w+S*Math.cos(B),k+_*Math.sin(B)]),v.push([w,k]),ei([v],b)})(t,r,n,i,s,a,c));return c.stroke!==Pe&&h.push(u),this._d("arc",h,c)}curve(t,r){const n=this._o(r),i=[],s=Zg(t,n);if(n.fill&&n.fill!==Pe)if(n.fillStyle==="solid"){const a=Zg(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=t;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const c of l)c.length<3?a.push(...c):c.length===3?a.push(...Uc(sm([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):a.push(...Uc(sm(c),10,(1+n.roughness)/2))}a.length&&i.push(ei([a],n))}return n.stroke!==Pe&&i.push(s),this._d("curve",i,n)}polygon(t,r){const n=this._o(r),i=[],s=ho(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(jc([t],n)):i.push(ei([t],n))),n.stroke!==Pe&&i.push(s),this._d("polygon",i,n)}path(t,r){const n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==Pe,a=n.stroke!==Pe,o=!!(n.simplification&&n.simplification<1),l=(function(h,u,d){const f=Jw(Kw(Qf(h))),p=[];let g=[],x=[0,0],y=[];const b=()=>{y.length>=4&&g.push(...Uc(y,u)),y=[]},w=()=>{b(),g.length&&(p.push(g),g=[])};for(const{key:S,data:_}of f)switch(S){case"M":w(),x=[_[0],_[1]],g.push(x);break;case"L":b(),g.push([_[0],_[1]]);break;case"C":if(!y.length){const A=g.length?g[g.length-1]:x;y.push([A[0],A[1]])}y.push([_[0],_[1]]),y.push([_[2],_[3]]),y.push([_[4],_[5]]);break;case"Z":b(),g.push([x[0],x[1]])}if(w(),!d)return p;const k=[];for(const S of p){const _=u3(S,d);_.length&&k.push(_)}return k})(t,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),c=em(t,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const h=em(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(jc(l,n));else i.push(ei(l,n));return a&&(o?l.forEach((h=>{i.push(ho(h,!1,n))})):i.push(c)),this._d("path",i,n)}opsToPath(t,r){let n="";for(const i of t.ops){const s=typeof r=="number"&&r>=0?i.data.map((a=>+a.toFixed(r))):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const s of r){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Pe};break;case"fillPath":a={d:this.opsToPath(s),stroke:Pe,strokeWidth:0,fill:n.fill||Pe};break;case"fillSketch":a=this.fillSketch(s,n)}a&&i.push(a)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||Pe,strokeWidth:n,fill:Pe}}_mergedShape(t){return t.filter(((r,n)=>n===0||r.op!=="move"))}}class f3{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new hl(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const a of r)switch(a.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,i="nonzero"){t.beginPath();for(const s of r.ops){const a=typeof n=="number"&&n>=0?s.data.map((o=>+o.toFixed(n))):s.data;switch(s.op){case"move":t.moveTo(a[0],a[1]);break;case"bcurveTo":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":t.lineTo(a[0],a[1])}}r.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,s){const a=this.gen.line(t,r,n,i,s);return this.draw(a),a}rectangle(t,r,n,i,s){const a=this.gen.rectangle(t,r,n,i,s);return this.draw(a),a}ellipse(t,r,n,i,s){const a=this.gen.ellipse(t,r,n,i,s);return this.draw(a),a}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s),s}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,s,a,o=!1,l){const c=this.gen.arc(t,r,n,i,s,a,o,l);return this.draw(c),c}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const Ha="http://www.w3.org/2000/svg";class d3{constructor(t,r){this.svg=t,this.gen=new hl(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(Ha,"g"),a=t.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(Ha,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(Ha,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&s.appendChild(l)}return s}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=t.createElementNS(Ha,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,i,s){const a=this.gen.line(t,r,n,i,s);return this.draw(a)}rectangle(t,r,n,i,s){const a=this.gen.rectangle(t,r,n,i,s);return this.draw(a)}ellipse(t,r,n,i,s){const a=this.gen.ellipse(t,r,n,i,s);return this.draw(a)}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,s,a,o=!1,l){const c=this.gen.arc(t,r,n,i,s,a,o,l);return this.draw(c)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var Q={canvas:(e,t)=>new f3(e,t),svg:(e,t)=>new d3(e,t),generator:e=>new hl(e),newSeed:()=>hl.newSeed()},lt=m(async(e,t,r)=>{let n;const i=t.useHtmlLabels||Xt(Lt()?.htmlLabels);r?n=r:n="node default";const s=e.insert("g").attr("class",n).attr("id",t.domId||t.id),a=s.insert("g").attr("class","label").attr("style",de(t.labelStyle));let o;t.label===void 0?o="":o=typeof t.label=="string"?t.label:t.label[0];const l=await on(a,Qe(jn(o),Lt()),{useHtmlLabels:i,width:t.width||Lt().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let c=l.getBBox();const h=(t?.padding??0)/2;if(i){const u=l.children[0],d=St(l),f=u.getElementsByTagName("img");if(f){const p=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...f].map(g=>new Promise(x=>{function y(){if(g.style.display="flex",g.style.flexDirection="column",p){const b=Lt().fontSize?Lt().fontSize:window.getComputedStyle(document.body).fontSize,w=5,[k=m0.fontSize]=Ul(b),S=k*w+"px";g.style.minWidth=S,g.style.maxWidth=S}else g.style.width="100%";x(g)}m(y,"setupImage"),setTimeout(()=>{g.complete&&y()}),g.addEventListener("error",y),g.addEventListener("load",y)})))}c=u.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}return i?a.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):a.attr("transform","translate(0, "+-c.height/2+")"),t.centerLabel&&a.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:s,bbox:c,halfPadding:h,label:a}},"labelHelper"),Vc=m(async(e,t,r)=>{const n=r.useHtmlLabels||Xt(Lt()?.flowchart?.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),s=await on(i,Qe(jn(t),Lt()),{useHtmlLabels:n,width:r.width||Lt()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let a=s.getBBox();const o=r.padding/2;if(Xt(Lt()?.flowchart?.htmlLabels)){const l=s.children[0],c=St(s);a=l.getBoundingClientRect(),c.attr("width",a.width),c.attr("height",a.height)}return n?i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"):i.attr("transform","translate(0, "+-a.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:a,halfPadding:o,label:i}},"insertLabel"),Z=m((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),at=m((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Ct(e){const t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}m(Ct,"createPathFromPoints");function nn(e,t,r,n,i,s){const a=[],l=r-e,c=n-t,h=l/s,u=2*Math.PI/h,d=t+c/2;for(let f=0;f<=50;f++){const p=f/50,g=e+p*l,x=d+i*Math.sin(u*(g-e));a.push({x:g,y:x})}return a}m(nn,"generateFullSineWavePoints");function ta(e,t,r,n,i,s){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const d=o+u*h,f=e+r*Math.cos(d),p=t+r*Math.sin(d);a.push({x:-f,y:-p})}return a}m(ta,"generateCirclePoints");var p3=m((e,t)=>{var r=e.x,n=e.y,i=t.x-r,s=t.y-n,a=e.width/2,o=e.height/2,l,c;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=s===0?0:o*i/s,c=o):(i<0&&(a=-a),l=a,c=i===0?0:a*s/i),{x:r+l,y:n+c}},"intersectRect"),qi=p3;function n1(e,t){t&&e.attr("style",t)}m(n1,"applyStyle");async function i1(e){const t=St(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=Lt();let i=e.label;e.label&&Ei(e.label)&&(i=await rf(e.label.replace(Pi.lineBreakRegex,`
`),n));const a='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+i+"</span>";return r.html(Qe(a,n)),n1(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}m(i1,"addHtmlLabel");var g3=m(async(e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),Xt(Lt().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),N.info("vertexText"+i);const s={isNode:n,label:jn(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await i1(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let a=[];typeof i=="string"?a=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?a=i:a=[];for(const o of a){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),s.appendChild(l)}return s}},"createLabel"),vn=g3,ln=m((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD"),s1=m(async(e,t)=>{N.info("Creating subgraph rect for ",t.id,t);const r=Lt(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:h}=J(t),u=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),d=Xt(r.flowchart.htmlLabels),f=u.insert("g").attr("class","cluster-label "),p=await on(f,t.label,{style:t.labelStyle,useHtmlLabels:d,isNode:!0});let g=p.getBBox();if(Xt(r.flowchart.htmlLabels)){const A=p.children[0],B=St(p);g=A.getBoundingClientRect(),B.attr("width",g.width),B.attr("height",g.height)}const x=t.width<=g.width+t.padding?g.width+t.padding:t.width;t.width<=g.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const y=t.height,b=t.x-x/2,w=t.y-y/2;N.trace("Data ",t,JSON.stringify(t));let k;if(t.look==="handDrawn"){const A=Q.svg(u),B=K(t,{roughness:.7,fill:s,stroke:a,fillWeight:3,seed:i}),F=A.path(ln(b,w,x,y,0),B);k=u.insert(()=>(N.debug("Rough node insert CXC",F),F),":first-child"),k.select("path:nth-child(2)").attr("style",c.join(";")),k.select("path").attr("style",h.join(";").replace("fill","stroke"))}else k=u.insert("rect",":first-child"),k.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",w).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:S}=Ef(r);if(f.attr("transform",`translate(${t.x-g.width/2}, ${t.y-t.height/2+S})`),o){const A=f.select("span");A&&A.attr("style",o)}const _=k.node().getBBox();return t.offsetX=0,t.width=_.width,t.height=_.height,t.offsetY=g.height-t.padding/2,t.intersect=function(A){return qi(t,A)},{cluster:u,labelBBox:g}},"rect"),m3=m((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const a=n.node().getBBox();return t.width=a.width,t.height=a.height,t.intersect=function(o){return qi(t,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),y3=m(async(e,t)=>{const r=Lt(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:s,compositeBackground:a,compositeTitleBackground:o,nodeBorder:l}=n,c=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),h=c.insert("g",":first-child"),u=c.insert("g").attr("class","cluster-label");let d=c.append("rect");const f=u.node().appendChild(await vn(t.label,t.labelStyle,void 0,!0));let p=f.getBBox();if(Xt(r.flowchart.htmlLabels)){const F=f.children[0],v=St(f);p=F.getBoundingClientRect(),v.attr("width",p.width),v.attr("height",p.height)}const g=0*t.padding,x=g/2,y=(t.width<=p.width+t.padding?p.width+t.padding:t.width)+g;t.width<=p.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const b=t.height+g,w=t.height+g-p.height-6,k=t.x-y/2,S=t.y-b/2;t.width=y;const _=t.y-t.height/2-x+p.height+2;let A;if(t.look==="handDrawn"){const F=t.cssClasses.includes("statediagram-cluster-alt"),v=Q.svg(c),L=t.rx||t.ry?v.path(ln(k,S,y,b,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):v.rectangle(k,S,y,b,{seed:i});A=c.insert(()=>L,":first-child");const O=v.rectangle(k,_,y,w,{fill:F?s:a,fillStyle:F?"hachure":"solid",stroke:l,seed:i});A=c.insert(()=>L,":first-child"),d=c.insert(()=>O)}else A=h.insert("rect",":first-child"),A.attr("class","outer").attr("x",k).attr("y",S).attr("width",y).attr("height",b).attr("data-look",t.look),d.attr("class","inner").attr("x",k).attr("y",_).attr("width",y).attr("height",w);u.attr("transform",`translate(${t.x-p.width/2}, ${S+1-(Xt(r.flowchart.htmlLabels)?0:3)})`);const B=A.node().getBBox();return t.height=B.height,t.offsetX=0,t.offsetY=p.height-t.padding/2,t.labelBBox=p,t.intersect=function(F){return qi(t,F)},{cluster:c,labelBBox:p}},"roundedWithTitle"),x3=m(async(e,t)=>{N.info("Creating subgraph rect for ",t.id,t);const r=Lt(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:h}=J(t),u=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),d=Xt(r.flowchart.htmlLabels),f=u.insert("g").attr("class","cluster-label "),p=await on(f,t.label,{style:t.labelStyle,useHtmlLabels:d,isNode:!0,width:t.width});let g=p.getBBox();if(Xt(r.flowchart.htmlLabels)){const A=p.children[0],B=St(p);g=A.getBoundingClientRect(),B.attr("width",g.width),B.attr("height",g.height)}const x=t.width<=g.width+t.padding?g.width+t.padding:t.width;t.width<=g.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const y=t.height,b=t.x-x/2,w=t.y-y/2;N.trace("Data ",t,JSON.stringify(t));let k;if(t.look==="handDrawn"){const A=Q.svg(u),B=K(t,{roughness:.7,fill:s,stroke:a,fillWeight:4,seed:i}),F=A.path(ln(b,w,x,y,t.rx),B);k=u.insert(()=>(N.debug("Rough node insert CXC",F),F),":first-child"),k.select("path:nth-child(2)").attr("style",c.join(";")),k.select("path").attr("style",h.join(";").replace("fill","stroke"))}else k=u.insert("rect",":first-child"),k.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",w).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:S}=Ef(r);if(f.attr("transform",`translate(${t.x-g.width/2}, ${t.y-t.height/2+S})`),o){const A=f.select("span");A&&A.attr("style",o)}const _=k.node().getBBox();return t.offsetX=0,t.width=_.width,t.height=_.height,t.offsetY=g.height-t.padding/2,t.intersect=function(A){return qi(t,A)},{cluster:u,labelBBox:g}},"kanbanSection"),b3=m((e,t)=>{const r=Lt(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:s}=n,a=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),o=a.insert("g",":first-child"),l=0*t.padding,c=t.width+l;t.diff=-t.padding;const h=t.height+l,u=t.x-c/2,d=t.y-h/2;t.width=c;let f;if(t.look==="handDrawn"){const x=Q.svg(a).rectangle(u,d,c,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});f=a.insert(()=>x,":first-child")}else f=o.insert("rect",":first-child"),f.attr("class","divider").attr("x",u).attr("y",d).attr("width",c).attr("height",h).attr("data-look",t.look);const p=f.node().getBBox();return t.height=p.height,t.offsetX=0,t.offsetY=0,t.intersect=function(g){return qi(t,g)},{cluster:a,labelBBox:{}}},"divider"),w3=s1,_3={rect:s1,squareRect:w3,roundedWithTitle:y3,noteGroup:m3,divider:b3,kanbanSection:x3},a1=new Map,k3=m(async(e,t)=>{const r=t.shape||"rect",n=await _3[r](e,t);return a1.set(t.id,n),n},"insertCluster"),qq=m(()=>{a1=new Map},"clear");function o1(e,t){return e.intersect(t)}m(o1,"intersectNode");var C3=o1;function l1(e,t,r,n){var i=e.x,s=e.y,a=i-n.x,o=s-n.y,l=Math.sqrt(t*t*o*o+r*r*a*a),c=Math.abs(t*r*a/l);n.x<i&&(c=-c);var h=Math.abs(t*r*o/l);return n.y<s&&(h=-h),{x:i+c,y:s+h}}m(l1,"intersectEllipse");var c1=l1;function h1(e,t,r){return c1(e,t,t,r)}m(h1,"intersectCircle");var S3=h1;function u1(e,t,r,n){{const i=t.y-e.y,s=e.x-t.x,a=t.x*e.y-e.x*t.y,o=i*r.x+s*r.y+a,l=i*n.x+s*n.y+a,c=1e-6;if(o!==0&&l!==0&&cu(o,l))return;const h=n.y-r.y,u=r.x-n.x,d=n.x*r.y-r.x*n.y,f=h*e.x+u*e.y+d,p=h*t.x+u*t.y+d;if(Math.abs(f)<c&&Math.abs(p)<c&&cu(f,p))return;const g=i*u-h*s;if(g===0)return;const x=Math.abs(g/2);let y=s*d-u*a;const b=y<0?(y-x)/g:(y+x)/g;y=h*a-i*d;const w=y<0?(y-x)/g:(y+x)/g;return{x:b,y:w}}}m(u1,"intersectLine");function cu(e,t){return e*t>0}m(cu,"sameSign");var v3=u1;function f1(e,t,r){let n=e.x,i=e.y,s=[],a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(h){a=Math.min(a,h.x),o=Math.min(o,h.y)}):(a=Math.min(a,t.x),o=Math.min(o,t.y));let l=n-e.width/2-a,c=i-e.height/2-o;for(let h=0;h<t.length;h++){let u=t[h],d=t[h<t.length-1?h+1:0],f=v3(e,r,{x:l+u.x,y:c+u.y},{x:l+d.x,y:c+d.y});f&&s.push(f)}return s.length?(s.length>1&&s.sort(function(h,u){let d=h.x-r.x,f=h.y-r.y,p=Math.sqrt(d*d+f*f),g=u.x-r.x,x=u.y-r.y,y=Math.sqrt(g*g+x*x);return p<y?-1:p===y?0:1}),s[0]):e}m(f1,"intersectPolygon");var T3=f1,G={node:C3,circle:S3,ellipse:c1,polygon:T3,rect:qi};function d1(e,t){const{labelStyles:r}=J(t);t.labelStyle=r;const n=at(t);let i=n;n||(i="anchor");const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),a=1,{cssStyles:o}=t,l=Q.svg(s),c=K(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(c.roughness=0);const h=l.circle(0,0,a*2,c),u=s.insert(()=>h,":first-child");return u.attr("class","anchor").attr("style",de(o)),Z(t,u),t.intersect=function(d){return N.info("Circle intersect",t,a,d),G.circle(t,a,d)},s}m(d1,"anchor");function hu(e,t,r,n,i,s,a){const l=(e+r)/2,c=(t+n)/2,h=Math.atan2(n-t,r-e),u=(r-e)/2,d=(n-t)/2,f=u/i,p=d/s,g=Math.sqrt(f**2+p**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-g**2),y=l+x*s*Math.sin(h)*(a?-1:1),b=c-x*i*Math.cos(h)*(a?-1:1),w=Math.atan2((t-b)/s,(e-y)/i);let S=Math.atan2((n-b)/s,(r-y)/i)-w;a&&S<0&&(S+=2*Math.PI),!a&&S>0&&(S-=2*Math.PI);const _=[];for(let A=0;A<20;A++){const B=A/19,F=w+B*S,v=y+i*Math.cos(F),L=b+s*Math.sin(F);_.push({x:v,y:L})}return _}m(hu,"generateArcPoints");async function p1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.width+t.padding+20,o=s.height+t.padding,l=o/2,c=l/(2.5+o/50),{cssStyles:h}=t,u=[{x:a/2,y:-o/2},{x:-a/2,y:-o/2},...hu(-a/2,-o/2,-a/2,o/2,c,l,!1),{x:a/2,y:o/2},...hu(a/2,o/2,a/2,-o/2,c,l,!0)],d=Q.svg(i),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=Ct(u),g=d.path(p,f),x=i.insert(()=>g,":first-child");return x.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(${c/2}, 0)`),Z(t,x),t.intersect=function(y){return G.polygon(t,u,y)},i}m(p1,"bowTieRect");function cn(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}m(cn,"insertPolygonShape");async function g1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.height+t.padding,o=12,l=s.width+t.padding+o,c=0,h=l,u=-a,d=0,f=[{x:c+o,y:u},{x:h,y:u},{x:h,y:d},{x:c,y:d},{x:c,y:u+o},{x:c+o,y:u}];let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const x=Q.svg(i),y=K(t,{}),b=Ct(f),w=x.path(b,y);p=i.insert(()=>w,":first-child").attr("transform",`translate(${-l/2}, ${a/2})`),g&&p.attr("style",g)}else p=cn(i,l,a,f);return n&&p.attr("style",n),Z(t,p),t.intersect=function(x){return G.polygon(t,f,x)},i}m(g1,"card");function m1(e,t){const{nodeStyles:r}=J(t);t.label="";const n=e.insert("g").attr("class",at(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,s=Math.max(28,t.width??0),a=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],o=Q.svg(n),l=K(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=Ct(a),h=o.path(c,l),u=n.insert(()=>h,":first-child");return i&&t.look!=="handDrawn"&&u.selectAll("path").attr("style",i),r&&t.look!=="handDrawn"&&u.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(d){return G.polygon(t,a,d)},n}m(m1,"choice");async function Kf(e,t,r){const{labelStyles:n,nodeStyles:i}=J(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,halfPadding:o}=await lt(e,t,at(t)),l=r?.padding??o,c=a.width/2+l;let h;const{cssStyles:u}=t;if(t.look==="handDrawn"){const d=Q.svg(s),f=K(t,{}),p=d.circle(0,0,c*2,f);h=s.insert(()=>p,":first-child"),h.attr("class","basic label-container").attr("style",de(u))}else h=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0);return Z(t,h),t.calcIntersect=function(d,f){const p=d.width/2;return G.circle(d,p,f)},t.intersect=function(d){return N.info("Circle intersect",t,c,d),G.circle(t,c,d)},s}m(Kf,"circle");function y1(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,i={x:n/2*t,y:n/2*r},s={x:-(n/2)*t,y:n/2*r},a={x:-(n/2)*t,y:-(n/2)*r},o={x:n/2*t,y:-(n/2)*r};return`M ${s.x},${s.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${a.x},${a.y}`}m(y1,"createLine");function x1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r,t.label="";const i=e.insert("g").attr("class",at(t)).attr("id",t.domId??t.id),s=Math.max(30,t?.width??0),{cssStyles:a}=t,o=Q.svg(i),l=K(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=o.circle(0,0,s*2,l),h=y1(s),u=o.path(h,l),d=i.insert(()=>c,":first-child");return d.insert(()=>u),a&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",a),n&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",n),Z(t,d),t.intersect=function(f){return N.info("crossedCircle intersect",t,{radius:s,point:f}),G.circle(t,s,f)},i}m(x1,"crossedCircle");function Ir(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const d=o+u*h,f=e+r*Math.cos(d),p=t+r*Math.sin(d);a.push({x:-f,y:-p})}return a}m(Ir,"generateCirclePoints");async function b1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=t,u=[...Ir(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...Ir(o/2+c*2,-c,c,20,-180,-270),...Ir(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...Ir(o/2,l/2,c,20,0,90)],d=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...Ir(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...Ir(o/2+o*.1,-c,c,20,-180,-270),...Ir(o/2+o*.1,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...Ir(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2,y:l/2+c}],f=Q.svg(i),p=K(t,{fill:"none"});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const x=Ct(u).replace("Z",""),y=f.path(x,p),b=Ct(d),w=f.path(b,{...p}),k=i.insert("g",":first-child");return k.insert(()=>w,":first-child").attr("stroke-opacity",0),k.insert(()=>y,":first-child"),k.attr("class","text"),h&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${c}, 0)`),a.attr("transform",`translate(${-o/2+c-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,k),t.intersect=function(S){return G.polygon(t,d,S)},i}m(b1,"curlyBraceLeft");function Rr(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const d=o+u*h,f=e+r*Math.cos(d),p=t+r*Math.sin(d);a.push({x:f,y:p})}return a}m(Rr,"generateCirclePoints");async function w1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=t,u=[...Rr(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...Rr(o/2+c*2,-c,c,20,-180,-270),...Rr(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...Rr(o/2,l/2,c,20,0,90)],d=[{x:-o/2,y:-l/2-c},{x:o/2,y:-l/2-c},...Rr(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...Rr(o/2+c*2,-c,c,20,-180,-270),...Rr(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...Rr(o/2,l/2,c,20,0,90),{x:o/2,y:l/2+c},{x:-o/2,y:l/2+c}],f=Q.svg(i),p=K(t,{fill:"none"});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const x=Ct(u).replace("Z",""),y=f.path(x,p),b=Ct(d),w=f.path(b,{...p}),k=i.insert("g",":first-child");return k.insert(()=>w,":first-child").attr("stroke-opacity",0),k.insert(()=>y,":first-child"),k.attr("class","text"),h&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${-c}, 0)`),a.attr("transform",`translate(${-o/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,k),t.intersect=function(S){return G.polygon(t,d,S)},i}m(w1,"curlyBraceRight");function re(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let u=0;u<n;u++){const d=o+u*h,f=e+r*Math.cos(d),p=t+r*Math.sin(d);a.push({x:-f,y:-p})}return a}m(re,"generateCirclePoints");async function _1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=t,u=[...re(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...re(o/2+c*2,-c,c,20,-180,-270),...re(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...re(o/2,l/2,c,20,0,90)],d=[...re(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...re(-o/2-c/2,-c,c,20,0,90),...re(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...re(-o/2+c+c/2,l/2,c,30,-180,-270)],f=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...re(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...re(o/2+c*2,-c,c,20,-180,-270),...re(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...re(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2-c-c/2,y:l/2+c},...re(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...re(-o/2-c/2,-c,c,20,0,90),...re(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...re(-o/2+c+c/2,l/2,c,30,-180,-270)],p=Q.svg(i),g=K(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Ct(u).replace("Z",""),b=p.path(y,g),k=Ct(d).replace("Z",""),S=p.path(k,g),_=Ct(f),A=p.path(_,{...g}),B=i.insert("g",":first-child");return B.insert(()=>A,":first-child").attr("stroke-opacity",0),B.insert(()=>b,":first-child"),B.insert(()=>S,":first-child"),B.attr("class","text"),h&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",n),B.attr("transform",`translate(${c-c/4}, 0)`),a.attr("transform",`translate(${-o/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,B),t.intersect=function(F){return G.polygon(t,f,F)},i}m(_1,"curlyBraces");async function k1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=80,o=20,l=Math.max(a,(s.width+(t.padding??0)*2)*1.25,t?.width??0),c=Math.max(o,s.height+(t.padding??0)*2,t?.height??0),h=c/2,{cssStyles:u}=t,d=Q.svg(i),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=l,g=c,x=p-h,y=g/4,b=[{x,y:0},{x:y,y:0},{x:0,y:g/2},{x:y,y:g},{x,y:g},...ta(-x,-g/2,h,50,270,90)],w=Ct(b),k=d.path(w,f),S=i.insert(()=>k,":first-child");return S.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",n),S.attr("transform",`translate(${-l/2}, ${-c/2})`),Z(t,S),t.intersect=function(_){return G.polygon(t,b,_)},i}m(k1,"curvedTrapezoid");var A3=m((e,t,r,n,i,s)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),E3=m((e,t,r,n,i,s)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),L3=m((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function C1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+t.padding,t.width??0),l=o/2,c=l/(2.5+o/50),h=Math.max(s.height+c+t.padding,t.height??0);let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const f=Q.svg(i),p=E3(0,0,o,h,l,c),g=L3(0,c,o,h,l,c),x=f.path(p,K(t,{})),y=f.path(g,K(t,{fill:"none"}));u=i.insert(()=>y,":first-child"),u=i.insert(()=>x,":first-child"),u.attr("class","basic label-container"),d&&u.attr("style",d)}else{const f=A3(0,0,o,h,l,c);u=i.insert("path",":first-child").attr("d",f).attr("class","basic label-container").attr("style",de(d)).attr("style",n)}return u.attr("label-offset-y",c),u.attr("transform",`translate(${-o/2}, ${-(h/2+c)})`),Z(t,u),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(t.padding??0)/1.5-(s.y-(s.top??0))})`),t.intersect=function(f){const p=G.rect(t,f),g=p.x-(t.x??0);if(l!=0&&(Math.abs(g)<(t.width??0)/2||Math.abs(g)==(t.width??0)/2&&Math.abs(p.y-(t.y??0))>(t.height??0)/2-c)){let x=c*c*(1-g*g/(l*l));x>0&&(x=Math.sqrt(x)),x=c-x,f.y-(t.y??0)>0&&(x=-x),p.y+=x}return p},i}m(C1,"cylinder");async function S1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=s.width+t.padding,l=s.height+t.padding,c=l*.2,h=-o/2,u=-l/2-c/2,{cssStyles:d}=t,f=Q.svg(i),p=K(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:h,y:u+c},{x:-h,y:u+c},{x:-h,y:-u},{x:h,y:-u},{x:h,y:u},{x:-h,y:u},{x:-h,y:u+c}],x=f.polygon(g.map(b=>[b.x,b.y]),p),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),a.attr("transform",`translate(${h+(t.padding??0)/2-(s.x-(s.left??0))}, ${u+c+(t.padding??0)/2-(s.y-(s.top??0))})`),Z(t,y),t.intersect=function(b){return G.rect(t,b)},i}m(S1,"dividedRectangle");async function v1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a}=await lt(e,t,at(t)),l=s.width/2+a+5,c=s.width/2+a;let h;const{cssStyles:u}=t;if(t.look==="handDrawn"){const d=Q.svg(i),f=K(t,{roughness:.2,strokeWidth:2.5}),p=K(t,{roughness:.2,strokeWidth:1.5}),g=d.circle(0,0,l*2,f),x=d.circle(0,0,c*2,p);h=i.insert("g",":first-child"),h.attr("class",de(t.cssClasses)).attr("style",de(u)),h.node()?.appendChild(g),h.node()?.appendChild(x)}else{h=i.insert("g",":first-child");const d=h.insert("circle",":first-child"),f=h.insert("circle");h.attr("class","basic label-container").attr("style",n),d.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),f.attr("class","inner-circle").attr("style",n).attr("r",c).attr("cx",0).attr("cy",0)}return Z(t,h),t.intersect=function(d){return N.info("DoubleCircle intersect",t,l,d),G.circle(t,l,d)},i}m(v1,"doublecircle");function T1(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=J(t);t.label="",t.labelStyle=n;const s=e.insert("g").attr("class",at(t)).attr("id",t.domId??t.id),a=7,{cssStyles:o}=t,l=Q.svg(s),{nodeBorder:c}=r,h=K(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const u=l.circle(0,0,a*2,h),d=s.insert(()=>u,":first-child");return d.selectAll("path").attr("style",`fill: ${c} !important;`),o&&o.length>0&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",o),i&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",i),Z(t,d),t.intersect=function(f){return N.info("filledCircle intersect",t,{radius:a,point:f}),G.circle(t,a,f)},s}m(T1,"filledCircle");async function A1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=s.width+(t.padding??0),l=o+s.height,c=o+s.height,h=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:u}=t,d=Q.svg(i),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=Ct(h),g=d.path(p,f),x=i.insert(()=>g,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return u&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),t.width=o,t.height=l,Z(t,x),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(t.padding??0)/2+(s.y-(s.top??0))})`),t.intersect=function(y){return N.info("Triangle intersect",t,h,y),G.polygon(t,h,y)},i}m(A1,"flippedTriangle");function E1(e,t,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:s}=J(t);t.label="";const a=e.insert("g").attr("class",at(t)).attr("id",t.domId??t.id),{cssStyles:o}=t;let l=Math.max(70,t?.width??0),c=Math.max(10,t?.height??0);r==="LR"&&(l=Math.max(10,t?.width??0),c=Math.max(70,t?.height??0));const h=-1*l/2,u=-1*c/2,d=Q.svg(a),f=K(t,{stroke:i.lineColor,fill:i.lineColor});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=d.rectangle(h,u,l,c,f),g=a.insert(()=>p,":first-child");o&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",o),s&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",s),Z(t,g);const x=n?.padding??0;return t.width&&t.height&&(t.width+=x/2||0,t.height+=x/2||0),t.intersect=function(y){return G.rect(t,y)},a}m(E1,"forkJoin");async function L1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const i=80,s=50,{shapeSvg:a,bbox:o}=await lt(e,t,at(t)),l=Math.max(i,o.width+(t.padding??0)*2,t?.width??0),c=Math.max(s,o.height+(t.padding??0)*2,t?.height??0),h=c/2,{cssStyles:u}=t,d=Q.svg(a),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:-l/2,y:-c/2},{x:l/2-h,y:-c/2},...ta(-l/2+h,0,h,50,90,270),{x:l/2-h,y:c/2},{x:-l/2,y:c/2}],g=Ct(p),x=d.path(g,f),y=a.insert(()=>x,":first-child");return y.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),Z(t,y),t.intersect=function(b){return N.info("Pill intersect",t,{radius:h,point:b}),G.polygon(t,p,b)},a}m(L1,"halfRoundedRectangle");async function M1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.height+(t.padding??0),o=s.width+(t.padding??0)*2.5,{cssStyles:l}=t,c=Q.svg(i),h=K(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let u=o/2;const d=u/6;u=u+d;const f=a/2,p=f/2,g=u-p,x=[{x:-g,y:-f},{x:0,y:-f},{x:g,y:-f},{x:u,y:0},{x:g,y:f},{x:0,y:f},{x:-g,y:f},{x:-u,y:0}],y=Ct(x),b=c.path(y,h),w=i.insert(()=>b,":first-child");return w.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",l),n&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",n),t.width=o,t.height=a,Z(t,w),t.intersect=function(k){return G.polygon(t,x,k)},i}m(M1,"hexagon");async function B1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.label="",t.labelStyle=r;const{shapeSvg:i}=await lt(e,t,at(t)),s=Math.max(30,t?.width??0),a=Math.max(30,t?.height??0),{cssStyles:o}=t,l=Q.svg(i),c=K(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const h=[{x:0,y:0},{x:s,y:0},{x:0,y:a},{x:s,y:a}],u=Ct(h),d=l.path(u,c),f=i.insert(()=>d,":first-child");return f.attr("class","basic label-container"),o&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",o),n&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",n),f.attr("transform",`translate(${-s/2}, ${-a/2})`),Z(t,f),t.intersect=function(p){return N.info("Pill intersect",t,{points:h}),G.polygon(t,h,p)},i}m(B1,"hourglass");async function I1(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=J(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,label:u}=await lt(e,t,"icon-shape default"),d=t.pos==="t",f=o,p=o,{nodeBorder:g}=r,{stylesMap:x}=Di(t),y=-p/2,b=-f/2,w=t.label?8:0,k=Q.svg(c),S=K(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const _=k.rectangle(y,b,p,f,S),A=Math.max(p,h.width),B=f+h.height+w,F=k.rectangle(-A/2,-B/2,A,B,{...S,fill:"transparent",stroke:"none"}),v=c.insert(()=>_,":first-child"),L=c.insert(()=>F);if(t.icon){const O=c.append("g");O.html(`<g>${await xa(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const R=O.node().getBBox(),I=R.width,D=R.height,z=R.x,U=R.y;O.attr("transform",`translate(${-I/2-z},${d?h.height/2+w/2-D/2-U:-h.height/2-w/2-D/2-U})`),O.attr("style",`color: ${x.get("stroke")??g};`)}return u.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${d?-B/2:B/2-h.height})`),v.attr("transform",`translate(0,${d?h.height/2+w/2:-h.height/2-w/2})`),Z(t,L),t.intersect=function(O){if(N.info("iconSquare intersect",t,O),!t.label)return G.rect(t,O);const R=t.x??0,I=t.y??0,D=t.height??0;let z=[];return d?z=[{x:R-h.width/2,y:I-D/2},{x:R+h.width/2,y:I-D/2},{x:R+h.width/2,y:I-D/2+h.height+w},{x:R+p/2,y:I-D/2+h.height+w},{x:R+p/2,y:I+D/2},{x:R-p/2,y:I+D/2},{x:R-p/2,y:I-D/2+h.height+w},{x:R-h.width/2,y:I-D/2+h.height+w}]:z=[{x:R-p/2,y:I-D/2},{x:R+p/2,y:I-D/2},{x:R+p/2,y:I-D/2+f},{x:R+h.width/2,y:I-D/2+f},{x:R+h.width/2/2,y:I+D/2},{x:R-h.width/2,y:I+D/2},{x:R-h.width/2,y:I-D/2+f},{x:R-p/2,y:I-D/2+f}],G.polygon(t,z,O)},c}m(I1,"icon");async function R1(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=J(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,label:u}=await lt(e,t,"icon-shape default"),d=20,f=t.label?8:0,p=t.pos==="t",{nodeBorder:g,mainBkg:x}=r,{stylesMap:y}=Di(t),b=Q.svg(c),w=K(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const k=y.get("fill");w.stroke=k??x;const S=c.append("g");t.icon&&S.html(`<g>${await xa(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const _=S.node().getBBox(),A=_.width,B=_.height,F=_.x,v=_.y,L=Math.max(A,B)*Math.SQRT2+d*2,O=b.circle(0,0,L,w),R=Math.max(L,h.width),I=L+h.height+f,D=b.rectangle(-R/2,-I/2,R,I,{...w,fill:"transparent",stroke:"none"}),z=c.insert(()=>O,":first-child"),U=c.insert(()=>D);return S.attr("transform",`translate(${-A/2-F},${p?h.height/2+f/2-B/2-v:-h.height/2-f/2-B/2-v})`),S.attr("style",`color: ${y.get("stroke")??g};`),u.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-I/2:I/2-h.height})`),z.attr("transform",`translate(0,${p?h.height/2+f/2:-h.height/2-f/2})`),Z(t,U),t.intersect=function(Y){return N.info("iconSquare intersect",t,Y),G.rect(t,Y)},c}m(R1,"iconCircle");async function $1(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=J(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,halfPadding:u,label:d}=await lt(e,t,"icon-shape default"),f=t.pos==="t",p=o+u*2,g=o+u*2,{nodeBorder:x,mainBkg:y}=r,{stylesMap:b}=Di(t),w=-g/2,k=-p/2,S=t.label?8:0,_=Q.svg(c),A=K(t,{});t.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const B=b.get("fill");A.stroke=B??y;const F=_.path(ln(w,k,g,p,5),A),v=Math.max(g,h.width),L=p+h.height+S,O=_.rectangle(-v/2,-L/2,v,L,{...A,fill:"transparent",stroke:"none"}),R=c.insert(()=>F,":first-child").attr("class","icon-shape2"),I=c.insert(()=>O);if(t.icon){const D=c.append("g");D.html(`<g>${await xa(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const z=D.node().getBBox(),U=z.width,Y=z.height,Tt=z.x,T=z.y;D.attr("transform",`translate(${-U/2-Tt},${f?h.height/2+S/2-Y/2-T:-h.height/2-S/2-Y/2-T})`),D.attr("style",`color: ${b.get("stroke")??x};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-L/2:L/2-h.height})`),R.attr("transform",`translate(0,${f?h.height/2+S/2:-h.height/2-S/2})`),Z(t,I),t.intersect=function(D){if(N.info("iconSquare intersect",t,D),!t.label)return G.rect(t,D);const z=t.x??0,U=t.y??0,Y=t.height??0;let Tt=[];return f?Tt=[{x:z-h.width/2,y:U-Y/2},{x:z+h.width/2,y:U-Y/2},{x:z+h.width/2,y:U-Y/2+h.height+S},{x:z+g/2,y:U-Y/2+h.height+S},{x:z+g/2,y:U+Y/2},{x:z-g/2,y:U+Y/2},{x:z-g/2,y:U-Y/2+h.height+S},{x:z-h.width/2,y:U-Y/2+h.height+S}]:Tt=[{x:z-g/2,y:U-Y/2},{x:z+g/2,y:U-Y/2},{x:z+g/2,y:U-Y/2+p},{x:z+h.width/2,y:U-Y/2+p},{x:z+h.width/2/2,y:U+Y/2},{x:z-h.width/2,y:U+Y/2},{x:z-h.width/2,y:U-Y/2+p},{x:z-g/2,y:U-Y/2+p}],G.polygon(t,Tt,D)},c}m($1,"iconRounded");async function F1(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=J(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,halfPadding:u,label:d}=await lt(e,t,"icon-shape default"),f=t.pos==="t",p=o+u*2,g=o+u*2,{nodeBorder:x,mainBkg:y}=r,{stylesMap:b}=Di(t),w=-g/2,k=-p/2,S=t.label?8:0,_=Q.svg(c),A=K(t,{});t.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const B=b.get("fill");A.stroke=B??y;const F=_.path(ln(w,k,g,p,.1),A),v=Math.max(g,h.width),L=p+h.height+S,O=_.rectangle(-v/2,-L/2,v,L,{...A,fill:"transparent",stroke:"none"}),R=c.insert(()=>F,":first-child"),I=c.insert(()=>O);if(t.icon){const D=c.append("g");D.html(`<g>${await xa(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const z=D.node().getBBox(),U=z.width,Y=z.height,Tt=z.x,T=z.y;D.attr("transform",`translate(${-U/2-Tt},${f?h.height/2+S/2-Y/2-T:-h.height/2-S/2-Y/2-T})`),D.attr("style",`color: ${b.get("stroke")??x};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-L/2:L/2-h.height})`),R.attr("transform",`translate(0,${f?h.height/2+S/2:-h.height/2-S/2})`),Z(t,I),t.intersect=function(D){if(N.info("iconSquare intersect",t,D),!t.label)return G.rect(t,D);const z=t.x??0,U=t.y??0,Y=t.height??0;let Tt=[];return f?Tt=[{x:z-h.width/2,y:U-Y/2},{x:z+h.width/2,y:U-Y/2},{x:z+h.width/2,y:U-Y/2+h.height+S},{x:z+g/2,y:U-Y/2+h.height+S},{x:z+g/2,y:U+Y/2},{x:z-g/2,y:U+Y/2},{x:z-g/2,y:U-Y/2+h.height+S},{x:z-h.width/2,y:U-Y/2+h.height+S}]:Tt=[{x:z-g/2,y:U-Y/2},{x:z+g/2,y:U-Y/2},{x:z+g/2,y:U-Y/2+p},{x:z+h.width/2,y:U-Y/2+p},{x:z+h.width/2/2,y:U+Y/2},{x:z-h.width/2,y:U+Y/2},{x:z-h.width/2,y:U-Y/2+p},{x:z-g/2,y:U-Y/2+p}],G.polygon(t,Tt,D)},c}m(F1,"iconSquare");async function O1(e,t,{config:{flowchart:r}}){const n=new Image;n.src=t?.img??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),s=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/s;const{labelStyles:a}=J(t);t.labelStyle=a;const o=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;const l=Math.max(t.label?o??0:0,t?.assetWidth??i),c=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:l,h=t.constraint==="on"?c/t.imageAspectRatio:t?.assetHeight??s;t.width=Math.max(c,o??0);const{shapeSvg:u,bbox:d,label:f}=await lt(e,t,"image-shape default"),p=t.pos==="t",g=-c/2,x=-h/2,y=t.label?8:0,b=Q.svg(u),w=K(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const k=b.rectangle(g,x,c,h,w),S=Math.max(c,d.width),_=h+d.height+y,A=b.rectangle(-S/2,-_/2,S,_,{...w,fill:"none",stroke:"none"}),B=u.insert(()=>k,":first-child"),F=u.insert(()=>A);if(t.img){const v=u.append("image");v.attr("href",t.img),v.attr("width",c),v.attr("height",h),v.attr("preserveAspectRatio","none"),v.attr("transform",`translate(${-c/2},${p?_/2-h:-_/2})`)}return f.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${p?-h/2-d.height/2-y/2:h/2-d.height/2+y/2})`),B.attr("transform",`translate(0,${p?d.height/2+y/2:-d.height/2-y/2})`),Z(t,F),t.intersect=function(v){if(N.info("iconSquare intersect",t,v),!t.label)return G.rect(t,v);const L=t.x??0,O=t.y??0,R=t.height??0;let I=[];return p?I=[{x:L-d.width/2,y:O-R/2},{x:L+d.width/2,y:O-R/2},{x:L+d.width/2,y:O-R/2+d.height+y},{x:L+c/2,y:O-R/2+d.height+y},{x:L+c/2,y:O+R/2},{x:L-c/2,y:O+R/2},{x:L-c/2,y:O-R/2+d.height+y},{x:L-d.width/2,y:O-R/2+d.height+y}]:I=[{x:L-c/2,y:O-R/2},{x:L+c/2,y:O-R/2},{x:L+c/2,y:O-R/2+h},{x:L+d.width/2,y:O-R/2+h},{x:L+d.width/2/2,y:O+R/2},{x:L-d.width/2,y:O+R/2},{x:L-d.width/2,y:O-R/2+h},{x:L-c/2,y:O-R/2+h}],G.polygon(t,I,v)},u}m(O1,"imageSquare");async function P1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=Math.max(s.width+(t.padding??0)*2,t?.width??0),o=Math.max(s.height+(t.padding??0)*2,t?.height??0),l=[{x:0,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:-3*o/6,y:-o}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=Q.svg(i),d=K(t,{}),f=Ct(l),p=u.path(f,d);c=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=cn(i,a,o,l);return n&&c.attr("style",n),t.width=a,t.height=o,Z(t,c),t.intersect=function(u){return G.polygon(t,l,u)},i}m(P1,"inv_trapezoid");async function Kl(e,t,r){const{labelStyles:n,nodeStyles:i}=J(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await lt(e,t,at(t)),o=Math.max(a.width+r.labelPaddingX*2,t?.width||0),l=Math.max(a.height+r.labelPaddingY*2,t?.height||0),c=-o/2,h=-l/2;let u,{rx:d,ry:f}=t;const{cssStyles:p}=t;if(r?.rx&&r.ry&&(d=r.rx,f=r.ry),t.look==="handDrawn"){const g=Q.svg(s),x=K(t,{}),y=d||f?g.path(ln(c,h,o,l,d||0),x):g.rectangle(c,h,o,l,x);u=s.insert(()=>y,":first-child"),u.attr("class","basic label-container").attr("style",de(p))}else u=s.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",i).attr("rx",de(d)).attr("ry",de(f)).attr("x",c).attr("y",h).attr("width",o).attr("height",l);return Z(t,u),t.calcIntersect=function(g,x){return G.rect(g,x)},t.intersect=function(g){return G.rect(t,g)},s}m(Kl,"drawRect");async function D1(e,t){const{shapeSvg:r,bbox:n,label:i}=await lt(e,t,"label"),s=r.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Z(t,s),t.intersect=function(l){return G.rect(t,l)},r}m(D1,"labelRect");async function N1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=Math.max(s.width+(t.padding??0),t?.width??0),o=Math.max(s.height+(t.padding??0),t?.height??0),l=[{x:0,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:-(3*o)/6,y:-o}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=Q.svg(i),d=K(t,{}),f=Ct(l),p=u.path(f,d);c=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=cn(i,a,o,l);return n&&c.attr("style",n),t.width=a,t.height=o,Z(t,c),t.intersect=function(u){return G.polygon(t,l,u)},i}m(N1,"lean_left");async function z1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=Math.max(s.width+(t.padding??0),t?.width??0),o=Math.max(s.height+(t.padding??0),t?.height??0),l=[{x:-3*o/6,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:0,y:-o}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=Q.svg(i),d=K(t,{}),f=Ct(l),p=u.path(f,d);c=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=cn(i,a,o,l);return n&&c.attr("style",n),t.width=a,t.height=o,Z(t,c),t.intersect=function(u){return G.polygon(t,l,u)},i}m(z1,"lean_right");function q1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.label="",t.labelStyle=r;const i=e.insert("g").attr("class",at(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,a=Math.max(35,t?.width??0),o=Math.max(35,t?.height??0),l=7,c=[{x:a,y:0},{x:0,y:o+l/2},{x:a-2*l,y:o+l/2},{x:0,y:2*o},{x:a,y:o-l/2},{x:2*l,y:o-l/2}],h=Q.svg(i),u=K(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=Ct(c),f=h.path(d,u),p=i.insert(()=>f,":first-child");return s&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",n),p.attr("transform",`translate(-${a/2},${-o})`),Z(t,p),t.intersect=function(g){return N.info("lightningBolt intersect",t,g),G.polygon(t,c,g)},i}m(q1,"lightningBolt");var M3=m((e,t,r,n,i,s,a)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),B3=m((e,t,r,n,i,s,a)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),I3=m((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function W1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0),t.width??0),l=o/2,c=l/(2.5+o/50),h=Math.max(s.height+c+(t.padding??0),t.height??0),u=h*.1;let d;const{cssStyles:f}=t;if(t.look==="handDrawn"){const p=Q.svg(i),g=B3(0,0,o,h,l,c,u),x=I3(0,c,o,h,l,c),y=K(t,{}),b=p.path(g,y),w=p.path(x,y);i.insert(()=>w,":first-child").attr("class","line"),d=i.insert(()=>b,":first-child"),d.attr("class","basic label-container"),f&&d.attr("style",f)}else{const p=M3(0,0,o,h,l,c,u);d=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",de(f)).attr("style",n)}return d.attr("label-offset-y",c),d.attr("transform",`translate(${-o/2}, ${-(h/2+c)})`),Z(t,d),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),t.intersect=function(p){const g=G.rect(t,p),x=g.x-(t.x??0);if(l!=0&&(Math.abs(x)<(t.width??0)/2||Math.abs(x)==(t.width??0)/2&&Math.abs(g.y-(t.y??0))>(t.height??0)/2-c)){let y=c*c*(1-x*x/(l*l));y>0&&(y=Math.sqrt(y)),y=c-y,p.y-(t.y??0)>0&&(y=-y),g.y+=y}return g},i}m(W1,"linedCylinder");async function H1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=l/4,h=l+c,{cssStyles:u}=t,d=Q.svg(i),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:-o/2-o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:h/2},...nn(-o/2-o/2*.1,h/2,o/2+o/2*.1,h/2,c,.8),{x:o/2+o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:-h/2},{x:-o/2,y:-h/2},{x:-o/2,y:h/2*1.1},{x:-o/2,y:-h/2}],g=d.polygon(p.map(y=>[y.x,y.y]),f),x=i.insert(()=>g,":first-child");return x.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)+o/2*.1/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c/2-(s.y-(s.top??0))})`),Z(t,x),t.intersect=function(y){return G.polygon(t,p,y)},i}m(H1,"linedWaveEdgedRect");async function j1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=5,h=-o/2,u=-l/2,{cssStyles:d}=t,f=Q.svg(i),p=K(t,{}),g=[{x:h-c,y:u+c},{x:h-c,y:u+l+c},{x:h+o-c,y:u+l+c},{x:h+o-c,y:u+l},{x:h+o,y:u+l},{x:h+o,y:u+l-c},{x:h+o+c,y:u+l-c},{x:h+o+c,y:u-c},{x:h+c,y:u-c},{x:h+c,y:u},{x:h,y:u},{x:h,y:u+c}],x=[{x:h,y:u+c},{x:h+o-c,y:u+c},{x:h+o-c,y:u+l},{x:h+o,y:u+l},{x:h+o,y:u},{x:h,y:u}];t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=Ct(g),b=f.path(y,p),w=Ct(x),k=f.path(w,{...p,fill:"none"}),S=i.insert(()=>k,":first-child");return S.insert(()=>b,":first-child"),S.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)-c-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),Z(t,S),t.intersect=function(_){return G.polygon(t,g,_)},i}m(j1,"multiRect");async function U1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=l/4,h=l+c,u=-o/2,d=-h/2,f=5,{cssStyles:p}=t,g=nn(u-f,d+h+f,u+o-f,d+h+f,c,.8),x=g?.[g.length-1],y=[{x:u-f,y:d+f},{x:u-f,y:d+h+f},...g,{x:u+o-f,y:x.y-f},{x:u+o,y:x.y-f},{x:u+o,y:x.y-2*f},{x:u+o+f,y:x.y-2*f},{x:u+o+f,y:d-f},{x:u+f,y:d-f},{x:u+f,y:d},{x:u,y:d},{x:u,y:d+f}],b=[{x:u,y:d+f},{x:u+o-f,y:d+f},{x:u+o-f,y:x.y-f},{x:u+o,y:x.y-f},{x:u+o,y:d},{x:u,y:d}],w=Q.svg(i),k=K(t,{});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const S=Ct(y),_=w.path(S,k),A=Ct(b),B=w.path(A,k),F=i.insert(()=>_,":first-child");return F.insert(()=>B),F.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&F.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&F.selectAll("path").attr("style",n),F.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-(s.width/2)-f-(s.x-(s.left??0))}, ${-(s.height/2)+f-c/2-(s.y-(s.top??0))})`),Z(t,F),t.intersect=function(v){return G.polygon(t,y,v)},i}m(U1,"multiWaveEdgedRectangle");async function V1(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=J(t);t.labelStyle=n,t.useHtmlLabels||ue().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);const{shapeSvg:a,bbox:o,label:l}=await lt(e,t,at(t)),c=Math.max(o.width+(t.padding??0)*2,t?.width??0),h=Math.max(o.height+(t.padding??0)*2,t?.height??0),u=-c/2,d=-h/2,{cssStyles:f}=t,p=Q.svg(a),g=K(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=p.rectangle(u,d,c,h,g),y=a.insert(()=>x,":first-child");return y.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Z(t,y),t.intersect=function(b){return G.rect(t,b)},a}m(V1,"note");var R3=m((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Y1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.width+t.padding,o=s.height+t.padding,l=a+o,c=.5,h=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let u;const{cssStyles:d}=t;if(t.look==="handDrawn"){const f=Q.svg(i),p=K(t,{}),g=R3(0,0,l),x=f.path(g,p);u=i.insert(()=>x,":first-child").attr("transform",`translate(${-l/2+c}, ${l/2})`),d&&u.attr("style",d)}else u=cn(i,l,l,h),u.attr("transform",`translate(${-l/2+c}, ${l/2})`);return n&&u.attr("style",n),Z(t,u),t.calcIntersect=function(f,p){const g=f.width,x=[{x:g/2,y:0},{x:g,y:-g/2},{x:g/2,y:-g},{x:0,y:-g/2}],y=G.polygon(f,x,p);return{x:y.x-.5,y:y.y-.5}},t.intersect=function(f){return this.calcIntersect(t,f)},i}m(Y1,"question");async function G1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0),t?.width??0),l=Math.max(s.height+(t.padding??0),t?.height??0),c=-o/2,h=-l/2,u=h/2,d=[{x:c+u,y:h},{x:c,y:0},{x:c+u,y:-h},{x:-c,y:-h},{x:-c,y:h}],{cssStyles:f}=t,p=Q.svg(i),g=K(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=Ct(d),y=p.path(x,g),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${-u/2},0)`),a.attr("transform",`translate(${-u/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Z(t,b),t.intersect=function(w){return G.polygon(t,d,w)},i}m(G1,"rect_left_inv_arrow");async function X1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;let i;t.cssClasses?i="node "+t.cssClasses:i="node default";const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),a=s.insert("g"),o=s.insert("g").attr("class","label").attr("style",n),l=t.description,c=t.label,h=o.node().appendChild(await vn(c,t.labelStyle,!0,!0));let u={width:0,height:0};if(Xt(Lt()?.flowchart?.htmlLabels)){const B=h.children[0],F=St(h);u=B.getBoundingClientRect(),F.attr("width",u.width),F.attr("height",u.height)}N.info("Text 2",l);const d=l||[],f=h.getBBox(),p=o.node().appendChild(await vn(d.join?d.join("<br/>"):d,t.labelStyle,!0,!0)),g=p.children[0],x=St(p);u=g.getBoundingClientRect(),x.attr("width",u.width),x.attr("height",u.height);const y=(t.padding||0)/2;St(p).attr("transform","translate( "+(u.width>f.width?0:(f.width-u.width)/2)+", "+(f.height+y+5)+")"),St(h).attr("transform","translate( "+(u.width<f.width?0:-(f.width-u.width)/2)+", 0)"),u=o.node().getBBox(),o.attr("transform","translate("+-u.width/2+", "+(-u.height/2-y+3)+")");const b=u.width+(t.padding||0),w=u.height+(t.padding||0),k=-u.width/2-y,S=-u.height/2-y;let _,A;if(t.look==="handDrawn"){const B=Q.svg(s),F=K(t,{}),v=B.path(ln(k,S,b,w,t.rx||0),F),L=B.line(-u.width/2-y,-u.height/2-y+f.height+y,u.width/2+y,-u.height/2-y+f.height+y,F);A=s.insert(()=>(N.debug("Rough node insert CXC",v),L),":first-child"),_=s.insert(()=>(N.debug("Rough node insert CXC",v),v),":first-child")}else _=a.insert("rect",":first-child"),A=a.insert("line"),_.attr("class","outer title-state").attr("style",n).attr("x",-u.width/2-y).attr("y",-u.height/2-y).attr("width",u.width+(t.padding||0)).attr("height",u.height+(t.padding||0)),A.attr("class","divider").attr("x1",-u.width/2-y).attr("x2",u.width/2+y).attr("y1",-u.height/2-y+f.height+y).attr("y2",-u.height/2-y+f.height+y);return Z(t,_),t.intersect=function(B){return G.rect(t,B)},s}m(X1,"rectWithTitle");function ms(e,t,r,n,i,s,a){const l=(e+r)/2,c=(t+n)/2,h=Math.atan2(n-t,r-e),u=(r-e)/2,d=(n-t)/2,f=u/i,p=d/s,g=Math.sqrt(f**2+p**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-g**2),y=l+x*s*Math.sin(h)*(a?-1:1),b=c-x*i*Math.cos(h)*(a?-1:1),w=Math.atan2((t-b)/s,(e-y)/i);let S=Math.atan2((n-b)/s,(r-y)/i)-w;a&&S<0&&(S+=2*Math.PI),!a&&S>0&&(S-=2*Math.PI);const _=[];for(let A=0;A<20;A++){const B=A/19,F=w+B*S,v=y+i*Math.cos(F),L=b+s*Math.sin(F);_.push({x:v,y:L})}return _}m(ms,"generateArcPoints");async function Q1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=t?.padding??0,o=t?.padding??0,l=(t?.width?t?.width:s.width)+a*2,c=(t?.height?t?.height:s.height)+o*2,h=t.radius||5,u=t.taper||5,{cssStyles:d}=t,f=Q.svg(i),p=K(t,{});t.stroke&&(p.stroke=t.stroke),t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-l/2+u,y:-c/2},{x:l/2-u,y:-c/2},...ms(l/2-u,-c/2,l/2,-c/2+u,h,h,!0),{x:l/2,y:-c/2+u},{x:l/2,y:c/2-u},...ms(l/2,c/2-u,l/2-u,c/2,h,h,!0),{x:l/2-u,y:c/2},{x:-l/2+u,y:c/2},...ms(-l/2+u,c/2,-l/2,c/2-u,h,h,!0),{x:-l/2,y:c/2-u},{x:-l/2,y:-c/2+u},...ms(-l/2,-c/2+u,-l/2+u,-c/2,h,h,!0)],x=Ct(g),y=f.path(x,p),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container outer-path"),d&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),Z(t,b),t.intersect=function(w){return G.polygon(t,g,w)},i}m(Q1,"roundedRect");async function K1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=t?.padding??0,l=Math.max(s.width+(t.padding??0)*2,t?.width??0),c=Math.max(s.height+(t.padding??0)*2,t?.height??0),h=-s.width/2-o,u=-s.height/2-o,{cssStyles:d}=t,f=Q.svg(i),p=K(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:h,y:u},{x:h+l+8,y:u},{x:h+l+8,y:u+c},{x:h-8,y:u+c},{x:h-8,y:u},{x:h,y:u},{x:h,y:u+c}],x=f.polygon(g.map(b=>[b.x,b.y]),p),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container").attr("style",de(d)),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),d&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),a.attr("transform",`translate(${-l/2+4+(t.padding??0)-(s.x-(s.left??0))},${-c/2+(t.padding??0)-(s.y-(s.top??0))})`),Z(t,y),t.intersect=function(b){return G.rect(t,b)},i}m(K1,"shadedProcess");async function J1(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=-o/2,h=-l/2,{cssStyles:u}=t,d=Q.svg(i),f=K(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:c,y:h},{x:c,y:h+l},{x:c+o,y:h+l},{x:c+o,y:h-l/2}],g=Ct(p),x=d.path(g,f),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),y.attr("transform",`translate(0, ${l/4})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))}, ${-l/4+(t.padding??0)-(s.y-(s.top??0))})`),Z(t,y),t.intersect=function(b){return G.polygon(t,p,b)},i}m(J1,"slopedRect");async function Z1(e,t){const r={rx:0,ry:0,labelPaddingX:t.labelPaddingX??(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return Kl(e,t,r)}m(Z1,"squareRect");async function t_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.height+t.padding,o=s.width+a/4+t.padding,l=a/2,{cssStyles:c}=t,h=Q.svg(i),u=K(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=[{x:-o/2+l,y:-a/2},{x:o/2-l,y:-a/2},...ta(-o/2+l,0,l,50,90,270),{x:o/2-l,y:a/2},...ta(o/2-l,0,l,50,270,450)],f=Ct(d),p=h.path(f,u),g=i.insert(()=>p,":first-child");return g.attr("class","basic label-container outer-path"),c&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",c),n&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",n),Z(t,g),t.intersect=function(x){return G.polygon(t,d,x)},i}m(t_,"stadium");async function e_(e,t){return Kl(e,t,{rx:5,ry:5})}m(e_,"state");function r_(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=J(t);t.labelStyle=n;const{cssStyles:s}=t,{lineColor:a,stateBorder:o,nodeBorder:l}=r,c=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),h=Q.svg(c),u=K(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=h.circle(0,0,14,{...u,stroke:a,strokeWidth:2}),f=o??l,p=h.circle(0,0,5,{...u,fill:f,stroke:f,strokeWidth:2,fillStyle:"solid"}),g=c.insert(()=>d,":first-child");return g.insert(()=>p),s&&g.selectAll("path").attr("style",s),i&&g.selectAll("path").attr("style",i),Z(t,g),t.intersect=function(x){return G.circle(t,7,x)},c}m(r_,"stateEnd");function n_(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s;if(t.look==="handDrawn"){const o=Q.svg(i).circle(0,0,14,G$(n));s=i.insert(()=>o),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Z(t,s),t.intersect=function(a){return G.circle(t,7,a)},i}m(n_,"stateStart");async function i_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=(t?.padding||0)/2,o=s.width+t.padding,l=s.height+t.padding,c=-s.width/2-a,h=-s.height/2-a,u=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(t.look==="handDrawn"){const d=Q.svg(i),f=K(t,{}),p=d.rectangle(c-8,h,o+16,l,f),g=d.line(c,h,c,h+l,f),x=d.line(c+o,h,c+o,h+l,f);i.insert(()=>g,":first-child"),i.insert(()=>x,":first-child");const y=i.insert(()=>p,":first-child"),{cssStyles:b}=t;y.attr("class","basic label-container").attr("style",de(b)),Z(t,y)}else{const d=cn(i,o,l,u);n&&d.attr("style",n),Z(t,d)}return t.intersect=function(d){return G.polygon(t,u,d)},i}m(i_,"subroutine");async function s_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=Math.max(s.width+(t.padding??0)*2,t?.width??0),o=Math.max(s.height+(t.padding??0)*2,t?.height??0),l=-a/2,c=-o/2,h=.2*o,u=.2*o,{cssStyles:d}=t,f=Q.svg(i),p=K(t,{}),g=[{x:l-h/2,y:c},{x:l+a+h/2,y:c},{x:l+a+h/2,y:c+o},{x:l-h/2,y:c+o}],x=[{x:l+a-h/2,y:c+o},{x:l+a+h/2,y:c+o},{x:l+a+h/2,y:c+o-u}];t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=Ct(g),b=f.path(y,p),w=Ct(x),k=f.path(w,{...p,fillStyle:"solid"}),S=i.insert(()=>k,":first-child");return S.insert(()=>b,":first-child"),S.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),Z(t,S),t.intersect=function(_){return G.polygon(t,g,_)},i}m(s_,"taggedRect");async function a_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=l/4,h=.2*o,u=.2*l,d=l+c,{cssStyles:f}=t,p=Q.svg(i),g=K(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=[{x:-o/2-o/2*.1,y:d/2},...nn(-o/2-o/2*.1,d/2,o/2+o/2*.1,d/2,c,.8),{x:o/2+o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:-d/2}],y=-o/2+o/2*.1,b=-d/2-u*.4,w=[{x:y+o-h,y:(b+l)*1.4},{x:y+o,y:b+l-u},{x:y+o,y:(b+l)*.9},...nn(y+o,(b+l)*1.3,y+o-h,(b+l)*1.5,-l*.03,.5)],k=Ct(x),S=p.path(k,g),_=Ct(w),A=p.path(_,{...g,fillStyle:"solid"}),B=i.insert(()=>A,":first-child");return B.insert(()=>S,":first-child"),B.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",n),B.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c/2-(s.y-(s.top??0))})`),Z(t,B),t.intersect=function(F){return G.polygon(t,x,F)},i}m(a_,"taggedWaveEdgedRectangle");async function o_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=Math.max(s.width+t.padding,t?.width||0),o=Math.max(s.height+t.padding,t?.height||0),l=-a/2,c=-o/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",a).attr("height",o),Z(t,h),t.intersect=function(u){return G.rect(t,u)},i}m(o_,"text");var $3=m((e,t,r,n,i,s)=>`M${e},${t}
    a${i},${s} 0,0,1 0,${-n}
    l${r},0
    a${i},${s} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${s} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),F3=m((e,t,r,n,i,s)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${s} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${s} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),O3=m((e,t,r,n,i,s)=>[`M${e+r/2},${-n/2}`,`a${i},${s} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function l_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a,halfPadding:o}=await lt(e,t,at(t)),l=t.look==="neo"?o*2:o,c=s.height+l,h=c/2,u=h/(2.5+c/50),d=s.width+u+l,{cssStyles:f}=t;let p;if(t.look==="handDrawn"){const g=Q.svg(i),x=F3(0,0,d,c,u,h),y=O3(0,0,d,c,u,h),b=g.path(x,K(t,{})),w=g.path(y,K(t,{fill:"none"}));p=i.insert(()=>w,":first-child"),p=i.insert(()=>b,":first-child"),p.attr("class","basic label-container"),f&&p.attr("style",f)}else{const g=$3(0,0,d,c,u,h);p=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",de(f)).attr("style",n),p.attr("class","basic label-container"),f&&p.selectAll("path").attr("style",f),n&&p.selectAll("path").attr("style",n)}return p.attr("label-offset-x",u),p.attr("transform",`translate(${-d/2}, ${c/2} )`),a.attr("transform",`translate(${-(s.width/2)-u-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Z(t,p),t.intersect=function(g){const x=G.rect(t,g),y=x.y-(t.y??0);if(h!=0&&(Math.abs(y)<(t.height??0)/2||Math.abs(y)==(t.height??0)/2&&Math.abs(x.x-(t.x??0))>(t.width??0)/2-u)){let b=u*u*(1-y*y/(h*h));b!=0&&(b=Math.sqrt(Math.abs(b))),b=u-b,g.x-(t.x??0)>0&&(b=-b),x.x+=b}return x},i}m(l_,"tiltedCylinder");async function c_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=s.width+t.padding,o=s.height+t.padding,l=[{x:-3*o/6,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:0,y:-o}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=Q.svg(i),d=K(t,{}),f=Ct(l),p=u.path(f,d);c=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=cn(i,a,o,l);return n&&c.attr("style",n),t.width=a,t.height=o,Z(t,c),t.intersect=function(u){return G.polygon(t,l,u)},i}m(c_,"trapezoid");async function h_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=60,o=20,l=Math.max(a,s.width+(t.padding??0)*2,t?.width??0),c=Math.max(o,s.height+(t.padding??0)*2,t?.height??0),{cssStyles:h}=t,u=Q.svg(i),d=K(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const f=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],p=Ct(f),g=u.path(p,d),x=i.insert(()=>g,":first-child");return x.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),Z(t,x),t.intersect=function(y){return G.polygon(t,f,y)},i}m(h_,"trapezoidalPentagon");async function u_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Xt(Lt().flowchart?.htmlLabels),l=s.width+(t.padding??0),c=l+s.height,h=l+s.height,u=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-c}],{cssStyles:d}=t,f=Q.svg(i),p=K(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=Ct(u),x=f.path(g,p),y=i.insert(()=>x,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return d&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),t.width=l,t.height=c,Z(t,y),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${c/2-(s.height+(t.padding??0)/(o?2:1)-(s.y-(s.top??0)))})`),t.intersect=function(b){return N.info("Triangle intersect",t,u,b),G.polygon(t,u,b)},i}m(u_,"triangle");async function f_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=l/8,h=l+c,{cssStyles:u}=t,f=70-o,p=f>0?f/2:0,g=Q.svg(i),x=K(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const y=[{x:-o/2-p,y:h/2},...nn(-o/2-p,h/2,o/2+p,h/2,c,.8),{x:o/2+p,y:-h/2},{x:-o/2-p,y:-h/2}],b=Ct(y),w=g.path(b,x),k=i.insert(()=>w,":first-child");return k.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c-(s.y-(s.top??0))})`),Z(t,k),t.intersect=function(S){return G.polygon(t,y,S)},i}m(f_,"waveEdgedRectangle");async function d_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await lt(e,t,at(t)),a=100,o=50,l=Math.max(s.width+(t.padding??0)*2,t?.width??0),c=Math.max(s.height+(t.padding??0)*2,t?.height??0),h=l/c;let u=l,d=c;u>d*h?d=u/h:u=d*h,u=Math.max(u,a),d=Math.max(d,o);const f=Math.min(d*.2,d/4),p=d+f*2,{cssStyles:g}=t,x=Q.svg(i),y=K(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=[{x:-u/2,y:p/2},...nn(-u/2,p/2,u/2,p/2,f,1),{x:u/2,y:-p/2},...nn(u/2,-p/2,-u/2,-p/2,f,-1)],w=Ct(b),k=x.path(w,y),S=i.insert(()=>k,":first-child");return S.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),Z(t,S),t.intersect=function(_){return G.polygon(t,b,_)},i}m(d_,"waveRectangle");async function p_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await lt(e,t,at(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=5,h=-o/2,u=-l/2,{cssStyles:d}=t,f=Q.svg(i),p=K(t,{}),g=[{x:h-c,y:u-c},{x:h-c,y:u+l},{x:h+o,y:u+l},{x:h+o,y:u-c}],x=`M${h-c},${u-c} L${h+o},${u-c} L${h+o},${u+l} L${h-c},${u+l} L${h-c},${u-c}
                M${h-c},${u} L${h+o},${u}
                M${h},${u-c} L${h},${u+l}`;t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=f.path(x,p),b=i.insert(()=>y,":first-child");return b.attr("transform",`translate(${c/2}, ${c/2})`),b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)+c/2-(s.x-(s.left??0))}, ${-(s.height/2)+c/2-(s.y-(s.top??0))})`),Z(t,b),t.intersect=function(w){return G.polygon(t,g,w)},i}m(p_,"windowPane");async function Jf(e,t){const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:gt}=ue(),{background:C}=gt,Rt={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${C}`]};await Jf(e,Rt)}const n=ue();t.useHtmlLabels=n.htmlLabels;let i=n.er?.diagramPadding??10,s=n.er?.entityPadding??6;const{cssStyles:a}=t,{labelStyles:o,nodeStyles:l}=J(t);if(r.attributes.length===0&&t.label){const gt={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};zr(t.label,n)+gt.labelPaddingX*2<n.er.minEntityWidth&&(t.width=n.er.minEntityWidth);const C=await Kl(e,t,gt);if(!Xt(n.htmlLabels)){const Rt=C.select("text"),mt=Rt.node()?.getBBox();Rt.attr("transform",`translate(${-mt.width/2}, 0)`)}return C}n.htmlLabels||(i*=1.25,s*=1.25);let c=at(t);c||(c="node default");const h=e.insert("g").attr("class",c).attr("id",t.domId||t.id),u=await ai(h,t.label??"",n,0,0,["name"],o);u.height+=s;let d=0;const f=[],p=[];let g=0,x=0,y=0,b=0,w=!0,k=!0;for(const gt of r.attributes){const C=await ai(h,gt.type,n,0,d,["attribute-type"],o);g=Math.max(g,C.width+i);const Rt=await ai(h,gt.name,n,0,d,["attribute-name"],o);x=Math.max(x,Rt.width+i);const mt=await ai(h,gt.keys.join(),n,0,d,["attribute-keys"],o);y=Math.max(y,mt.width+i);const At=await ai(h,gt.comment,n,0,d,["attribute-comment"],o);b=Math.max(b,At.width+i);const Qt=Math.max(C.height,Rt.height,mt.height,At.height)+s;p.push({yOffset:d,rowHeight:Qt}),d+=Qt}let S=4;y<=i&&(w=!1,y=0,S--),b<=i&&(k=!1,b=0,S--);const _=h.node().getBBox();if(u.width+i*2-(g+x+y+b)>0){const gt=u.width+i*2-(g+x+y+b);g+=gt/S,x+=gt/S,y>0&&(y+=gt/S),b>0&&(b+=gt/S)}const A=g+x+y+b,B=Q.svg(h),F=K(t,{});t.look!=="handDrawn"&&(F.roughness=0,F.fillStyle="solid");let v=0;p.length>0&&(v=p.reduce((gt,C)=>gt+(C?.rowHeight??0),0));const L=Math.max(_.width+i*2,t?.width||0,A),O=Math.max((v??0)+u.height,t?.height||0),R=-L/2,I=-O/2;h.selectAll("g:not(:first-child)").each((gt,C,Rt)=>{const mt=St(Rt[C]),At=mt.attr("transform");let Qt=0,ve=0;if(At){const Oe=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(At);Oe&&(Qt=parseFloat(Oe[1]),ve=parseFloat(Oe[2]),mt.attr("class").includes("attribute-name")?Qt+=g:mt.attr("class").includes("attribute-keys")?Qt+=g+x:mt.attr("class").includes("attribute-comment")&&(Qt+=g+x+y))}mt.attr("transform",`translate(${R+i/2+Qt}, ${ve+I+u.height+s/2})`)}),h.select(".name").attr("transform","translate("+-u.width/2+", "+(I+s/2)+")");const D=B.rectangle(R,I,L,O,F),z=h.insert(()=>D,":first-child").attr("style",a.join("")),{themeVariables:U}=ue(),{rowEven:Y,rowOdd:Tt,nodeBorder:T}=U;f.push(0);for(const[gt,C]of p.entries()){const mt=(gt+1)%2===0&&C.yOffset!==0,At=B.rectangle(R,u.height+I+C?.yOffset,L,C?.rowHeight,{...F,fill:mt?Y:Tt,stroke:T});h.insert(()=>At,"g.label").attr("style",a.join("")).attr("class",`row-rect-${mt?"even":"odd"}`)}let pt=B.line(R,u.height+I,L+R,u.height+I,F);h.insert(()=>pt).attr("class","divider"),pt=B.line(g+R,u.height+I,g+R,O+I,F),h.insert(()=>pt).attr("class","divider"),w&&(pt=B.line(g+x+R,u.height+I,g+x+R,O+I,F),h.insert(()=>pt).attr("class","divider")),k&&(pt=B.line(g+x+y+R,u.height+I,g+x+y+R,O+I,F),h.insert(()=>pt).attr("class","divider"));for(const gt of f)pt=B.line(R,u.height+I+gt,L+R,u.height+I+gt,F),h.insert(()=>pt).attr("class","divider");if(Z(t,z),l&&t.look!=="handDrawn"){const C=l.split(";")?.filter(Rt=>Rt.includes("stroke"))?.map(Rt=>`${Rt}`).join("; ");h.selectAll("path").attr("style",C??""),h.selectAll(".row-rect-even path").attr("style",l)}return t.intersect=function(gt){return G.rect(t,gt)},h}m(Jf,"erBox");async function ai(e,t,r,n=0,i=0,s=[],a=""){const o=e.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${n}, ${i})`).attr("style",a);t!==Zp(t)&&(t=Zp(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=o.node().appendChild(await on(o,t,{width:zr(t,r)+100,style:a,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let h=l.children[0];for(h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");h.childNodes[0];)h=h.childNodes[0],h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(Xt(r.htmlLabels)){const h=l.children[0];h.style.textAlign="start";const u=St(l);c=h.getBoundingClientRect(),u.attr("width",c.width),u.attr("height",c.height)}return c}m(ai,"addText");async function g_(e,t,r,n,i=r.class.padding??12){const s=n?0:3,a=e.insert("g").attr("class",at(t)).attr("id",t.domId||t.id);let o=null,l=null,c=null,h=null,u=0,d=0,f=0;if(o=a.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const b=t.annotations[0];await ys(o,{text:`«${b}»`},0),u=o.node().getBBox().height}l=a.insert("g").attr("class","label-group text"),await ys(l,t,0,["font-weight: bolder"]);const p=l.node().getBBox();d=p.height,c=a.insert("g").attr("class","members-group text");let g=0;for(const b of t.members){const w=await ys(c,b,g,[b.parseClassifier()]);g+=w+s}f=c.node().getBBox().height,f<=0&&(f=i/2),h=a.insert("g").attr("class","methods-group text");let x=0;for(const b of t.methods){const w=await ys(h,b,x,[b.parseClassifier()]);x+=w+s}let y=a.node().getBBox();if(o!==null){const b=o.node().getBBox();o.attr("transform",`translate(${-b.width/2})`)}return l.attr("transform",`translate(${-p.width/2}, ${u})`),y=a.node().getBBox(),c.attr("transform",`translate(0, ${u+d+i*2})`),y=a.node().getBBox(),h.attr("transform",`translate(0, ${u+d+(f?f+i*4:i*2)})`),y=a.node().getBBox(),{shapeSvg:a,bbox:y}}m(g_,"textHelper");async function ys(e,t,r,n=[]){const i=e.insert("g").attr("class","label").attr("style",n.join("; ")),s=ue();let a="useHtmlLabels"in t?t.useHtmlLabels:Xt(s.htmlLabels)??!0,o="";"text"in t?o=t.text:o=t.label,!a&&o.startsWith("\\")&&(o=o.substring(1)),Ei(o)&&(a=!0);const l=await on(i,lf(jn(o)),{width:zr(o,s)+50,classes:"markdown-node-label",useHtmlLabels:a},s);let c,h=1;if(a){const u=l.children[0],d=St(l);h=u.innerHTML.split("<br>").length,u.innerHTML.includes("</math>")&&(h+=u.innerHTML.split("<mrow>").length-1);const f=u.getElementsByTagName("img");if(f){const p=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...f].map(g=>new Promise(x=>{function y(){if(g.style.display="flex",g.style.flexDirection="column",p){const b=s.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,k=parseInt(b,10)*5+"px";g.style.minWidth=k,g.style.maxWidth=k}else g.style.width="100%";x(g)}m(y,"setupImage"),setTimeout(()=>{g.complete&&y()}),g.addEventListener("error",y),g.addEventListener("load",y)})))}c=u.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}else{n.includes("font-weight: bolder")&&St(l).selectAll("tspan").attr("font-weight",""),h=l.children.length;const u=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(u.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(u.textContent=u.textContent[0]+" "+u.textContent.substring(1))),u.textContent==="undefined"&&(u.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*h)+r)+")"),c.height}m(ys,"addText");async function m_(e,t){const r=Lt(),n=r.class.padding??12,i=n,s=t.useHtmlLabels??Xt(r.htmlLabels)??!0,a=t;a.annotations=a.annotations??[],a.members=a.members??[],a.methods=a.methods??[];const{shapeSvg:o,bbox:l}=await g_(e,t,r,s,i),{labelStyles:c,nodeStyles:h}=J(t);t.labelStyle=c,t.cssStyles=a.styles||"";const u=a.styles?.join(";")||h||"";t.cssStyles||(t.cssStyles=u.replaceAll("!important","").split(";"));const d=a.members.length===0&&a.methods.length===0&&!r.class?.hideEmptyMembersBox,f=Q.svg(o),p=K(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=l.width;let x=l.height;a.members.length===0&&a.methods.length===0?x+=i:a.members.length>0&&a.methods.length===0&&(x+=i*2);const y=-g/2,b=-x/2,w=f.rectangle(y-n,b-n-(d?n:a.members.length===0&&a.methods.length===0?-n/2:0),g+2*n,x+2*n+(d?n*2:a.members.length===0&&a.methods.length===0?-n:0),p),k=o.insert(()=>w,":first-child");k.attr("class","basic label-container");const S=k.node().getBBox();o.selectAll(".text").each((F,v,L)=>{const O=St(L[v]),R=O.attr("transform");let I=0;if(R){const Y=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(R);Y&&(I=parseFloat(Y[2]))}let D=I+b+n-(d?n:a.members.length===0&&a.methods.length===0?-n/2:0);s||(D-=4);let z=y;(O.attr("class").includes("label-group")||O.attr("class").includes("annotation-group"))&&(z=-O.node()?.getBBox().width/2||0,o.selectAll("text").each(function(U,Y,Tt){window.getComputedStyle(Tt[Y]).textAnchor==="middle"&&(z=0)})),O.attr("transform",`translate(${z}, ${D})`)});const _=o.select(".annotation-group").node().getBBox().height-(d?n/2:0)||0,A=o.select(".label-group").node().getBBox().height-(d?n/2:0)||0,B=o.select(".members-group").node().getBBox().height-(d?n/2:0)||0;if(a.members.length>0||a.methods.length>0||d){const F=f.line(S.x,_+A+b+n,S.x+S.width,_+A+b+n,p);o.insert(()=>F).attr("class","divider").attr("style",u)}if(d||a.members.length>0||a.methods.length>0){const F=f.line(S.x,_+A+B+b+i*2+n,S.x+S.width,_+A+B+b+n+i*2,p);o.insert(()=>F).attr("class","divider").attr("style",u)}if(a.look!=="handDrawn"&&o.selectAll("path").attr("style",u),k.select(":nth-child(2)").attr("style",u),o.selectAll(".divider").select("path").attr("style",u),t.labelStyle?o.selectAll("span").attr("style",t.labelStyle):o.selectAll("span").attr("style",u),!s){const F=RegExp(/color\s*:\s*([^;]*)/),v=F.exec(u);if(v){const L=v[0].replace("color","fill");o.selectAll("tspan").attr("style",L)}else if(c){const L=F.exec(c);if(L){const O=L[0].replace("color","fill");o.selectAll("tspan").attr("style",O)}}}return Z(t,k),t.intersect=function(F){return G.rect(t,F)},o}m(m_,"classBox");async function y_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const i=t,s=t,a=20,o=20,l="verifyMethod"in t,c=at(t),h=e.insert("g").attr("class",c).attr("id",t.domId??t.id);let u;l?u=await pr(h,`&lt;&lt;${i.type}&gt;&gt;`,0,t.labelStyle):u=await pr(h,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let d=u;const f=await pr(h,i.name,d,t.labelStyle+"; font-weight: bold;");if(d+=f+o,l){const _=await pr(h,`${i.requirementId?`ID: ${i.requirementId}`:""}`,d,t.labelStyle);d+=_;const A=await pr(h,`${i.text?`Text: ${i.text}`:""}`,d,t.labelStyle);d+=A;const B=await pr(h,`${i.risk?`Risk: ${i.risk}`:""}`,d,t.labelStyle);d+=B,await pr(h,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,d,t.labelStyle)}else{const _=await pr(h,`${s.type?`Type: ${s.type}`:""}`,d,t.labelStyle);d+=_,await pr(h,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,d,t.labelStyle)}const p=(h.node()?.getBBox().width??200)+a,g=(h.node()?.getBBox().height??200)+a,x=-p/2,y=-g/2,b=Q.svg(h),w=K(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const k=b.rectangle(x,y,p,g,w),S=h.insert(()=>k,":first-child");if(S.attr("class","basic label-container").attr("style",n),h.selectAll(".label").each((_,A,B)=>{const F=St(B[A]),v=F.attr("transform");let L=0,O=0;if(v){const z=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(v);z&&(L=parseFloat(z[1]),O=parseFloat(z[2]))}const R=O-g/2;let I=x+a/2;(A===0||A===1)&&(I=L),F.attr("transform",`translate(${I}, ${R+a})`)}),d>u+f+o){const _=b.line(x,y+u+f+o,x+p,y+u+f+o,w);h.insert(()=>_).attr("style",n)}return Z(t,S),t.intersect=function(_){return G.rect(t,_)},h}m(y_,"requirementBox");async function pr(e,t,r,n=""){if(t==="")return 0;const i=e.insert("g").attr("class","label").attr("style",n),s=Lt(),a=s.htmlLabels??!0,o=await on(i,lf(jn(t)),{width:zr(t,s)+50,classes:"markdown-node-label",useHtmlLabels:a,style:n},s);let l;if(a){const c=o.children[0],h=St(o);l=c.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}else{const c=o.children[0];for(const h of c.children)h.textContent=h.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&h.setAttribute("style",n);l=o.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}m(pr,"addText");var P3=m(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function x_(e,t,{config:r}){const{labelStyles:n,nodeStyles:i}=J(t);t.labelStyle=n||"";const s=10,a=t.width;t.width=(t.width??200)-10;const{shapeSvg:o,bbox:l,label:c}=await lt(e,t,at(t)),h=t.padding||10;let u="",d;"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(u=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),d=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",u).attr("target","_blank"));const f={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let p,g;d?{label:p,bbox:g}=await Vc(d,"ticket"in t&&t.ticket||"",f):{label:p,bbox:g}=await Vc(o,"ticket"in t&&t.ticket||"",f);const{label:x,bbox:y}=await Vc(o,"assigned"in t&&t.assigned||"",f);t.width=a;const b=10,w=t?.width||0,k=Math.max(g.height,y.height)/2,S=Math.max(l.height+b*2,t?.height||0)+k,_=-w/2,A=-S/2;c.attr("transform","translate("+(h-w/2)+", "+(-k-l.height/2)+")"),p.attr("transform","translate("+(h-w/2)+", "+(-k+l.height/2)+")"),x.attr("transform","translate("+(h+w/2-y.width-2*s)+", "+(-k+l.height/2)+")");let B;const{rx:F,ry:v}=t,{cssStyles:L}=t;if(t.look==="handDrawn"){const O=Q.svg(o),R=K(t,{}),I=F||v?O.path(ln(_,A,w,S,F||0),R):O.rectangle(_,A,w,S,R);B=o.insert(()=>I,":first-child"),B.attr("class","basic label-container").attr("style",L||null)}else{B=o.insert("rect",":first-child"),B.attr("class","basic label-container __APA__").attr("style",i).attr("rx",F??5).attr("ry",v??5).attr("x",_).attr("y",A).attr("width",w).attr("height",S);const O="priority"in t&&t.priority;if(O){const R=o.append("line"),I=_+2,D=A+Math.floor((F??0)/2),z=A+S-Math.floor((F??0)/2);R.attr("x1",I).attr("y1",D).attr("x2",I).attr("y2",z).attr("stroke-width","4").attr("stroke",P3(O))}}return Z(t,B),t.height=S,t.intersect=function(O){return G.rect(t,O)},o}m(x_,"kanbanItem");async function b_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await lt(e,t,at(t)),l=s.width+10*a,c=s.height+8*a,h=.15*l,{cssStyles:u}=t,d=s.width+20,f=s.height+20,p=Math.max(l,d),g=Math.max(c,f);o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let x;const y=`M0 0 
    a${h},${h} 1 0,0 ${p*.25},${-1*g*.1}
    a${h},${h} 1 0,0 ${p*.25},0
    a${h},${h} 1 0,0 ${p*.25},0
    a${h},${h} 1 0,0 ${p*.25},${g*.1}

    a${h},${h} 1 0,0 ${p*.15},${g*.33}
    a${h*.8},${h*.8} 1 0,0 0,${g*.34}
    a${h},${h} 1 0,0 ${-1*p*.15},${g*.33}

    a${h},${h} 1 0,0 ${-1*p*.25},${g*.15}
    a${h},${h} 1 0,0 ${-1*p*.25},0
    a${h},${h} 1 0,0 ${-1*p*.25},0
    a${h},${h} 1 0,0 ${-1*p*.25},${-1*g*.15}

    a${h},${h} 1 0,0 ${-1*p*.1},${-1*g*.33}
    a${h*.8},${h*.8} 1 0,0 0,${-1*g*.34}
    a${h},${h} 1 0,0 ${p*.1},${-1*g*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const b=Q.svg(i),w=K(t,{}),k=b.path(y,w);x=i.insert(()=>k,":first-child"),x.attr("class","basic label-container").attr("style",de(u))}else x=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",y);return x.attr("transform",`translate(${-p/2}, ${-g/2})`),Z(t,x),t.calcIntersect=function(b,w){return G.rect(b,w)},t.intersect=function(b){return N.info("Bang intersect",t,b),G.rect(t,b)},i}m(b_,"bang");async function w_(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await lt(e,t,at(t)),l=s.width+2*a,c=s.height+2*a,h=.15*l,u=.25*l,d=.35*l,f=.2*l,{cssStyles:p}=t;let g;const x=`M0 0 
    a${h},${h} 0 0,1 ${l*.25},${-1*l*.1}
    a${d},${d} 1 0,1 ${l*.4},${-1*l*.1}
    a${u},${u} 1 0,1 ${l*.35},${l*.2}

    a${h},${h} 1 0,1 ${l*.15},${c*.35}
    a${f},${f} 1 0,1 ${-1*l*.15},${c*.65}

    a${u},${h} 1 0,1 ${-1*l*.25},${l*.15}
    a${d},${d} 1 0,1 ${-1*l*.5},0
    a${h},${h} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${h},${h} 1 0,1 ${-1*l*.1},${-1*c*.35}
    a${f},${f} 1 0,1 ${l*.1},${-1*c*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const y=Q.svg(i),b=K(t,{}),w=y.path(x,b);g=i.insert(()=>w,":first-child"),g.attr("class","basic label-container").attr("style",de(p))}else g=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",x);return o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),g.attr("transform",`translate(${-l/2}, ${-c/2})`),Z(t,g),t.calcIntersect=function(y,b){return G.rect(y,b)},t.intersect=function(y){return N.info("Cloud intersect",t,y),G.rect(t,y)},i}m(w_,"cloud");async function __(e,t){const{labelStyles:r,nodeStyles:n}=J(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await lt(e,t,at(t)),l=s.width+8*a,c=s.height+2*a,h=5,u=`
    M${-l/2} ${c/2-h}
    v${-c+2*h}
    q0,-${h} ${h},-${h}
    h${l-2*h}
    q${h},0 ${h},${h}
    v${c-2*h}
    q0,${h} -${h},${h}
    h${-l+2*h}
    q-${h},0 -${h},-${h}
    Z
  `,d=i.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",n).attr("d",u);return i.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",c/2).attr("x2",l/2).attr("y2",c/2),o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>o.node()),Z(t,d),t.calcIntersect=function(f,p){return G.rect(f,p)},t.intersect=function(f){return G.rect(t,f)},i}m(__,"defaultMindmapNode");async function k_(e,t){const r={padding:t.padding??0};return Kf(e,t,r)}m(k_,"mindmapCircle");var D3=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Z1},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Q1},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:t_},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:i_},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:C1},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Kf},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:b_},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:w_},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Y1},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:M1},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:z1},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:N1},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:c_},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:P1},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:v1},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:o_},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:g1},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:K1},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:n_},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:r_},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:E1},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:B1},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:b1},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:w1},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:_1},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:q1},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:f_},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:L1},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:l_},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:W1},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:k1},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:S1},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:u_},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:p_},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:T1},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:h_},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:A1},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:J1},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:U1},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:j1},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:p1},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:x1},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:a_},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:s_},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:d_},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:G1},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:H1}],N3=m(()=>{const t=[...Object.entries({state:e_,choice:m1,note:V1,rectWithTitle:X1,labelRect:D1,iconSquare:F1,iconCircle:R1,icon:I1,iconRounded:$1,imageSquare:O1,anchor:d1,kanbanItem:x_,mindmapCircle:k_,defaultMindmapNode:__,classBox:m_,erBox:Jf,requirementBox:y_}),...D3.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),C_=N3();function z3(e){return e in C_}m(z3,"isValidShape");var Jl=new Map;async function S_(e,t,r){let n,i;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const s=t.shape?C_[t.shape]:void 0;if(!s)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let a;r.config.securityLevel==="sandbox"?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a??null),i=await s(n,t,r)}else i=await s(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),Jl.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}m(S_,"insertNode");var Wq=m((e,t)=>{Jl.set(t.id,e)},"setNodeElem"),Hq=m(()=>{Jl.clear()},"clear"),jq=m(e=>{const t=Jl.get(e.id);N.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),q3=m((e,t,r,n,i,s)=>{t.arrowTypeStart&&am(e,"start",t.arrowTypeStart,r,n,i,s),t.arrowTypeEnd&&am(e,"end",t.arrowTypeEnd,r,n,i,s)},"addEdgeMarkers"),W3={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},am=m((e,t,r,n,i,s,a)=>{const o=W3[r];if(!o){N.warn(`Unknown arrow type: ${r}`);return}const l=o.type,h=`${i}_${s}-${l}${t==="start"?"Start":"End"}`;if(a&&a.trim()!==""){const u=a.replace(/[^\dA-Za-z]/g,"_"),d=`${h}_${u}`;if(!document.getElementById(d)){const f=document.getElementById(h);if(f){const p=f.cloneNode(!0);p.id=d,p.querySelectorAll("path, circle, line").forEach(x=>{x.setAttribute("stroke",a),o.fill&&x.setAttribute("fill",a)}),f.parentNode?.appendChild(p)}}e.attr(`marker-${t}`,`url(${n}#${d})`)}else e.attr(`marker-${t}`,`url(${n}#${h})`)},"addEdgeMarker"),ul=new Map,ne=new Map,Uq=m(()=>{ul.clear(),ne.clear()},"clear"),ja=m(e=>e?e.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),H3=m(async(e,t)=>{let r=Xt(Lt().flowchart.htmlLabels);const{labelStyles:n}=J(t);t.labelStyle=n;const i=await on(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});N.info("abc82",t,t.labelType);const s=e.insert("g").attr("class","edgeLabel"),a=s.insert("g").attr("class","label").attr("data-id",t.id);a.node().appendChild(i);let o=i.getBBox();if(r){const c=i.children[0],h=St(i);o=c.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),ul.set(t.id,s),t.width=o.width,t.height=o.height;let l;if(t.startLabelLeft){const c=await vn(t.startLabelLeft,ja(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),ne.get(t.id)||ne.set(t.id,{}),ne.get(t.id).startLeft=h,xs(l,t.startLabelLeft)}if(t.startLabelRight){const c=await vn(t.startLabelRight,ja(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=h.node().appendChild(c),u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),ne.get(t.id)||ne.set(t.id,{}),ne.get(t.id).startRight=h,xs(l,t.startLabelRight)}if(t.endLabelLeft){const c=await vn(t.endLabelLeft,ja(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(c),ne.get(t.id)||ne.set(t.id,{}),ne.get(t.id).endLeft=h,xs(l,t.endLabelLeft)}if(t.endLabelRight){const c=await vn(t.endLabelRight,ja(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),u=h.insert("g").attr("class","inner");l=u.node().appendChild(c);const d=c.getBBox();u.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(c),ne.get(t.id)||ne.set(t.id,{}),ne.get(t.id).endRight=h,xs(l,t.endLabelRight)}return i},"insertEdgeLabel");function xs(e,t){Lt().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}m(xs,"setTerminalWidth");var j3=m((e,t)=>{N.debug("Moving label abc88 ",e.id,e.label,ul.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=Lt(),{subGraphTitleTotalMargin:i}=Ef(n);if(e.label){const s=ul.get(e.id);let a=e.x,o=e.y;if(r){const l=ir.calcLabelPosition(r);N.debug("Moving label "+e.label+" from (",a,",",o,") to (",l.x,",",l.y,") abc88"),t.updatedPath&&(a=l.x,o=l.y)}s.attr("transform",`translate(${a}, ${o+i/2})`)}if(e.startLabelLeft){const s=ne.get(e.id).startLeft;let a=e.x,o=e.y;if(r){const l=ir.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.startLabelRight){const s=ne.get(e.id).startRight;let a=e.x,o=e.y;if(r){const l=ir.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.endLabelLeft){const s=ne.get(e.id).endLeft;let a=e.x,o=e.y;if(r){const l=ir.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.endLabelRight){const s=ne.get(e.id).endRight;let a=e.x,o=e.y;if(r){const l=ir.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}},"positionEdgeLabel"),U3=m((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-n),a=e.width/2,o=e.height/2;return i>=a||s>=o},"outsideNode"),V3=m((e,t,r)=>{N.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,s=Math.abs(n-r.x),a=e.width/2;let o=r.x<t.x?a-s:a+s;const l=e.height/2,c=Math.abs(t.y-r.y),h=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*a>Math.abs(n-t.x)*l){let u=r.y<t.y?t.y-l-i:i-l-t.y;o=h*u/c;const d={x:r.x<t.x?r.x+o:r.x-h+o,y:r.y<t.y?r.y+c-u:r.y-c+u};return o===0&&(d.x=t.x,d.y=t.y),h===0&&(d.x=t.x),c===0&&(d.y=t.y),N.debug(`abc89 top/bottom calc, Q ${c}, q ${u}, R ${h}, r ${o}`,d),d}else{r.x<t.x?o=t.x-a-n:o=n-a-t.x;let u=c*o/h,d=r.x<t.x?r.x+h-o:r.x-h+o,f=r.y<t.y?r.y+u:r.y-u;return N.debug(`sides calc abc89, Q ${c}, q ${u}, R ${h}, r ${o}`,{_x:d,_y:f}),o===0&&(d=t.x,f=t.y),h===0&&(d=t.x),c===0&&(f=t.y),{x:d,y:f}}},"intersection"),om=m((e,t)=>{N.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(s=>{if(N.info("abc88 checking point",s,t),!U3(t,s)&&!i){const a=V3(t,n,s);N.debug("abc88 inside",s,n,a),N.debug("abc88 intersection",a,t);let o=!1;r.forEach(l=>{o=o||l.x===a.x&&l.y===a.y}),r.some(l=>l.x===a.x&&l.y===a.y)?N.warn("abc88 no intersect",a,r):r.push(a),i=!0}else N.warn("abc88 outside",s,n),n=s,i||r.push(s)}),N.debug("returning points",r),r},"cutPathAtIntersect");function v_(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const i=e[n-1],s=e[n],a=e[n+1];(i.x===s.x&&s.y===a.y&&Math.abs(s.x-a.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===a.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-a.y)>5)&&(t.push(s),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}m(v_,"extractCornerPoints");var lm=m(function(e,t,r){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i),a=r/s;return{x:t.x-a*n,y:t.y-a*i}},"findAdjacentPoint"),Y3=m(function(e){const{cornerPointPositions:t}=v_(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const i=e[n-1],s=e[n+1],a=e[n],o=lm(i,a,5),l=lm(s,a,5),c=l.x-o.x,h=l.y-o.y;r.push(o);const u=Math.sqrt(2)*2;let d={x:a.x,y:a.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){N.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const f=5;a.x===o.x?d={x:c<0?o.x-f+u:o.x+f-u,y:h<0?o.y-u:o.y+u}:d={x:c<0?o.x-u:o.x+u,y:h<0?o.y-f+u:o.y+f-u}}else N.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));r.push(d,l)}else r.push(e[n]);return r},"fixCorners"),G3=m((e,t,r)=>{const n=e-t-r,i=2,s=2,a=i+s,o=Math.floor(n/a),l=Array(o).fill(`${i} ${s}`).join(" ");return`0 ${t} ${l} ${r}`},"generateDashArray"),X3=m(function(e,t,r,n,i,s,a,o=!1){const{handDrawnSeed:l}=Lt();let c=t.points,h=!1;const u=i;var d=s;const f=[];for(const I in t.cssCompiledStyles)rw(I)||f.push(t.cssCompiledStyles[I]);N.debug("UIO intersect check",t.points,d.x,u.x),d.intersect&&u.intersect&&!o&&(c=c.slice(1,t.points.length-1),c.unshift(u.intersect(c[0])),N.debug("Last point UIO",t.start,"-->",t.end,c[c.length-1],d,d.intersect(c[c.length-1])),c.push(d.intersect(c[c.length-1])));const p=btoa(JSON.stringify(c));t.toCluster&&(N.info("to cluster abc88",r.get(t.toCluster)),c=om(t.points,r.get(t.toCluster).node),h=!0),t.fromCluster&&(N.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(c,null,2)),c=om(c.reverse(),r.get(t.fromCluster).node).reverse(),h=!0);let g=c.filter(I=>!Number.isNaN(I.y));g=Y3(g);let x=oo;switch(x=Wo,t.curve){case"linear":x=Wo;break;case"basis":x=oo;break;case"cardinal":x=ax;break;case"bumpX":x=ex;break;case"bumpY":x=rx;break;case"catmullRom":x=lx;break;case"monotoneX":x=px;break;case"monotoneY":x=gx;break;case"natural":x=yx;break;case"step":x=xx;break;case"stepAfter":x=wx;break;case"stepBefore":x=bx;break;default:x=oo}const{x:y,y:b}=Y$(t),w=MR().x(y).y(b).curve(x);let k;switch(t.thickness){case"normal":k="edge-thickness-normal";break;case"thick":k="edge-thickness-thick";break;case"invisible":k="edge-thickness-invisible";break;default:k="edge-thickness-normal"}switch(t.pattern){case"solid":k+=" edge-pattern-solid";break;case"dotted":k+=" edge-pattern-dotted";break;case"dashed":k+=" edge-pattern-dashed";break;default:k+=" edge-pattern-solid"}let S,_=t.curve==="rounded"?T_(A_(g,t),5):w(g);const A=Array.isArray(t.style)?t.style:[t.style];let B=A.find(I=>I?.startsWith("stroke:")),F=!1;if(t.look==="handDrawn"){const I=Q.svg(e);Object.assign([],g);const D=I.path(_,{roughness:.3,seed:l});k+=" transition",S=St(D).select("path").attr("id",t.id).attr("class"," "+k+(t.classes?" "+t.classes:"")).attr("style",A?A.reduce((U,Y)=>U+";"+Y,""):"");let z=S.attr("d");S.attr("d",z),e.node().appendChild(S.node())}else{const I=f.join(";"),D=A?A.reduce((gt,C)=>gt+C+";",""):"";let z="";t.animate&&(z=" edge-animation-fast"),t.animation&&(z=" edge-animation-"+t.animation);const U=(I?I+";"+D+";":D)+";"+(A?A.reduce((gt,C)=>gt+";"+C,""):"");S=e.append("path").attr("d",_).attr("id",t.id).attr("class"," "+k+(t.classes?" "+t.classes:"")+(z??"")).attr("style",U),B=U.match(/stroke:([^;]+)/)?.[1],F=t.animate===!0||!!t.animation||I.includes("animation");const Y=S.node(),Tt=typeof Y.getTotalLength=="function"?Y.getTotalLength():0,T=Tg[t.arrowTypeStart]||0,pt=Tg[t.arrowTypeEnd]||0;if(t.look==="neo"&&!F){const C=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?G3(Tt,T,pt):`0 ${T} ${Tt-T-pt} ${pt}`}; stroke-dashoffset: 0;`;S.attr("style",C+S.attr("style"))}}S.attr("data-edge",!0),S.attr("data-et","edge"),S.attr("data-id",t.id),S.attr("data-points",p),t.showPoints&&g.forEach(I=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",I.x).attr("cy",I.y)});let v="";(Lt().flowchart.arrowMarkerAbsolute||Lt().state.arrowMarkerAbsolute)&&(v=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,v=v.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),N.info("arrowTypeStart",t.arrowTypeStart),N.info("arrowTypeEnd",t.arrowTypeEnd),q3(S,t,v,a,n,B);const L=Math.floor(c.length/2),O=c[L];ir.isLabelCoordinateInPath(O,S.attr("d"))||(h=!0);let R={};return h&&(R.updatedPath=c),R.originalPath=t.points,R},"insertEdge");function T_(e,t){if(e.length<2)return"";let r="";const n=e.length,i=1e-5;for(let s=0;s<n;s++){const a=e[s],o=e[s-1],l=e[s+1];if(s===0)r+=`M${a.x},${a.y}`;else if(s===n-1)r+=`L${a.x},${a.y}`;else{const c=a.x-o.x,h=a.y-o.y,u=l.x-a.x,d=l.y-a.y,f=Math.hypot(c,h),p=Math.hypot(u,d);if(f<i||p<i){r+=`L${a.x},${a.y}`;continue}const g=c/f,x=h/f,y=u/p,b=d/p,w=g*y+x*b,k=Math.max(-1,Math.min(1,w)),S=Math.acos(k);if(S<i||Math.abs(Math.PI-S)<i){r+=`L${a.x},${a.y}`;continue}const _=Math.min(t/Math.sin(S/2),f/2,p/2),A=a.x-g*_,B=a.y-x*_,F=a.x+y*_,v=a.y+b*_;r+=`L${A},${B}`,r+=`Q${a.x},${a.y} ${F},${v}`}}return r}m(T_,"generateRoundedPath");function uu(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,n=t.y-e.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}m(uu,"calculateDeltaAndAngle");function A_(e,t){const r=e.map(i=>({...i}));if(e.length>=2&&ce[t.arrowTypeStart]){const i=ce[t.arrowTypeStart],s=e[0],a=e[1],{angle:o}=uu(s,a),l=i*Math.cos(o),c=i*Math.sin(o);r[0].x=s.x+l,r[0].y=s.y+c}const n=e.length;if(n>=2&&ce[t.arrowTypeEnd]){const i=ce[t.arrowTypeEnd],s=e[n-1],a=e[n-2],{angle:o}=uu(a,s),l=i*Math.cos(o),c=i*Math.sin(o);r[n-1].x=s.x-l,r[n-1].y=s.y-c}return r}m(A_,"applyMarkerOffsetsToPoints");var Q3=m((e,t,r,n)=>{t.forEach(i=>{f5[i](e,r,n)})},"insertMarkers"),K3=m((e,t,r)=>{N.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),J3=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Z3=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),t5=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),e5=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),r5=m((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),n5=m((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),i5=m((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),s5=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),a5=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),o5=m((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),l5=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),c5=m((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),h5=m((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),u5=m((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),f5={extension:K3,composition:J3,aggregation:Z3,dependency:t5,lollipop:e5,point:r5,circle:n5,cross:i5,barb:s5,only_one:a5,zero_or_one:o5,one_or_more:l5,zero_or_more:c5,requirement_arrow:h5,requirement_contains:u5},d5=Q3,p5={common:Pi,getConfig:ue,insertCluster:k3,insertEdge:X3,insertEdgeLabel:H3,insertMarkers:d5,insertNode:S_,interpolateToCurve:Rf,labelHelper:lt,log:N,positionEdgeLabel:j3},ea={},E_=m(e=>{for(const t of e)ea[t.name]=t},"registerLayoutLoaders"),g5=m(()=>{E_([{name:"dagre",loader:m(async()=>await Bt(()=>import("./dagre-6UL2VRFP-CD0iEAPt.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])),"loader")},{name:"cose-bilkent",loader:m(async()=>await Bt(()=>import("./cose-bilkent-S5V4N54A-CSBymLWf.js"),__vite__mapDeps([16,17,6,7,8,9,10,11,12,13,14,15])),"loader")}])},"registerDefaultLayoutLoaders");g5();var Vq=m(async(e,t)=>{if(!(e.layoutAlgorithm in ea))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=ea[e.layoutAlgorithm];return(await r.loader()).render(e,t,p5,{algorithm:r.algorithm})},"render"),Yq=m((e="",{fallback:t="dagre"}={})=>{if(e in ea)return e;if(t in ea)return N.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),L_="comm",M_="rule",B_="decl",m5="@import",y5="@namespace",x5="@keyframes",b5="@layer",I_=Math.abs,Zf=String.fromCharCode;function R_(e){return e.trim()}function fo(e,t,r){return e.replace(t,r)}function w5(e,t,r){return e.indexOf(t,r)}function mi(e,t){return e.charCodeAt(t)|0}function Ri(e,t,r){return e.slice(t,r)}function mr(e){return e.length}function _5(e){return e.length}function Ua(e,t){return t.push(e),e}var Zl=1,$i=1,$_=0,Ke=0,Wt=0,Wi="";function td(e,t,r,n,i,s,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Zl,column:$i,length:a,return:"",siblings:o}}function k5(){return Wt}function C5(){return Wt=Ke>0?mi(Wi,--Ke):0,$i--,Wt===10&&($i=1,Zl--),Wt}function or(){return Wt=Ke<$_?mi(Wi,Ke++):0,$i++,Wt===10&&($i=1,Zl++),Wt}function Jr(){return mi(Wi,Ke)}function po(){return Ke}function tc(e,t){return Ri(Wi,e,t)}function ra(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function S5(e){return Zl=$i=1,$_=mr(Wi=e),Ke=0,[]}function v5(e){return Wi="",e}function Yc(e){return R_(tc(Ke-1,fu(e===91?e+2:e===40?e+1:e)))}function T5(e){for(;(Wt=Jr())&&Wt<33;)or();return ra(e)>2||ra(Wt)>3?"":" "}function A5(e,t){for(;--t&&or()&&!(Wt<48||Wt>102||Wt>57&&Wt<65||Wt>70&&Wt<97););return tc(e,po()+(t<6&&Jr()==32&&or()==32))}function fu(e){for(;or();)switch(Wt){case e:return Ke;case 34:case 39:e!==34&&e!==39&&fu(Wt);break;case 40:e===41&&fu(e);break;case 92:or();break}return Ke}function E5(e,t){for(;or()&&e+Wt!==57;)if(e+Wt===84&&Jr()===47)break;return"/*"+tc(t,Ke-1)+"*"+Zf(e===47?e:or())}function L5(e){for(;!ra(Jr());)or();return tc(e,Ke)}function M5(e){return v5(go("",null,null,null,[""],e=S5(e),0,[0],e))}function go(e,t,r,n,i,s,a,o,l){for(var c=0,h=0,u=a,d=0,f=0,p=0,g=1,x=1,y=1,b=0,w="",k=i,S=s,_=n,A=w;x;)switch(p=b,b=or()){case 40:if(p!=108&&mi(A,u-1)==58){w5(A+=fo(Yc(b),"&","&\f"),"&\f",I_(c?o[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:A+=Yc(b);break;case 9:case 10:case 13:case 32:A+=T5(p);break;case 92:A+=A5(po()-1,7);continue;case 47:switch(Jr()){case 42:case 47:Ua(B5(E5(or(),po()),t,r,l),l),(ra(p||1)==5||ra(Jr()||1)==5)&&mr(A)&&Ri(A,-1,void 0)!==" "&&(A+=" ");break;default:A+="/"}break;case 123*g:o[c++]=mr(A)*y;case 125*g:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+h:y==-1&&(A=fo(A,/\f/g,"")),f>0&&(mr(A)-u||g===0&&p===47)&&Ua(f>32?hm(A+";",n,r,u-1,l):hm(fo(A," ","")+";",n,r,u-2,l),l);break;case 59:A+=";";default:if(Ua(_=cm(A,t,r,c,h,i,o,w,k=[],S=[],u,s),s),b===123)if(h===0)go(A,t,_,_,k,s,u,o,S);else{switch(d){case 99:if(mi(A,3)===110)break;case 108:if(mi(A,2)===97)break;default:h=0;case 100:case 109:case 115:}h?go(e,_,_,n&&Ua(cm(e,_,_,0,0,i,o,w,i,k=[],u,S),S),i,S,u,o,n?k:S):go(A,_,_,_,[""],S,0,o,S)}}c=h=f=0,g=y=1,w=A="",u=a;break;case 58:u=1+mr(A),f=p;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&C5()==125)continue}switch(A+=Zf(b),b*g){case 38:y=h>0?1:(A+="\f",-1);break;case 44:o[c++]=(mr(A)-1)*y,y=1;break;case 64:Jr()===45&&(A+=Yc(or())),d=Jr(),h=u=mr(w=A+=L5(po())),b++;break;case 45:p===45&&mr(A)==2&&(g=0)}}return s}function cm(e,t,r,n,i,s,a,o,l,c,h,u){for(var d=i-1,f=i===0?s:[""],p=_5(f),g=0,x=0,y=0;g<n;++g)for(var b=0,w=Ri(e,d+1,d=I_(x=a[g])),k=e;b<p;++b)(k=R_(x>0?f[b]+" "+w:fo(w,/&\f/g,f[b])))&&(l[y++]=k);return td(e,t,r,i===0?M_:o,l,c,h,u)}function B5(e,t,r,n){return td(e,t,r,L_,Zf(k5()),Ri(e,2,-2),0,n)}function hm(e,t,r,n,i){return td(e,t,r,B_,Ri(e,0,n),Ri(e,n+1,-1),n,i)}function du(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function I5(e,t,r,n){switch(e.type){case b5:if(e.children.length)break;case m5:case y5:case B_:return e.return=e.return||e.value;case L_:return"";case x5:return e.return=e.value+"{"+du(e.children,n)+"}";case M_:if(!mr(e.value=e.props.join(",")))return""}return mr(r=du(e.children,n))?e.return=e.value+"{"+r+"}":""}var R5=aw(Object.keys,Object),$5=Object.prototype,F5=$5.hasOwnProperty;function O5(e){if(!Hl(e))return R5(e);var t=[];for(var r in Object(e))F5.call(e,r)&&r!="constructor"&&t.push(r);return t}var pu=Hn(kr,"DataView"),gu=Hn(kr,"Promise"),mu=Hn(kr,"Set"),yu=Hn(kr,"WeakMap"),um="[object Map]",P5="[object Object]",fm="[object Promise]",dm="[object Set]",pm="[object WeakMap]",gm="[object DataView]",D5=Wn(pu),N5=Wn(Zs),z5=Wn(gu),q5=Wn(mu),W5=Wn(yu),xn=Ni;(pu&&xn(new pu(new ArrayBuffer(1)))!=gm||Zs&&xn(new Zs)!=um||gu&&xn(gu.resolve())!=fm||mu&&xn(new mu)!=dm||yu&&xn(new yu)!=pm)&&(xn=function(e){var t=Ni(e),r=t==P5?e.constructor:void 0,n=r?Wn(r):"";if(n)switch(n){case D5:return gm;case N5:return um;case z5:return fm;case q5:return dm;case W5:return pm}return t});var H5="[object Map]",j5="[object Set]",U5=Object.prototype,V5=U5.hasOwnProperty;function mm(e){if(e==null)return!0;if(jl(e)&&(el(e)||typeof e=="string"||typeof e.splice=="function"||Bf(e)||If(e)||tl(e)))return!e.length;var t=xn(e);if(t==H5||t==j5)return!e.size;if(Hl(e))return!O5(e).length;for(var r in e)if(V5.call(e,r))return!1;return!0}var F_="c4",Y5=m(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),G5=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-xQ1vznno.js");return{diagram:t}},__vite__mapDeps([18,19,6,7,8,9,10,11,12,13,14,15]));return{id:F_,diagram:e}},"loader"),X5={id:F_,detector:Y5,loader:G5},Q5=X5,O_="flowchart",K5=m((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),J5=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-DD7MDfuh.js");return{diagram:t}},__vite__mapDeps([20,21,22,23,24,6,7,8,9,10,11,12,13,14,15]));return{id:O_,diagram:e}},"loader"),Z5={id:O_,detector:K5,loader:J5},tN=Z5,P_="flowchart-v2",eN=m((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),rN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-DD7MDfuh.js");return{diagram:t}},__vite__mapDeps([20,21,22,23,24,6,7,8,9,10,11,12,13,14,15]));return{id:P_,diagram:e}},"loader"),nN={id:P_,detector:eN,loader:rN},iN=nN,D_="er",sN=m(e=>/^\s*erDiagram/.test(e),"detector"),aN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-BNVTWqgG.js");return{diagram:t}},__vite__mapDeps([25,22,23,24,6,7,8,9,10,11,12,13,14,15]));return{id:D_,diagram:e}},"loader"),oN={id:D_,detector:sN,loader:aN},lN=oN,N_="gitGraph",cN=m(e=>/^\s*gitGraph/.test(e),"detector"),hN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-BpUBfQPM.js");return{diagram:t}},__vite__mapDeps([26,27,28,29,6,7,2,4,5,8,9,10,11,12,13,14,15]));return{id:N_,diagram:e}},"loader"),uN={id:N_,detector:cN,loader:hN},fN=uN,z_="gantt",dN=m(e=>/^\s*gantt/.test(e),"detector"),pN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./ganttDiagram-LVOFAZNH-DsAyYnIu.js");return{diagram:t}},__vite__mapDeps([30,8,6,7,31,32,33,9,10,11,12,13,14,15]));return{id:z_,diagram:e}},"loader"),gN={id:z_,detector:dN,loader:pN},mN=gN,q_="info",yN=m(e=>/^\s*info/.test(e),"detector"),xN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./infoDiagram-F6ZHWCRC-CpdKt3KK.js");return{diagram:t}},__vite__mapDeps([34,29,6,7,2,4,5,8,9,10,11,12,13,14,15]));return{id:q_,diagram:e}},"loader"),bN={id:q_,detector:yN,loader:xN},W_="pie",wN=m(e=>/^\s*pie/.test(e),"detector"),_N=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-kyLCG1uJ.js");return{diagram:t}},__vite__mapDeps([35,27,29,6,7,2,4,5,36,37,32,8,9,10,11,12,13,14,15]));return{id:W_,diagram:e}},"loader"),kN={id:W_,detector:wN,loader:_N},H_="quadrantChart",CN=m(e=>/^\s*quadrantChart/.test(e),"detector"),SN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-Bx7eW84y.js");return{diagram:t}},__vite__mapDeps([38,31,32,33,6,7,8,9,10,11,12,13,14,15]));return{id:H_,diagram:e}},"loader"),vN={id:H_,detector:CN,loader:SN},TN=vN,j_="xychart",AN=m(e=>/^\s*xychart(-beta)?/.test(e),"detector"),EN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-CtT57Lk2.js");return{diagram:t}},__vite__mapDeps([39,32,37,31,33,6,7,8,9,10,11,12,13,14,15]));return{id:j_,diagram:e}},"loader"),LN={id:j_,detector:AN,loader:EN},MN=LN,U_="requirement",BN=m(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),IN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-CMEaFY0L.js");return{diagram:t}},__vite__mapDeps([40,22,23,6,7,8,9,10,11,12,13,14,15]));return{id:U_,diagram:e}},"loader"),RN={id:U_,detector:BN,loader:IN},$N=RN,V_="sequence",FN=m(e=>/^\s*sequenceDiagram/.test(e),"detector"),ON=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-YsWXUMuT.js");return{diagram:t}},__vite__mapDeps([41,19,28,6,7,8,9,10,11,12,13,14,15]));return{id:V_,diagram:e}},"loader"),PN={id:V_,detector:FN,loader:ON},DN=PN,Y_="class",NN=m((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),zN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-CbQ7U93m.js");return{diagram:t}},__vite__mapDeps([42,43,21,22,23,6,7,8,9,10,11,12,13,14,15]));return{id:Y_,diagram:e}},"loader"),qN={id:Y_,detector:NN,loader:zN},WN=qN,G_="classDiagram",HN=m((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),jN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-CbQ7U93m.js");return{diagram:t}},__vite__mapDeps([44,43,21,22,23,6,7,8,9,10,11,12,13,14,15]));return{id:G_,diagram:e}},"loader"),UN={id:G_,detector:HN,loader:jN},VN=UN,X_="state",YN=m((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),GN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-BngwisoM.js");return{diagram:t}},__vite__mapDeps([45,46,22,23,1,2,3,4,6,7,8,9,10,11,12,13,14,15]));return{id:X_,diagram:e}},"loader"),XN={id:X_,detector:YN,loader:GN},QN=XN,Q_="stateDiagram",KN=m((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),JN=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-r4moNVZe.js");return{diagram:t}},__vite__mapDeps([47,46,22,23,6,7,8,9,10,11,12,13,14,15]));return{id:Q_,diagram:e}},"loader"),ZN={id:Q_,detector:KN,loader:JN},t4=ZN,K_="journey",e4=m(e=>/^\s*journey/.test(e),"detector"),r4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-DhL-4DR0.js");return{diagram:t}},__vite__mapDeps([48,19,21,36,6,7,8,9,10,11,12,13,14,15]));return{id:K_,diagram:e}},"loader"),n4={id:K_,detector:e4,loader:r4},i4=n4,s4=m((e,t,r)=>{N.debug(`rendering svg for syntax error
`);const n=NR(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),S0(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),J_={draw:s4},a4=J_,o4={db:{},renderer:J_,parser:{parse:m(()=>{},"parse")}},l4=o4,Z_="flowchart-elk",c4=m((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),h4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-DD7MDfuh.js");return{diagram:t}},__vite__mapDeps([20,21,22,23,24,6,7,8,9,10,11,12,13,14,15]));return{id:Z_,diagram:e}},"loader"),u4={id:Z_,detector:c4,loader:h4},f4=u4,tk="timeline",d4=m(e=>/^\s*timeline/.test(e),"detector"),p4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-DCfjqUUO.js");return{diagram:t}},__vite__mapDeps([49,36,6,7,8,9,10,11,12,13,14,15]));return{id:tk,diagram:e}},"loader"),g4={id:tk,detector:d4,loader:p4},m4=g4,ek="mindmap",y4=m(e=>/^\s*mindmap/.test(e),"detector"),x4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-CGY5mikM.js");return{diagram:t}},__vite__mapDeps([50,22,23,6,7,8,9,10,11,12,13,14,15]));return{id:ek,diagram:e}},"loader"),b4={id:ek,detector:y4,loader:x4},w4=b4,rk="kanban",_4=m(e=>/^\s*kanban/.test(e),"detector"),k4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-CjPk5xj0.js");return{diagram:t}},__vite__mapDeps([51,21,6,7,8,9,10,11,12,13,14,15]));return{id:rk,diagram:e}},"loader"),C4={id:rk,detector:_4,loader:k4},S4=C4,nk="sankey",v4=m(e=>/^\s*sankey(-beta)?/.test(e),"detector"),T4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-Co_eQtNi.js");return{diagram:t}},__vite__mapDeps([52,37,32,6,7,8,9,10,11,12,13,14,15]));return{id:nk,diagram:e}},"loader"),A4={id:nk,detector:v4,loader:T4},E4=A4,ik="packet",L4=m(e=>/^\s*packet(-beta)?/.test(e),"detector"),M4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-U9ErzBBm.js");return{diagram:t}},__vite__mapDeps([53,27,29,6,7,2,4,5,8,9,10,11,12,13,14,15]));return{id:ik,diagram:e}},"loader"),B4={id:ik,detector:L4,loader:M4},sk="radar",I4=m(e=>/^\s*radar-beta/.test(e),"detector"),R4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-jMG3E2IN.js");return{diagram:t}},__vite__mapDeps([54,27,29,6,7,2,4,5,8,9,10,11,12,13,14,15]));return{id:sk,diagram:e}},"loader"),$4={id:sk,detector:I4,loader:R4},ak="block",F4=m(e=>/^\s*block(-beta)?/.test(e),"detector"),O4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-Bm_jezvf.js");return{diagram:t}},__vite__mapDeps([55,21,5,2,1,24,6,7,8,9,10,11,12,13,14,15]));return{id:ak,diagram:e}},"loader"),P4={id:ak,detector:F4,loader:O4},D4=P4,ok="architecture",N4=m(e=>/^\s*architecture/.test(e),"detector"),z4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-DlTXbUHT.js");return{diagram:t}},__vite__mapDeps([56,27,29,6,7,2,4,5,17,8,9,10,11,12,13,14,15]));return{id:ok,diagram:e}},"loader"),q4={id:ok,detector:N4,loader:z4},W4=q4,lk="treemap",H4=m(e=>/^\s*treemap/.test(e),"detector"),j4=m(async()=>{const{diagram:e}=await Bt(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-OHFg8tc2.js");return{diagram:t}},__vite__mapDeps([57,23,27,29,6,7,2,4,5,33,37,32,8,9,10,11,12,13,14,15]));return{id:lk,diagram:e}},"loader"),U4={id:lk,detector:H4,loader:j4},ym=!1,ec=m(()=>{ym||(ym=!0,Fo("error",l4,e=>e.toLowerCase().trim()==="error"),Fo("---",{db:{clear:m(()=>{},"clear")},styles:{},renderer:{draw:m(()=>{},"draw")},parser:{parse:m(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:m(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Sh(f4,w4,W4),Sh(Q5,S4,VN,WN,lN,mN,bN,kN,$N,DN,iN,tN,m4,fN,t4,QN,i4,TN,E4,B4,MN,D4,$4,U4))},"addDiagrams"),V4=m(async()=>{N.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Bn).map(async([r,{detector:n,loader:i}])=>{if(i)try{Eh(r)}catch{try{const{diagram:s,id:a}=await i();Fo(a,s,n)}catch(s){throw N.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Bn[r],s}}}))).filter(r=>r.status==="rejected");if(t.length>0){N.error(`Failed to load ${t.length} external diagrams`);for(const r of t)N.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),Y4="graphics-document document";function ck(e,t){e.attr("role",Y4),t!==""&&e.attr("aria-roledescription",t)}m(ck,"setA11yDiagramInfo");function hk(e,t,r,n){if(e.insert!==void 0){if(r){const i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){const i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}m(hk,"addSVGa11yTitleDescription");var Ln,xu=(Ln=class{constructor(t,r,n,i,s){this.type=t,this.text=r,this.db=n,this.parser=i,this.renderer=s}static async fromText(t,r={}){const n=ue(),i=ef(t,n);t=UP(t)+`
`;try{Eh(i)}catch{const c=gL(i);if(!c)throw new f0(`Diagram ${i} not found.`);const{id:h,diagram:u}=await c();Fo(h,u)}const{db:s,parser:a,renderer:o,init:l}=Eh(i);return a.parser&&(a.parser.yy=s),s.clear?.(),l?.(n),r.title&&s.setDiagramTitle?.(r.title),await a.parse(t),new Ln(i,t,s,a,o)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},m(Ln,"Diagram"),Ln),xm=[],G4=m(()=>{xm.forEach(e=>{e()}),xm=[]},"attachFunctions"),X4=m(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function uk(e){const t=e.match(u0);if(!t)return{text:e,metadata:{}};let r=V$(t[1],{schema:U$})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}m(uk,"extractFrontMatter");var Q4=m(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),K4=m(e=>{const{text:t,metadata:r}=uk(e),{displayMode:n,title:i,config:s={}}=r;return n&&(s.gantt||(s.gantt={}),s.gantt.displayMode=n),{title:i,config:s,text:t}},"processFrontmatter"),J4=m(e=>{const t=ir.detectInit(e)??{},r=ir.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):r?.type==="wrap"&&(t.wrap=!0),{text:IP(e),directive:t}},"processDirectives");function ed(e){const t=Q4(e),r=K4(t),n=J4(r.text),i=Df(r.config,n.directive);return e=X4(n.text),{code:e,title:r.title,config:i}}m(ed,"preprocessDiagram");function fk(e){const t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}m(fk,"toBase64");var Z4=5e4,tz="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",ez="sandbox",rz="loose",nz="http://www.w3.org/2000/svg",iz="http://www.w3.org/1999/xlink",sz="http://www.w3.org/1999/xhtml",az="100%",oz="100%",lz="border:0;margin:0;",cz="margin:0",hz="allow-top-navigation-by-user-activation allow-popups",uz='The "iframe" tag is not supported by your browser.',fz=["foreignobject"],dz=["dominant-baseline"];function rd(e){const t=ed(e);return Ro(),BL(t.config??{}),t}m(rd,"processAndSetConfigs");async function dk(e,t){ec();try{const{code:r,config:n}=rd(e);return{diagramType:(await gk(r)).type,config:n}}catch(r){if(t?.suppressErrors)return!1;throw r}}m(dk,"parse");var bm=m((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),pz=m((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const a=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(o=>{mm(o.styles)||a.forEach(l=>{r+=bm(o.id,l,o.styles)}),mm(o.textStyles)||(r+=bm(o.id,"tspan",(o?.textStyles||[]).map(l=>l.replace("color","fill"))))})}return r},"createCssStyles"),gz=m((e,t,r,n)=>{const i=pz(e,r),s=KL(t,i,e.themeVariables);return du(M5(`${n}{${s}}`),I5)},"createUserStyles"),mz=m((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=jn(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),yz=m((e="",t)=>{const r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":oz,n=fk(`<body style="${cz}">${e}</body>`);return`<iframe style="width:${az};height:${r};${lz}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${hz}">
  ${uz}
</iframe>`},"putIntoIFrame"),wm=m((e,t,r,n,i)=>{const s=e.append("div");s.attr("id",r),n&&s.attr("style",n);const a=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns",nz);return i&&a.attr("xmlns:xlink",i),a.append("g"),e},"appendDivSvgG");function bu(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}m(bu,"sandboxedIframe");var xz=m((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()},"removeExistingElements"),bz=m(async function(e,t,r){ec();const n=rd(t);t=n.code;const i=ue();N.debug(i),t.length>(i?.maxTextSize??Z4)&&(t=tz);const s="#"+e,a="i"+e,o="#"+a,l="d"+e,c="#"+l,h=m(()=>{const R=St(d?o:c).node();R&&"remove"in R&&R.remove()},"removeTempElements");let u=St("body");const d=i.securityLevel===ez,f=i.securityLevel===rz,p=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),d){const O=bu(St(r),a);u=St(O.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=St(r);wm(u,e,l,`font-family: ${p}`,iz)}else{if(xz(document,e,l,a),d){const O=bu(St("body"),a);u=St(O.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=St("body");wm(u,e,l)}let g,x;try{g=await xu.fromText(t,{title:n.title})}catch(O){if(i.suppressErrorRendering)throw h(),O;g=await xu.fromText("error"),x=O}const y=u.select(c).node(),b=g.type,w=y.firstChild,k=w.firstChild,S=g.renderer.getClasses?.(t,g),_=gz(i,b,S,s),A=document.createElement("style");A.innerHTML=_,w.insertBefore(A,k);try{await g.renderer.draw(t,e,Wp.version,g)}catch(O){throw i.suppressErrorRendering?h():a4.draw(t,e,Wp.version),O}const B=u.select(`${c} svg`),F=g.db.getAccTitle?.(),v=g.db.getAccDescription?.();mk(b,B,F,v),u.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",sz);let L=u.select(c).node().innerHTML;if(N.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),L=mz(L,d,Xt(i.arrowMarkerAbsolute)),d){const O=u.select(c+" svg").node();L=yz(L,O)}else f||(L=Ti.sanitize(L,{ADD_TAGS:fz,ADD_ATTR:dz,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(G4(),x)throw x;return h(),{diagramType:b,svg:L,bindFunctions:g.db.bindFunctions}},"render");function pk(e={}){const t=Yt({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),LL(t),t?.theme&&t.theme in Pr?t.themeVariables=Pr[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Pr.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?EL(t):y0();tf(r.logLevel),ec()}m(pk,"initialize");var gk=m((e,t={})=>{const{code:r}=ed(e);return xu.fromText(r,t)},"getDiagramFromText");function mk(e,t,r,n){ck(t,e),hk(t,r,n,t.attr("id"))}m(mk,"addA11yInfo");var Pn=Object.freeze({render:bz,parse:dk,getDiagramFromText:gk,initialize:pk,getConfig:ue,setConfig:x0,getSiteConfig:y0,updateSiteConfig:ML,reset:m(()=>{Ro()},"reset"),globalReset:m(()=>{Ro(Ai)},"globalReset"),defaultConfig:Ai});tf(ue().logLevel);Ro(ue());var wz=m((e,t,r)=>{N.warn(e),Pf(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),yk=m(async function(e={querySelector:".mermaid"}){try{await _z(e)}catch(t){if(Pf(t)&&N.error(t.str),qr.parseError&&qr.parseError(t),!e.suppressErrors)throw N.error("Use the suppressErrors option to suppress these errors"),t}},"run"),_z=m(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=Pn.getConfig();N.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");N.debug(`Found ${i.length} diagrams`),n?.startOnLoad!==void 0&&(N.debug("Start On Load: "+n?.startOnLoad),Pn.updateSiteConfig({startOnLoad:n?.startOnLoad}));const s=new ir.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let a;const o=[];for(const l of Array.from(i)){if(N.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${s.next()}`;a=l.innerHTML,a=Dw(ir.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=ir.detectInit(a);h&&N.debug("Detected early reinit: ",h);try{const{svg:u,bindFunctions:d}=await _k(c,a,l);l.innerHTML=u,e&&await e(c),d&&d(l)}catch(u){wz(u,o,qr.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),xk=m(function(e){Pn.initialize(e)},"initialize"),kz=m(async function(e,t,r){N.warn("mermaid.init is deprecated. Please use run instead."),e&&xk(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await yk(n)},"init"),Cz=m(async(e,{lazyLoad:t=!0}={})=>{ec(),Sh(...e),t===!1&&await V4()},"registerExternalDiagrams"),bk=m(function(){if(qr.startOnLoad){const{startOnLoad:e}=Pn.getConfig();e&&qr.run().catch(t=>N.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",bk,!1);var Sz=m(function(e){qr.parseError=e},"setParseErrorHandler"),fl=[],Gc=!1,wk=m(async()=>{if(!Gc){for(Gc=!0;fl.length>0;){const e=fl.shift();if(e)try{await e()}catch(t){N.error("Error executing queue",t)}}Gc=!1}},"executeQueue"),vz=m(async(e,t)=>new Promise((r,n)=>{const i=m(()=>new Promise((s,a)=>{Pn.parse(e,t).then(o=>{s(o),r(o)},o=>{N.error("Error parsing",o),qr.parseError?.(o),a(o),n(o)})}),"performCall");fl.push(i),wk().catch(n)}),"parse"),_k=m((e,t,r)=>new Promise((n,i)=>{const s=m(()=>new Promise((a,o)=>{Pn.render(e,t,r).then(l=>{a(l),n(l)},l=>{N.error("Error parsing",l),qr.parseError?.(l),o(l),i(l)})}),"performCall");fl.push(s),wk().catch(i)}),"render"),Tz=m(()=>Object.keys(Bn).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),qr={startOnLoad:!0,mermaidAPI:Pn,parse:vz,render:_k,init:kz,run:yk,registerExternalDiagrams:Cz,registerLayoutLoaders:E_,initialize:xk,parseError:void 0,contentLoaded:bk,setParseErrorHandler:Sz,detectType:ef,registerIconPacks:XD,getRegisteredDiagramsMetadata:Tz},Az=qr;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const Ez=new DOMParser,Lz=new XMLSerializer;function _m(e,t){const r=e.getAttribute(t);if(!r)return;let n="";for(const i of r.split(/\s+/)){const s=e.getElementById(i);s&&(n+=s.textContent)}return n}let km=0;const Mz=async(e,t)=>{const r=document.createElement("div");r.ariaHidden="true",r.style.maxHeight="0",r.style.opacity="0",r.style.overflow="hidden",t?.containerStyle&&Object.assign(r.style,t.containerStyle),document.body.append(r);const n=await Promise.allSettled(e.map(async i=>{const s=`${t?.prefix??"mermaid"}-${km}`;km+=1;const{svg:a}=await Az.render(s,i,r),o=Ez.parseFromString(a,"text/html"),[l]=o.getElementsByTagName("svg"),{height:c,width:h}=l.viewBox.baseVal,u=_m(l,"aria-describedby"),d=_m(l,"aria-labelledby"),f={height:c,id:s,svg:Lz.serializeToString(l),width:h};return u&&(f.description=u),d&&(f.title=d),f}));return r.remove(),n},Bz=()=>Mz;var Xc,Cm;function Iz(){return Cm||(Cm=1,Xc={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi}),Xc}var Qc,Sm;function Rz(){if(Sm)return Qc;Sm=1;var e=Iz(),t={whitespace:/\s+/g,urlHexPairs:/%[\dA-F]{2}/g,quotes:/"/g};function r(o){return o.trim().replace(t.whitespace," ")}function n(o){return encodeURIComponent(o).replace(t.urlHexPairs,s)}function i(o){return Object.keys(e).forEach(function(l){e[l].test(o)&&(o=o.replace(e[l],l))}),o}function s(o){switch(o){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return o.toLowerCase()}}function a(o){if(typeof o!="string")throw new TypeError("Expected a string, but received "+typeof o);o.charCodeAt(0)===65279&&(o=o.slice(1));var l=i(r(o)).replace(t.quotes,"'");return"data:image/svg+xml,"+n(l)}return a.toSrcset=function(l){return a(l).replace(/ /g,"%20")},Qc=a,Qc}var $z=Rz();const vm=Ou($z),Fz=/\w/,Tm=["img-png","img-svg","inline-svg","pre-mermaid"];function Oz(e="inline-svg"){if(Tm.includes(e))return e;throw new Error(`Expected strategy to be one of ${Tm.join(", ")}, got: ${e}`)}function Pz(e,t){let r;if(e.tagName==="pre"){if(t==="pre-mermaid")return!1;r="mermaid"}else if(e.tagName==="code")r="language-mermaid";else return!1;let n=e.properties?.className;return typeof n=="string"&&(n=Ao(n)),Array.isArray(n)?n.includes(r):!1}function Am(e,t){return e.screenshot?`data:image/png;base64,${e.screenshot.toString("base64")}`:t?vm.toSrcset(e.svg):vm(e.svg)}function Dz(e){return e==="dark"?"light":"dark"}function Nz(e,t,r){let n,i;r==="dark"?(n=t||e,i=e):(n=e,i=t);const s={type:"element",tagName:"img",properties:{alt:n.description||"",height:n.height,id:n.id,src:Am(n),title:n.title,width:n.width},children:[]};return t?{type:"element",tagName:"picture",properties:{},children:[{type:"element",tagName:"source",properties:{height:i.height,id:i.id,media:`(prefers-color-scheme: ${Dz(r)})`,srcset:Am(i,!0),width:i.width},children:[]},s]}:s}function Em(e,t,r,n){const{ancestors:i,diagram:s}=t;if(n?.errorFallback)return n.errorFallback(i.at(-1),s,e,r);const a=r.message(e,{ruleId:"rehype-mermaid",source:"rehype-mermaid",ancestors:i});throw a.fatal=!0,a.url="https://github.com/remcohaszing/rehype-mermaid",a}function zz(e){if(typeof e.properties.content!="string")return;const t=Ao(e.properties.content);for(const r of t)if(r==="light"||r==="dark")return r}const qz=e=>{const t=Oz(e?.strategy),r=Bz();let n=e?.colorScheme;return(i,s)=>{const a=[];if(Qu(i,"element",(l,c)=>{if(!n&&l.tagName==="meta"&&l.properties.name==="color-scheme"&&(n=zz(l)),!Pz(l,t))return;const h=c.at(-1);let u=c;if(h.type==="element"&&h.tagName==="pre"){for(const d of h.children)if(d.type==="text"){if(Fz.test(d.value))return}else if(d!==l)return}else u=[...u,l];a.push({diagram:IE(l,{whitespace:"pre"}),ancestors:u})}),!a.length)return;if(t==="pre-mermaid"){for(const{ancestors:l,diagram:c}of a){const h=l.at(-2),u=l.at(-1);h.children[h.children.indexOf(u)]={type:"element",tagName:"pre",properties:{className:["mermaid"]},children:[{type:"text",value:c}]}}return}const o=[r(a.map(l=>l.diagram),{...e,screenshot:t==="img-png"})];return e?.dark&&o.push(r(a.map(l=>l.diagram),{...e,screenshot:t==="img-png",mermaidConfig:e.dark===!0?{theme:"dark"}:e.dark,prefix:`${e.prefix||"mermaid"}-dark`})),Promise.all(o).then(([l,c])=>{for(const[h,u]of a.entries()){const d=l[h],f=c?.[h];let p;d.status==="rejected"?p=Em(d.reason,u,s,e):f?.status==="rejected"?p=Em(f.reason,u,s,e):t==="inline-svg"?p=SE(d.value.svg).children[0]:p=Nz(d.value,f?.value,n);const{ancestors:g}=u,x=g.at(-1),y=g.at(-2),b=y.children.indexOf(x);p?y.children[b]=p:y.children.splice(b,1)}})}};function Wz(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function kk(e,t,r){const i=la((r||{}).ignore||[]),s=Hz(t);let a=-1;for(;++a<s.length;)Qu(e,"text",o);function o(c,h){let u=-1,d;for(;++u<h.length;){const f=h[u],p=d?d.children:void 0;if(i(f,p?p.indexOf(f):void 0,d))return;d=f}if(d)return l(c,h)}function l(c,h){const u=h[h.length-1],d=s[a][0],f=s[a][1];let p=0;const x=u.children.indexOf(c);let y=!1,b=[];d.lastIndex=0;let w=d.exec(c.value);for(;w;){const k=w.index,S={index:w.index,input:w.input,stack:[...h,c]};let _=f(...w,S);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?d.lastIndex=k+1:(p!==k&&b.push({type:"text",value:c.value.slice(p,k)}),Array.isArray(_)?b.push(..._):_&&b.push(_),p=k+w[0].length,y=!0),!d.global)break;w=d.exec(c.value)}return y?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),u.children.splice(x,1,...b)):b=[c],x+b.length}}function Hz(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([jz(i[0]),Uz(i[1])])}return t}function jz(e){return typeof e=="string"?new RegExp(Wz(e),"g"):e}function Uz(e){return typeof e=="function"?e:function(){return e}}function Vz(e){kk(e,[/\r?\n|\r/g,Yz])}function Yz(){return{type:"break"}}function Gz(){return function(e){Vz(e)}}function Lm(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}const Kc="phrasing",Jc=["autolink","link","image","label"];function Xz(){return{transforms:[r6],enter:{literalAutolink:Kz,literalAutolinkEmail:Zc,literalAutolinkHttp:Zc,literalAutolinkWww:Zc},exit:{literalAutolink:e6,literalAutolinkEmail:t6,literalAutolinkHttp:Jz,literalAutolinkWww:Zz}}}function Qz(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Kc,notInConstruct:Jc},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Kc,notInConstruct:Jc},{character:":",before:"[ps]",after:"\\/",inConstruct:Kc,notInConstruct:Jc}]}}function Kz(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Zc(e){this.config.enter.autolinkProtocol.call(this,e)}function Jz(e){this.config.exit.autolinkProtocol.call(this,e)}function Zz(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function t6(e){this.config.exit.autolinkEmail.call(this,e)}function e6(e){this.exit(e)}function r6(e){kk(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,n6],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),i6]],{ignore:["link","linkReference"]})}function n6(e,t,r,n,i){let s="";if(!Ck(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!s6(r)))return!1;const a=a6(r+n);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function i6(e,t,r,n){return!Ck(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function s6(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function a6(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=Lm(e,"(");let s=Lm(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}function Ck(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Mn(r)||vl(r))&&(!t||r!==47)}Sk.peek=g6;function o6(){this.buffer()}function l6(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function c6(){this.buffer()}function h6(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function u6(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=sr(this.sliceSerialize(e)).toLowerCase(),r.label=t}function f6(e){this.exit(e)}function d6(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=sr(this.sliceSerialize(e)).toLowerCase(),r.label=t}function p6(e){this.exit(e)}function g6(){return"["}function Sk(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const a=r.enter("footnoteReference"),o=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function m6(){return{enter:{gfmFootnoteCallString:o6,gfmFootnoteCall:l6,gfmFootnoteDefinitionLabelString:c6,gfmFootnoteDefinition:h6},exit:{gfmFootnoteCallString:u6,gfmFootnoteCall:f6,gfmFootnoteDefinitionLabelString:d6,gfmFootnoteDefinition:p6}}}function y6(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:Sk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,a){const o=s.createTracker(a);let l=o.move("[^");const c=s.enter("footnoteDefinition"),h=s.enter("label");return l+=o.move(s.safe(s.associationId(n),{before:l,after:"]"})),h(),l+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,o.current()),t?vk:x6))),c(),l}}function x6(e,t,r){return t===0?e:vk(e,t,r)}function vk(e,t,r){return(r?"":"    ")+e}const b6=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Tk.peek=S6;function w6(){return{canContainEols:["delete"],enter:{strikethrough:k6},exit:{strikethrough:C6}}}function _6(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:b6}],handlers:{delete:Tk}}}function k6(e){this.enter({type:"delete",children:[]},e)}function C6(e){this.exit(e)}function Tk(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function S6(){return"~"}function v6(e){return e.length}function T6(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||v6,s=[],a=[],o=[],l=[];let c=0,h=-1;for(;++h<e.length;){const g=[],x=[];let y=-1;for(e[h].length>c&&(c=e[h].length);++y<e[h].length;){const b=A6(e[h][y]);if(r.alignDelimiters!==!1){const w=i(b);x[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}g.push(b)}a[h]=g,o[h]=x}let u=-1;if(typeof n=="object"&&"length"in n)for(;++u<c;)s[u]=Mm(n[u]);else{const g=Mm(n);for(;++u<c;)s[u]=g}u=-1;const d=[],f=[];for(;++u<c;){const g=s[u];let x="",y="";g===99?(x=":",y=":"):g===108?x=":":g===114&&(y=":");let b=r.alignDelimiters===!1?1:Math.max(1,l[u]-x.length-y.length);const w=x+"-".repeat(b)+y;r.alignDelimiters!==!1&&(b=x.length+b+y.length,b>l[u]&&(l[u]=b),f[u]=b),d[u]=w}a.splice(1,0,d),o.splice(1,0,f),h=-1;const p=[];for(;++h<a.length;){const g=a[h],x=o[h];u=-1;const y=[];for(;++u<c;){const b=g[u]||"";let w="",k="";if(r.alignDelimiters!==!1){const S=l[u]-(x[u]||0),_=s[u];_===114?w=" ".repeat(S):_===99?S%2?(w=" ".repeat(S/2+.5),k=" ".repeat(S/2-.5)):(w=" ".repeat(S/2),k=w):k=" ".repeat(S)}r.delimiterStart!==!1&&!u&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&b==="")&&(r.delimiterStart!==!1||u)&&y.push(" "),r.alignDelimiters!==!1&&y.push(w),y.push(b),r.alignDelimiters!==!1&&y.push(k),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||u!==c-1)&&y.push("|")}p.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function A6(e){return e==null?"":String(e)}function Mm(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function E6(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const a=r.indentLines(r.containerFlow(e,s.current()),L6);return i(),a}function L6(e,t,r){return">"+(r?"":" ")+e}function M6(e,t){return Bm(e,t.inConstruct,!0)&&!Bm(e,t.notInConstruct,!1)}function Bm(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function Im(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&M6(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function B6(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+t.length,n=r.indexOf(t,i);return a}function I6(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function R6(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function $6(e,t,r,n){const i=R6(r),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(I6(e,r)){const u=r.enter("codeIndented"),d=r.indentLines(s,F6);return u(),d}const o=r.createTracker(n),l=i.repeat(Math.max(B6(s,i)+1,3)),c=r.enter("codeFenced");let h=o.move(l);if(e.lang){const u=r.enter(`codeFencedLang${a}`);h+=o.move(r.safe(e.lang,{before:h,after:" ",encode:["`"],...o.current()})),u()}if(e.lang&&e.meta){const u=r.enter(`codeFencedMeta${a}`);h+=o.move(" "),h+=o.move(r.safe(e.meta,{before:h,after:`
`,encode:["`"],...o.current()})),u()}return h+=o.move(`
`),s&&(h+=o.move(s+`
`)),h+=o.move(l),c(),h}function F6(e,t,r){return(r?"":"    ")+e}function nd(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function O6(e,t,r,n){const i=nd(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let o=r.enter("label");const l=r.createTracker(n);let c=l.move("[");return c+=l.move(r.safe(r.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=r.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),a(),c}function P6(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function na(e){return"&#x"+e.toString(16).toUpperCase()+";"}function dl(e,t,r){const n=vi(e),i=vi(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ak.peek=D6;function Ak(e,t,r,n){const i=P6(r),s=r.enter("emphasis"),a=r.createTracker(n),o=a.move(i);let l=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const c=l.charCodeAt(0),h=dl(n.before.charCodeAt(n.before.length-1),c,i);h.inside&&(l=na(c)+l.slice(1));const u=l.charCodeAt(l.length-1),d=dl(n.after.charCodeAt(0),u,i);d.inside&&(l=l.slice(0,-1)+na(u));const f=a.move(i);return s(),r.attentionEncodeSurroundingInfo={after:d.outside,before:h.outside},o+l+f}function D6(e,t,r){return r.options.emphasis||"*"}function N6(e,t){let r=!1;return Ku(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,mh}),!!((!e.depth||e.depth<3)&&Hu(e)&&(t.options.setext||r))}function z6(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(N6(e,r)){const h=r.enter("headingSetext"),u=r.enter("phrasing"),d=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return u(),h(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=r.enter("headingAtx"),l=r.enter("phrasing");s.move(a+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=na(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,r.options.closeAtx&&(c+=" "+a),l(),o(),c}Ek.peek=q6;function Ek(e){return e.value||""}function q6(){return"<"}Lk.peek=W6;function Lk(e,t,r,n){const i=nd(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let o=r.enter("label");const l=r.createTracker(n);let c=l.move("![");return c+=l.move(r.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=r.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),a(),c}function W6(){return"!"}Mk.peek=H6;function Mk(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let a=r.enter("label");const o=r.createTracker(n);let l=o.move("![");const c=r.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const u=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return a(),r.stack=h,s(),i==="full"||!c||c!==u?l+=o.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function H6(){return"!"}Bk.peek=j6;function Bk(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const a=r.unsafe[s],o=r.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(n);){let c=l.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(l.index+1)}}return i+n+i}function j6(){return"`"}function Ik(e,t){const r=Hu(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Rk.peek=U6;function Rk(e,t,r,n){const i=nd(r),s=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let o,l;if(Ik(e,r)){const h=r.stack;r.stack=[],o=r.enter("autolink");let u=a.move("<");return u+=a.move(r.containerPhrasing(e,{before:u,after:">",...a.current()})),u+=a.move(">"),o(),r.stack=h,u}o=r.enter("link"),l=r.enter("label");let c=a.move("[");return c+=a.move(r.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(r.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=r.enter("destinationRaw"),c+=a.move(r.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=r.enter(`title${s}`),c+=a.move(" "+i),c+=a.move(r.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),o(),c}function U6(e,t,r){return Ik(e,r)?"<":"["}$k.peek=V6;function $k(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let a=r.enter("label");const o=r.createTracker(n);let l=o.move("[");const c=r.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const u=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return a(),r.stack=h,s(),i==="full"||!c||c!==u?l+=o.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function V6(){return"["}function id(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Y6(e){const t=id(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function G6(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Fk(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function X6(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let a=e.ordered?G6(r):id(r);const o=e.ordered?a==="."?")":".":Y6(r);let l=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),Fk(r)===a&&h){let u=-1;for(;++u<e.children.length;){const d=e.children[u];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),r.bulletCurrent=a;const c=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=s,i(),c}function Q6(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function K6(e,t,r,n){const i=Q6(r);let s=r.bulletCurrent||id(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=r.createTracker(n);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,o.current()),h);return l(),c;function h(u,d,f){return d?(f?"":" ".repeat(a))+u:(f?s:s+" ".repeat(a-s.length))+u}}function J6(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),a=r.containerPhrasing(e,n);return s(),i(),a}const Z6=la(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function t8(e,t,r,n){return(e.children.some(function(a){return Z6(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function e8(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Ok.peek=r8;function Ok(e,t,r,n){const i=e8(r),s=r.enter("strong"),a=r.createTracker(n),o=a.move(i+i);let l=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const c=l.charCodeAt(0),h=dl(n.before.charCodeAt(n.before.length-1),c,i);h.inside&&(l=na(c)+l.slice(1));const u=l.charCodeAt(l.length-1),d=dl(n.after.charCodeAt(0),u,i);d.inside&&(l=l.slice(0,-1)+na(u));const f=a.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:d.outside,before:h.outside},o+l+f}function r8(e,t,r){return r.options.strong||"*"}function n8(e,t,r,n){return r.safe(e.value,n)}function i8(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function s8(e,t,r){const n=(Fk(r)+(r.options.ruleSpaces?" ":"")).repeat(i8(r));return r.options.ruleSpaces?n.slice(0,-1):n}const Pk={blockquote:E6,break:Im,code:$6,definition:O6,emphasis:Ak,hardBreak:Im,heading:z6,html:Ek,image:Lk,imageReference:Mk,inlineCode:Bk,link:Rk,linkReference:$k,list:X6,listItem:K6,paragraph:J6,root:t8,strong:Ok,text:n8,thematicBreak:s8};function a8(){return{enter:{table:o8,tableData:Rm,tableHeader:Rm,tableRow:c8},exit:{codeText:h8,table:l8,tableData:th,tableHeader:th,tableRow:th}}}function o8(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function l8(e){this.exit(e),this.data.inTable=void 0}function c8(e){this.enter({type:"tableRow",children:[]},e)}function th(e){this.exit(e)}function Rm(e){this.enter({type:"tableCell",children:[]},e)}function h8(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,u8));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function u8(e,t){return t==="|"?t:e}function f8(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:a,tableCell:l,tableRow:o}};function a(f,p,g,x){return c(h(f,g,x),f.align)}function o(f,p,g,x){const y=u(f,g,x),b=c([y]);return b.slice(0,b.indexOf(`
`))}function l(f,p,g,x){const y=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(f,{...x,before:s,after:s});return b(),y(),w}function c(f,p){return T6(f,{align:p,alignDelimiters:n,padding:r,stringLength:i})}function h(f,p,g){const x=f.children;let y=-1;const b=[],w=p.enter("table");for(;++y<x.length;)b[y]=u(x[y],p,g);return w(),b}function u(f,p,g){const x=f.children;let y=-1;const b=[],w=p.enter("tableRow");for(;++y<x.length;)b[y]=l(x[y],f,p,g);return w(),b}function d(f,p,g){let x=Pk.inlineCode(f,p,g);return g.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function d8(){return{exit:{taskListCheckValueChecked:$m,taskListCheckValueUnchecked:$m,paragraph:g8}}}function p8(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:m8}}}function $m(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function g8(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function m8(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);s&&o.move(a);let l=Pk.listItem(e,t,r,{...n,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(h){return h+a}}function y8(){return[Xz(),m6(),w6(),a8(),d8()]}function x8(e){return{extensions:[Qz(),y6(e),_6(),f8(e),p8()]}}const b8={tokenize:v8,partial:!0},Dk={tokenize:T8,partial:!0},Nk={tokenize:A8,partial:!0},zk={tokenize:E8,partial:!0},w8={tokenize:L8,partial:!0},qk={name:"wwwAutolink",tokenize:C8,previous:Hk},Wk={name:"protocolAutolink",tokenize:S8,previous:jk},Hr={name:"emailAutolink",tokenize:k8,previous:Uk},Cr={};function _8(){return{text:Cr}}let gn=48;for(;gn<123;)Cr[gn]=Hr,gn++,gn===58?gn=65:gn===91&&(gn=97);Cr[43]=Hr;Cr[45]=Hr;Cr[46]=Hr;Cr[95]=Hr;Cr[72]=[Hr,Wk];Cr[104]=[Hr,Wk];Cr[87]=[Hr,qk];Cr[119]=[Hr,qk];function k8(e,t,r){const n=this;let i,s;return a;function a(u){return!wu(u)||!Uk.call(n,n.previous)||sd(n.events)?r(u):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(u))}function o(u){return wu(u)?(e.consume(u),o):u===64?(e.consume(u),l):r(u)}function l(u){return u===46?e.check(w8,h,c)(u):u===45||u===95||he(u)?(s=!0,e.consume(u),l):h(u)}function c(u){return e.consume(u),i=!0,l}function h(u){return s&&i&&be(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(u)):r(u)}}function C8(e,t,r){const n=this;return i;function i(a){return a!==87&&a!==119||!Hk.call(n,n.previous)||sd(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(b8,e.attempt(Dk,e.attempt(Nk,s),r),r)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function S8(e,t,r){const n=this;let i="",s=!1;return a;function a(u){return(u===72||u===104)&&jk.call(n,n.previous)&&!sd(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(u),e.consume(u),o):r(u)}function o(u){if(be(u)&&i.length<5)return i+=String.fromCodePoint(u),e.consume(u),o;if(u===58){const d=i.toLowerCase();if(d==="http"||d==="https")return e.consume(u),l}return r(u)}function l(u){return u===47?(e.consume(u),s?c:(s=!0,l)):r(u)}function c(u){return u===null||Eo(u)||$t(u)||Mn(u)||vl(u)?r(u):e.attempt(Dk,e.attempt(Nk,h),r)(u)}function h(u){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(u)}}function v8(e,t,r){let n=0;return i;function i(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),i):a===46&&n===3?(e.consume(a),s):r(a)}function s(a){return a===null?r(a):t(a)}}function T8(e,t,r){let n,i,s;return a;function a(c){return c===46||c===95?e.check(zk,l,o)(c):c===null||$t(c)||Mn(c)||c!==45&&vl(c)?l(c):(s=!0,e.consume(c),a)}function o(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),a}function l(c){return i||n||!s?r(c):t(c)}}function A8(e,t){let r=0,n=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&n<r?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(zk,t,s)(a):a===null||$t(a)||Mn(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&n++,e.consume(a),i}}function E8(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||$t(o)||Mn(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||$t(o)||Mn(o)?t(o):n(o)}function s(o){return be(o)?a(o):r(o)}function a(o){return o===59?(e.consume(o),n):be(o)?(e.consume(o),a):r(o)}}function L8(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return he(s)?r(s):t(s)}}function Hk(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||$t(e)}function jk(e){return!be(e)}function Uk(e){return!(e===47||wu(e))}function wu(e){return e===43||e===45||e===46||e===95||he(e)}function sd(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const M8={tokenize:D8,partial:!0};function B8(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:F8,continuation:{tokenize:O8},exit:P8}},text:{91:{name:"gfmFootnoteCall",tokenize:$8},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:I8,resolveTo:R8}}}}function I8(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return r(l);const c=sr(n.sliceSerialize({start:a.end,end:n.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function R8(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function $8(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,a;return o;function o(u){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),l}function l(u){return u!==94?r(u):(e.enter("gfmFootnoteCallMarker"),e.consume(u),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(u){if(s>999||u===93&&!a||u===null||u===91||$t(u))return r(u);if(u===93){e.exit("chunkString");const d=e.exit("gfmFootnoteCallString");return i.includes(sr(n.sliceSerialize(d)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(u)}return $t(u)||(a=!0),s++,e.consume(u),u===92?h:c}function h(u){return u===91||u===92||u===93?(e.consume(u),s++,c):c(u)}}function F8(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):r(p)}function h(p){if(a>999||p===93&&!o||p===null||p===91||$t(p))return r(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return s=sr(n.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return $t(p)||(o=!0),a++,e.consume(p),p===92?u:h}function u(p){return p===91||p===92||p===93?(e.consume(p),a++,h):h(p)}function d(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),vt(e,f,"gfmFootnoteDefinitionWhitespace")):r(p)}function f(p){return t(p)}}function O8(e,t,r){return e.check(oa,t,e.attempt(M8,t,r))}function P8(e){e.exit("gfmFootnoteDefinition")}function D8(e,t,r){const n=this;return vt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):r(s)}}function N8(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},u={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},d=[["enter",h,o],["enter",a[c][1],o],["exit",a[c][1],o],["enter",u,o]],f=o.parser.constructs.insideSpan.null;f&&We(d,d.length,0,Tl(f,a.slice(c+1,l),o)),We(d,d.length,0,[["exit",u,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",h,o]]),We(a,c-1,l-c+3,d),l=c+d.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const c=this.previous,h=this.events;let u=0;return d;function d(p){return c===126&&h[h.length-1][1].type!=="characterEscape"?l(p):(a.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const g=vi(c);if(p===126)return u>1?l(p):(a.consume(p),u++,f);if(u<2&&!r)return l(p);const x=a.exit("strikethroughSequenceTemporary"),y=vi(p);return x._open=!y||y===2&&!!g,x._close=!g||g===2&&!!y,o(p)}}}class z8{constructor(){this.map=[]}add(t,r,n){q8(this,t,r,n)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function q8(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function W8(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function H8(){return{flow:{null:{name:"table",tokenize:j8,resolveAll:U8}}}}function j8(e,t,r){const n=this;let i=0,s=0,a;return o;function o(v){let L=n.events.length-1;for(;L>-1;){const I=n.events[L][1].type;if(I==="lineEnding"||I==="linePrefix")L--;else break}const O=L>-1?n.events[L][1].type:null,R=O==="tableHead"||O==="tableRow"?_:l;return R===_&&n.parser.lazy[n.now().line]?r(v):R(v)}function l(v){return e.enter("tableHead"),e.enter("tableRow"),c(v)}function c(v){return v===124||(a=!0,s+=1),h(v)}function h(v){return v===null?r(v):ot(v)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),f):r(v):kt(v)?vt(e,h,"whitespace")(v):(s+=1,a&&(a=!1,i+=1),v===124?(e.enter("tableCellDivider"),e.consume(v),e.exit("tableCellDivider"),a=!0,h):(e.enter("data"),u(v)))}function u(v){return v===null||v===124||$t(v)?(e.exit("data"),h(v)):(e.consume(v),v===92?d:u)}function d(v){return v===92||v===124?(e.consume(v),u):u(v)}function f(v){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(v):(e.enter("tableDelimiterRow"),a=!1,kt(v)?vt(e,p,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):p(v))}function p(v){return v===45||v===58?x(v):v===124?(a=!0,e.enter("tableCellDivider"),e.consume(v),e.exit("tableCellDivider"),g):S(v)}function g(v){return kt(v)?vt(e,x,"whitespace")(v):x(v)}function x(v){return v===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(v),e.exit("tableDelimiterMarker"),y):v===45?(s+=1,y(v)):v===null||ot(v)?k(v):S(v)}function y(v){return v===45?(e.enter("tableDelimiterFiller"),b(v)):S(v)}function b(v){return v===45?(e.consume(v),b):v===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(v),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(v))}function w(v){return kt(v)?vt(e,k,"whitespace")(v):k(v)}function k(v){return v===124?p(v):v===null||ot(v)?!a||i!==s?S(v):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(v)):S(v)}function S(v){return r(v)}function _(v){return e.enter("tableRow"),A(v)}function A(v){return v===124?(e.enter("tableCellDivider"),e.consume(v),e.exit("tableCellDivider"),A):v===null||ot(v)?(e.exit("tableRow"),t(v)):kt(v)?vt(e,A,"whitespace")(v):(e.enter("data"),B(v))}function B(v){return v===null||v===124||$t(v)?(e.exit("data"),A(v)):(e.consume(v),v===92?F:B)}function F(v){return v===92||v===124?(e.consume(v),B):B(v)}}function U8(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,c,h,u;const d=new z8;for(;++r<e.length;){const f=e[r],p=f[1];f[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(Fm(d,t,l,c,h),h=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(r,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(n=!0,u=void 0,s=[0,0,0,0],a=[0,r+1,0,0],o&&(o=!1,h={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(r,0,[["enter",h,t]])),i=p.type==="tableDelimiterRow"?2:h?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],u=Va(d,t,s,i,void 0,u),s=[0,0,0,0]),a[2]=r)):p.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(a[0]=a[1],u=Va(d,t,s,i,void 0,u)),s=a,a=[s[1],r,0,0])):p.type==="tableHead"?(o=!0,l=r):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=r,s[1]!==0?(a[0]=a[1],u=Va(d,t,s,i,r,u)):a[1]!==0&&(u=Va(d,t,a,i,r,u)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(a[3]=r)}for(l!==0&&Fm(d,t,l,c,h),d.consume(t.events),r=-1;++r<t.events.length;){const f=t.events[r];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=W8(t.events,r))}return e}function Va(e,t,r,n,i,s){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(s.end=Object.assign({},oi(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const l=oi(t.events,r[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const c=oi(t.events,r[2]),h=oi(t.events,r[3]),u={type:o,start:Object.assign({},c),end:Object.assign({},h)};if(e.add(r[2],0,[["enter",u,t]]),n!==2){const d=t.events[r[2]],f=t.events[r[3]];if(d[1].end=Object.assign({},f[1].end),d[1].type="chunkText",d[1].contentType="text",r[3]>r[2]+1){const p=r[2]+1,g=r[3]-r[2]-1;e.add(p,g,[])}}e.add(r[3]+1,0,[["exit",u,t]])}return i!==void 0&&(s.end=Object.assign({},oi(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function Fm(e,t,r,n,i){const s=[],a=oi(t.events,r);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),n.end=Object.assign({},a),s.push(["exit",n,t]),e.add(r+1,0,s)}function oi(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const V8={name:"tasklistCheck",tokenize:G8};function Y8(){return{text:{91:V8}}}function G8(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return $t(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):r(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(l)}function o(l){return ot(l)?t(l):kt(l)?e.check({tokenize:X8},t,r)(l):r(l)}}function X8(e,t,r){return vt(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function Q8(e){return My([_8(),B8(),N8(e),H8(),Y8()])}const K8={};function J8(e){const t=this,r=e||K8,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Q8(r)),s.push(y8()),a.push(x8(r))}const Z8="_prompt_10g5h_1",t9="_answer_10g5h_17",e9="_lite_10g5h_137",_u={prompt:Z8,answer:t9,lite:e9};function Vk({lite:e=!1,content:t}){return t.trim()===""?wt.jsxs(wt.Fragment,{children:[wt.jsx("br",{}),wt.jsx(uy,{mood:"negative",children:wt.jsx(Cl.Bold,{children:"No active stream"})})]}):wt.jsx(fy,{flexDirection:"column",className:L2(_u.answer,e&&_u.lite),children:wt.jsx(sE,{children:t,remarkPlugins:[J8,Gz],rehypePlugins:[qz],components:{br:({children:r})=>r,a:({...r})=>{if(!r?.href?.startsWith("#cita"))return wt.jsx("a",{href:r.href,rel:"no-follower no-referer",target:"_blank",...r})}}})})}function r9({show:e=!1,error:t}){return e?wt.jsx(uy,{mood:"negative",children:wt.jsxs(Cl.Bold,{children:["Stream ",t]})}):null}function ut(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}function $(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}let Yk=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return Yk=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function ku(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Cu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class it extends Error{}class ae extends it{constructor(t,r,n,i){super(`${ae.makeMessage(t,r,n)}`),this.status=t,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=r;const s=r;this.code=s?.code,this.param=s?.param,this.type=s?.type}static makeMessage(t,r,n){const i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,n,i){if(!t||!i)return new rc({message:n,cause:Cu(r)});const s=r?.error;return t===400?new Gk(t,s,n,i):t===401?new Xk(t,s,n,i):t===403?new Qk(t,s,n,i):t===404?new Kk(t,s,n,i):t===409?new Jk(t,s,n,i):t===422?new Zk(t,s,n,i):t===429?new tC(t,s,n,i):t>=500?new eC(t,s,n,i):new ae(t,s,n,i)}}class Ge extends ae{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class rc extends ae{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class ad extends rc{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Gk extends ae{}class Xk extends ae{}class Qk extends ae{}class Kk extends ae{}class Jk extends ae{}class Zk extends ae{}class tC extends ae{}class eC extends ae{}class rC extends it{constructor(){super("Could not parse response content as the length limit was reached")}}class nC extends it{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class bs extends Error{constructor(t){super(t)}}const n9=/^[a-z][a-z0-9+.-]*:/i,i9=e=>n9.test(e);let Be=e=>(Be=Array.isArray,Be(e)),Om=Be;function iC(e){return typeof e!="object"?{}:e??{}}function s9(e){if(!e)return!0;for(const t in e)return!1;return!0}function a9(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eh(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const o9=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new it(`${e} must be an integer`);if(t<0)throw new it(`${e} must be a positive integer`);return t},l9=e=>{try{return JSON.parse(e)}catch{return}},wa=e=>new Promise(t=>setTimeout(t,e)),li="6.0.0",c9=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function h9(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const u9=()=>{const e=h9();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":li,"X-Stainless-OS":Dm(Deno.build.os),"X-Stainless-Arch":Pm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":li,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":li,"X-Stainless-OS":Dm(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Pm(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=f9();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":li,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":li,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function f9(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,a=n[3]||0;return{browser:t,version:`${i}.${s}.${a}`}}}return null}const Pm=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Dm=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Nm;const d9=()=>Nm??(Nm=u9());function p9(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function sC(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function aC(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return sC({start(){},async pull(r){const{done:n,value:i}=await t.next();n?r.close():r.enqueue(i)},async cancel(){await t.return?.()}})}function oC(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function g9(e){if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await e[Symbol.asyncIterator]().return?.();return}const t=e.getReader(),r=t.cancel();t.releaseLock(),await r}const m9=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),lC="RFC3986",cC=e=>String(e),zm={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:cC},y9="RFC1738";let Su=(e,t)=>(Su=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Su(e,t));const fr=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),rh=1024,x9=(e,t,r,n,i)=>{if(e.length===0)return e;let s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<s.length;o+=rh){const l=s.length>=rh?s.slice(o,o+rh):s,c=[];for(let h=0;h<l.length;++h){let u=l.charCodeAt(h);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===y9&&(u===40||u===41)){c[c.length]=l.charAt(h);continue}if(u<128){c[c.length]=fr[u];continue}if(u<2048){c[c.length]=fr[192|u>>6]+fr[128|u&63];continue}if(u<55296||u>=57344){c[c.length]=fr[224|u>>12]+fr[128|u>>6&63]+fr[128|u&63];continue}h+=1,u=65536+((u&1023)<<10|l.charCodeAt(h)&1023),c[c.length]=fr[240|u>>18]+fr[128|u>>12&63]+fr[128|u>>6&63]+fr[128|u&63]}a+=c.join("")}return a};function b9(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function qm(e,t){if(Be(e)){const r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}const hC={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},uC=function(e,t){Array.prototype.push.apply(e,Be(t)?t:[t])};let Wm;const Vt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:x9,encodeValuesOnly:!1,format:lC,formatter:cC,indices:!1,serializeDate(e){return(Wm??(Wm=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function w9(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const nh={};function fC(e,t,r,n,i,s,a,o,l,c,h,u,d,f,p,g,x,y){let b=e,w=y,k=0,S=!1;for(;(w=w.get(nh))!==void 0&&!S;){const v=w.get(e);if(k+=1,typeof v<"u"){if(v===k)throw new RangeError("Cyclic object value");S=!0}typeof w.get(nh)>"u"&&(k=0)}if(typeof c=="function"?b=c(t,b):b instanceof Date?b=d?.(b):r==="comma"&&Be(b)&&(b=qm(b,function(v){return v instanceof Date?d?.(v):v})),b===null){if(s)return l&&!g?l(t,Vt.encoder,x,"key",f):t;b=""}if(w9(b)||b9(b)){if(l){const v=g?t:l(t,Vt.encoder,x,"key",f);return[p?.(v)+"="+p?.(l(b,Vt.encoder,x,"value",f))]}return[p?.(t)+"="+p?.(String(b))]}const _=[];if(typeof b>"u")return _;let A;if(r==="comma"&&Be(b))g&&l&&(b=qm(b,l)),A=[{value:b.length>0?b.join(",")||null:void 0}];else if(Be(c))A=c;else{const v=Object.keys(b);A=h?v.sort(h):v}const B=o?String(t).replace(/\./g,"%2E"):String(t),F=n&&Be(b)&&b.length===1?B+"[]":B;if(i&&Be(b)&&b.length===0)return F+"[]";for(let v=0;v<A.length;++v){const L=A[v],O=typeof L=="object"&&typeof L.value<"u"?L.value:b[L];if(a&&O===null)continue;const R=u&&o?L.replace(/\./g,"%2E"):L,I=Be(b)?typeof r=="function"?r(F,R):F:F+(u?"."+R:"["+R+"]");y.set(e,k);const D=new WeakMap;D.set(nh,y),uC(_,fC(O,I,r,n,i,s,a,o,r==="comma"&&g&&Be(b)?null:l,c,h,u,d,f,p,g,x,D))}return _}function _9(e=Vt){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Vt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=lC;if(typeof e.format<"u"){if(!Su(zm,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const n=zm[r];let i=Vt.filter;(typeof e.filter=="function"||Be(e.filter))&&(i=e.filter);let s;if(e.arrayFormat&&e.arrayFormat in hC?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Vt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Vt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Vt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Vt.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Vt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Vt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Vt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Vt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Vt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Vt.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Vt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Vt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Vt.strictNullHandling}}function k9(e,t={}){let r=e;const n=_9(t);let i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Be(n.filter)&&(s=n.filter,i=s);const a=[];if(typeof r!="object"||r===null)return"";const o=hC[n.arrayFormat],l=o==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);const c=new WeakMap;for(let d=0;d<i.length;++d){const f=i[d];n.skipNulls&&r[f]===null||uC(a,fC(r[f],f,o,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}const h=a.join(n.delimiter);let u=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),h.length>0?u+h:""}function C9(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}let Hm;function od(e){let t;return(Hm??(t=new globalThis.TextEncoder,Hm=t.encode.bind(t)))(e)}let jm;function Um(e){let t;return(jm??(t=new globalThis.TextDecoder,jm=t.decode.bind(t)))(e)}var Ne,ze;class nc{constructor(){Ne.set(this,void 0),ze.set(this,void 0),ut(this,Ne,new Uint8Array),ut(this,ze,null)}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?od(t):t;ut(this,Ne,C9([$(this,Ne,"f"),r]));const n=[];let i;for(;(i=S9($(this,Ne,"f"),$(this,ze,"f")))!=null;){if(i.carriage&&$(this,ze,"f")==null){ut(this,ze,i.index);continue}if($(this,ze,"f")!=null&&(i.index!==$(this,ze,"f")+1||i.carriage)){n.push(Um($(this,Ne,"f").subarray(0,$(this,ze,"f")-1))),ut(this,Ne,$(this,Ne,"f").subarray($(this,ze,"f"))),ut(this,ze,null);continue}const s=$(this,ze,"f")!==null?i.preceding-1:i.preceding,a=Um($(this,Ne,"f").subarray(0,s));n.push(a),ut(this,Ne,$(this,Ne,"f").subarray(i.index)),ut(this,ze,null)}return n}flush(){return $(this,Ne,"f").length?this.decode(`
`):[]}}Ne=new WeakMap,ze=new WeakMap;nc.NEWLINE_CHARS=new Set([`
`,"\r"]);nc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function S9(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function v9(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}const pl={off:0,error:200,warn:300,info:400,debug:500},Vm=(e,t,r)=>{if(e){if(a9(pl,e))return e;ie(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(pl))}`)}};function ws(){}function Ya(e,t,r){return!t||pl[e]>pl[r]?ws:t[e].bind(t)}const T9={error:ws,warn:ws,info:ws,debug:ws};let Ym=new WeakMap;function ie(e){const t=e.logger,r=e.logLevel??"off";if(!t)return T9;const n=Ym.get(t);if(n&&n[0]===r)return n[1];const i={error:Ya("error",t,r),warn:Ya("warn",t,r),info:Ya("info",t,r),debug:Ya("debug",t,r)};return Ym.set(t,[r,i]),i}const bn=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var cs;let ia=class _s{constructor(t,r,n){this.iterator=t,cs.set(this,void 0),this.controller=r,ut(this,cs,n)}static fromSSEResponse(t,r,n){let i=!1;const s=n?ie(n):console;async function*a(){if(i)throw new it("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const l of A9(t,r))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let c;try{c=JSON.parse(l.data)}catch(h){throw s.error("Could not parse message into JSON:",l.data),s.error("From chunk:",l.raw),h}if(c&&c.error)throw new ae(void 0,c.error,void 0,t.headers);yield c}else{let c;try{c=JSON.parse(l.data)}catch(h){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),h}if(l.event=="error")throw new ae(void 0,c.error,c.message,void 0);yield{event:l.event,data:c}}}o=!0}catch(l){if(ku(l))return;throw l}finally{o||r.abort()}}return new _s(a,r,n)}static fromReadableStream(t,r,n){let i=!1;async function*s(){const o=new nc,l=oC(t);for await(const c of l)for(const h of o.decode(c))yield h;for(const c of o.flush())yield c}async function*a(){if(i)throw new it("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(ku(l))return;throw l}finally{o||r.abort()}}return new _s(a,r,n)}[(cs=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=n.next();t.push(a),r.push(a)}return s.shift()}});return[new _s(()=>i(t),this.controller,$(this,cs,"f")),new _s(()=>i(r),this.controller,$(this,cs,"f"))]}toReadableStream(){const t=this;let r;return sC({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:s}=await r.next();if(s)return n.close();const a=od(JSON.stringify(i)+`
`);n.enqueue(a)}catch(i){n.error(i)}},async cancel(){await r.return?.()}})}};async function*A9(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new it("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new it("Attempted to iterate over a response with no body");const r=new L9,n=new nc,i=oC(e.body);for await(const s of E9(i))for(const a of n.decode(s)){const o=r.decode(a);o&&(yield o)}for(const s of n.flush()){const a=r.decode(s);a&&(yield a)}}async function*E9(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?od(r):r;let i=new Uint8Array(t.length+n.length);i.set(t),i.set(n,t.length),t=i;let s;for(;(s=v9(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}class L9{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=M9(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function M9(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}async function dC(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:s}=t,a=await(async()=>{if(t.options.stream)return ie(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):ia.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const l=r.headers.get("content-type")?.split(";")[0]?.trim();if(l?.includes("application/json")||l?.endsWith("+json")){const u=await r.json();return pC(u,r)}return await r.text()})();return ie(e).debug(`[${n}] response parsed`,bn({retryOfRequestLogID:i,url:r.url,status:r.status,body:a,durationMs:Date.now()-s})),a}function pC(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var ks;class ic extends Promise{constructor(t,r,n=dC){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,ks.set(this,void 0),ut(this,ks,t)}_thenUnwrap(t){return new ic($(this,ks,"f"),this.responsePromise,async(r,n)=>pC(t(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse($(this,ks,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}ks=new WeakMap;var Ga;class ld{constructor(t,r,n,i){Ga.set(this,void 0),ut(this,Ga,t),this.options=i,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new it("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await $(this,Ga,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Ga=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class B9 extends ic{constructor(t,r,n){super(t,r,async(i,s)=>new n(i,s.response,await dC(i,s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}class sc extends ld{constructor(t,r,n,i){super(t,r,n,i),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Ht extends ld{constructor(t,r,n,i){super(t,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.getPaginatedItems(),r=t[t.length-1]?.id;return r?{...this.options,query:{...iC(this.options.query),after:r}}:null}}class I9 extends ld{constructor(t,r,n,i){super(t,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...iC(this.options.query),after:t}}:null}}const gC=()=>{if(typeof File>"u"){const{process:e}=globalThis,t=typeof e?.versions?.node=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ns(e,t,r){return gC(),new File(e,t??"unknown_file",r)}function mo(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const mC=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Dn=async(e,t)=>({...e,body:await $9(e.body,t)}),Gm=new WeakMap;function R9(e){const t=typeof e=="function"?e:e.fetch,r=Gm.get(t);if(r)return r;const n=(async()=>{try{const i="Response"in t?t.Response:(await t("data:,")).constructor,s=new FormData;return s.toString()!==await new i(s).text()}catch{return!0}})();return Gm.set(t,n),n}const $9=async(e,t)=>{if(!await R9(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(e||{}).map(([n,i])=>vu(r,n,i))),r},F9=e=>e instanceof Blob&&"name"in e,vu=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(r instanceof Response)e.append(t,Ns([await r.blob()],mo(r)));else if(mC(r))e.append(t,Ns([await new Response(aC(r)).blob()],mo(r)));else if(F9(r))e.append(t,r,mo(r));else if(Array.isArray(r))await Promise.all(r.map(n=>vu(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,i])=>vu(e,`${t}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},yC=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",O9=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&yC(e),P9=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function D9(e,t,r){if(gC(),e=await e,O9(e))return e instanceof File?e:Ns([await e.arrayBuffer()],e.name);if(P9(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Ns(await Tu(i),t,r)}const n=await Tu(e);if(t||(t=mo(e)),!r?.type){const i=n.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(r={...r,type:i})}return Ns(n,t,r)}async function Tu(e){let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(yC(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(mC(e))for await(const r of e)t.push(...await Tu(r));else{const r=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${N9(e)}`)}return t}function N9(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}class ct{constructor(t){this._client=t}}function xC(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Xm=Object.freeze(Object.create(null)),z9=(e=xC)=>function(r,...n){if(r.length===1)return r[0];let i=!1;const s=[],a=r.reduce((h,u,d)=>{/[?#]/.test(u)&&(i=!0);const f=n[d];let p=(i?encodeURIComponent:e)(""+f);return d!==n.length&&(f==null||typeof f=="object"&&f.toString===Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??Xm)??Xm)?.toString)&&(p=f+"",s.push({start:h.length+u.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),h+u+(d===n.length?"":p)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(o))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((h,u)=>h.start-u.start),s.length>0){let h=0;const u=s.reduce((d,f)=>{const p=" ".repeat(f.start-h),g="^".repeat(f.length);return h=f.start+f.length,d+p+g},"");throw new it(`Path parameters result in path with invalid segments:
${s.map(d=>d.error).join(`
`)}
${a}
${u}`)}return a},H=z9(xC);let bC=class extends ct{list(t,r={},n){return this._client.getAPIList(H`/chat/completions/${t}/messages`,Ht,{query:r,...n})}};function gl(e){return e!==void 0&&"function"in e&&e.function!==void 0}function cd(e){return e?.$brand==="auto-parseable-response-format"}function _a(e){return e?.$brand==="auto-parseable-tool"}function q9(e,t){return!t||!wC(t)?{...e,choices:e.choices.map(r=>(_C(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:hd(e,t)}function hd(e,t){const r=e.choices.map(n=>{if(n.finish_reason==="length")throw new rC;if(n.finish_reason==="content_filter")throw new nC;return _C(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(i=>H9(t,i))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?W9(t,n.message.content):null}}});return{...e,choices:r}}function W9(e,t){return e.response_format?.type!=="json_schema"?null:e.response_format?.type==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function H9(e,t){const r=e.tools?.find(n=>gl(n)&&n.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:_a(r)?r.$parseRaw(t.function.arguments):r?.function.strict?JSON.parse(t.function.arguments):null}}}function j9(e,t){if(!e||!("tools"in e)||!e.tools)return!1;const r=e.tools?.find(n=>gl(n)&&n.function?.name===t.function.name);return gl(r)&&(_a(r)||r?.function.strict||!1)}function wC(e){return cd(e.response_format)?!0:e.tools?.some(t=>_a(t)||t.type==="function"&&t.function.strict===!0)??!1}function _C(e){for(const t of e||[])if(t.type!=="function")throw new it(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function U9(e){for(const t of e??[]){if(t.type!=="function")throw new it(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new it(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const ml=e=>e?.role==="assistant",kC=e=>e?.role==="tool";var Au,yo,xo,Cs,Ss,bo,vs,$r,Ts,yl,xl,ci,CC;class ud{constructor(){Au.add(this),this.controller=new AbortController,yo.set(this,void 0),xo.set(this,()=>{}),Cs.set(this,()=>{}),Ss.set(this,void 0),bo.set(this,()=>{}),vs.set(this,()=>{}),$r.set(this,{}),Ts.set(this,!1),yl.set(this,!1),xl.set(this,!1),ci.set(this,!1),ut(this,yo,new Promise((t,r)=>{ut(this,xo,t,"f"),ut(this,Cs,r,"f")})),ut(this,Ss,new Promise((t,r)=>{ut(this,bo,t,"f"),ut(this,vs,r,"f")})),$(this,yo,"f").catch(()=>{}),$(this,Ss,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},$(this,Au,"m",CC).bind(this))},0)}_connected(){this.ended||($(this,xo,"f").call(this),this._emit("connect"))}get ended(){return $(this,Ts,"f")}get errored(){return $(this,yl,"f")}get aborted(){return $(this,xl,"f")}abort(){this.controller.abort()}on(t,r){return($(this,$r,"f")[t]||($(this,$r,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=$(this,$r,"f")[t];if(!n)return this;const i=n.findIndex(s=>s.listener===r);return i>=0&&n.splice(i,1),this}once(t,r){return($(this,$r,"f")[t]||($(this,$r,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{ut(this,ci,!0),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){ut(this,ci,!0),await $(this,Ss,"f")}_emit(t,...r){if($(this,Ts,"f"))return;t==="end"&&(ut(this,Ts,!0),$(this,bo,"f").call(this));const n=$(this,$r,"f")[t];if(n&&($(this,$r,"f")[t]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),t==="abort"){const i=r[0];!$(this,ci,"f")&&!n?.length&&Promise.reject(i),$(this,Cs,"f").call(this,i),$(this,vs,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=r[0];!$(this,ci,"f")&&!n?.length&&Promise.reject(i),$(this,Cs,"f").call(this,i),$(this,vs,"f").call(this,i),this._emit("end")}}_emitFinal(){}}yo=new WeakMap,xo=new WeakMap,Cs=new WeakMap,Ss=new WeakMap,bo=new WeakMap,vs=new WeakMap,$r=new WeakMap,Ts=new WeakMap,yl=new WeakMap,xl=new WeakMap,ci=new WeakMap,Au=new WeakSet,CC=function(t){if(ut(this,yl,!0),t instanceof Error&&t.name==="AbortError"&&(t=new Ge),t instanceof Ge)return ut(this,xl,!0),this._emit("abort",t);if(t instanceof it)return this._emit("error",t);if(t instanceof Error){const r=new it(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new it(String(t)))};function V9(e){return typeof e.parse=="function"}var xe,Eu,bl,Lu,Mu,Bu,SC,vC;const Y9=10;class TC extends ud{constructor(){super(...arguments),xe.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=t.choices[0]?.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),kC(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(ml(t)&&t.tool_calls)for(const n of t.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new it("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),$(this,xe,"m",Eu).call(this)}async finalMessage(){return await this.done(),$(this,xe,"m",bl).call(this)}async finalFunctionToolCall(){return await this.done(),$(this,xe,"m",Lu).call(this)}async finalFunctionToolCallResult(){return await this.done(),$(this,xe,"m",Mu).call(this)}async totalUsage(){return await this.done(),$(this,xe,"m",Bu).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=$(this,xe,"m",bl).call(this);r&&this._emit("finalMessage",r);const n=$(this,xe,"m",Eu).call(this);n&&this._emit("finalContent",n);const i=$(this,xe,"m",Lu).call(this);i&&this._emit("finalFunctionToolCall",i);const s=$(this,xe,"m",Mu).call(this);s!=null&&this._emit("finalFunctionToolCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",$(this,xe,"m",Bu).call(this))}async _createChatCompletion(t,r,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),$(this,xe,"m",SC).call(this,r);const s=await t.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(hd(s,r))}async _runChatCompletion(t,r,n){for(const i of r.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,r,n)}async _runTools(t,r,n){const i="tool",{tool_choice:s="auto",stream:a,...o}=r,l=typeof s!="string"&&s.type==="function"&&s?.function?.name,{maxChatCompletions:c=Y9}=n||{},h=r.tools.map(f=>{if(_a(f)){if(!f.$callback)throw new it("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:f.$callback,name:f.function.name,description:f.function.description||"",parameters:f.function.parameters,parse:f.$parseRaw,strict:!0}}}return f}),u={};for(const f of h)f.type==="function"&&(u[f.function.name||f.function.function.name]=f.function);const d="tools"in r?h.map(f=>f.type==="function"?{type:"function",function:{name:f.function.name||f.function.function.name,parameters:f.function.parameters,description:f.function.description,strict:f.function.strict}}:f):void 0;for(const f of r.messages)this._addMessage(f,!1);for(let f=0;f<c;++f){const g=(await this._createChatCompletion(t,{...o,tool_choice:s,tools:d,messages:[...this.messages]},n)).choices[0]?.message;if(!g)throw new it("missing message in ChatCompletion response");if(!g.tool_calls?.length)return;for(const x of g.tool_calls){if(x.type!=="function")continue;const y=x.id,{name:b,arguments:w}=x.function,k=u[b];if(k){if(l&&l!==b){const B=`Invalid tool_call: ${JSON.stringify(b)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:y,content:B});continue}}else{const B=`Invalid tool_call: ${JSON.stringify(b)}. Available options are: ${Object.keys(u).map(F=>JSON.stringify(F)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:y,content:B});continue}let S;try{S=V9(k)?await k.parse(w):w}catch(B){const F=B instanceof Error?B.message:String(B);this._addMessage({role:i,tool_call_id:y,content:F});continue}const _=await k.function(S,this),A=$(this,xe,"m",vC).call(this,_);if(this._addMessage({role:i,tool_call_id:y,content:A}),l)return}}}}xe=new WeakSet,Eu=function(){return $(this,xe,"m",bl).call(this).content??null},bl=function(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(ml(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new it("stream ended without producing a ChatCompletionMessage with role=assistant")},Lu=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(ml(r)&&r?.tool_calls?.length)return r.tool_calls.filter(n=>n.type==="function").at(-1)?.function}},Mu=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(kC(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(i=>i.type==="function"&&i.id===r.tool_call_id)))return r.content}},Bu=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},SC=function(t){if(t.n!=null&&t.n>1)throw new it("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},vC=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class fd extends TC{static runTools(t,r,n){const i=new fd,s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,r,s)),i}_addMessage(t,r=!0){super._addMessage(t,r),ml(t)&&t.content&&this._emit("content",t.content)}}const AC=1,EC=2,LC=4,MC=8,BC=16,IC=32,RC=64,$C=128,FC=256,OC=$C|FC,PC=BC|IC|OC|RC,DC=AC|EC|PC,NC=LC|MC,G9=DC|NC,Jt={STR:AC,NUM:EC,ARR:LC,OBJ:MC,NULL:BC,BOOL:IC,NAN:RC,INFINITY:$C,MINUS_INFINITY:FC,INF:OC,SPECIAL:PC,ATOM:DC,COLLECTION:NC,ALL:G9};class X9 extends Error{}class Q9 extends Error{}function K9(e,t=Jt.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return J9(e.trim(),t)}const J9=(e,t)=>{const r=e.length;let n=0;const i=d=>{throw new X9(`${d} at position ${n}`)},s=d=>{throw new Q9(`${d} at position ${n}`)},a=()=>(u(),n>=r&&i("Unexpected end of input"),e[n]==='"'?o():e[n]==="{"?l():e[n]==="["?c():e.substring(n,n+4)==="null"||Jt.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):e.substring(n,n+4)==="true"||Jt.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):e.substring(n,n+5)==="false"||Jt.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):e.substring(n,n+8)==="Infinity"||Jt.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):e.substring(n,n+9)==="-Infinity"||Jt.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):e.substring(n,n+3)==="NaN"||Jt.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):h()),o=()=>{const d=n;let f=!1;for(n++;n<r&&(e[n]!=='"'||f&&e[n-1]==="\\");)f=e[n]==="\\"?!f:!1,n++;if(e.charAt(n)=='"')try{return JSON.parse(e.substring(d,++n-Number(f)))}catch(p){s(String(p))}else if(Jt.STR&t)try{return JSON.parse(e.substring(d,n-Number(f))+'"')}catch{return JSON.parse(e.substring(d,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{n++,u();const d={};try{for(;e[n]!=="}";){if(u(),n>=r&&Jt.OBJ&t)return d;const f=o();u(),n++;try{const p=a();Object.defineProperty(d,f,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(Jt.OBJ&t)return d;throw p}u(),e[n]===","&&n++}}catch{if(Jt.OBJ&t)return d;i("Expected '}' at end of object")}return n++,d},c=()=>{n++;const d=[];try{for(;e[n]!=="]";)d.push(a()),u(),e[n]===","&&n++}catch{if(Jt.ARR&t)return d;i("Expected ']' at end of array")}return n++,d},h=()=>{if(n===0){e==="-"&&Jt.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(f){if(Jt.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}s(String(f))}}const d=n;for(e[n]==="-"&&n++;e[n]&&!",]}".includes(e[n]);)n++;n==r&&!(Jt.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(e.substring(d,n))}catch{e.substring(d,n)==="-"&&Jt.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(d,e.lastIndexOf("e")))}catch(p){s(String(p))}}},u=()=>{for(;n<r&&` 
\r	`.includes(e[n]);)n++};return a()},Qm=e=>K9(e,Jt.ALL^Jt.NUM);var Ut,Mr,ri,Gr,ih,Xa,sh,ah,oh,Qa,lh,Km;class sa extends TC{constructor(t){super(),Ut.add(this),Mr.set(this,void 0),ri.set(this,void 0),Gr.set(this,void 0),ut(this,Mr,t),ut(this,ri,[])}get currentChatCompletionSnapshot(){return $(this,Gr,"f")}static fromReadableStream(t){const r=new sa(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,n){const i=new sa(r);return i._run(()=>i._runChatCompletion(t,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,r,n){super._createChatCompletion;const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),$(this,Ut,"m",ih).call(this);const s=await t.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const a of s)$(this,Ut,"m",sh).call(this,a);if(s.controller.signal?.aborted)throw new Ge;return this._addChatCompletion($(this,Ut,"m",Qa).call(this))}async _fromReadableStream(t,r){const n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),$(this,Ut,"m",ih).call(this),this._connected();const i=ia.fromReadableStream(t,this.controller);let s;for await(const a of i)s&&s!==a.id&&this._addChatCompletion($(this,Ut,"m",Qa).call(this)),$(this,Ut,"m",sh).call(this,a),s=a.id;if(i.controller.signal?.aborted)throw new Ge;return this._addChatCompletion($(this,Ut,"m",Qa).call(this))}[(Mr=new WeakMap,ri=new WeakMap,Gr=new WeakMap,Ut=new WeakSet,ih=function(){this.ended||ut(this,Gr,void 0)},Xa=function(r){let n=$(this,ri,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},$(this,ri,"f")[r.index]=n,n)},sh=function(r){if(this.ended)return;const n=$(this,Ut,"m",Km).call(this,r);this._emit("chunk",r,n);for(const i of r.choices){const s=n.choices[i.index];i.delta.content!=null&&s.message?.role==="assistant"&&s.message?.content&&(this._emit("content",i.delta.content,s.message.content),this._emit("content.delta",{delta:i.delta.content,snapshot:s.message.content,parsed:s.message.parsed})),i.delta.refusal!=null&&s.message?.role==="assistant"&&s.message?.refusal&&this._emit("refusal.delta",{delta:i.delta.refusal,snapshot:s.message.refusal}),i.logprobs?.content!=null&&s.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:i.logprobs?.content,snapshot:s.logprobs?.content??[]}),i.logprobs?.refusal!=null&&s.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:i.logprobs?.refusal,snapshot:s.logprobs?.refusal??[]});const a=$(this,Ut,"m",Xa).call(this,s);s.finish_reason&&($(this,Ut,"m",oh).call(this,s),a.current_tool_call_index!=null&&$(this,Ut,"m",ah).call(this,s,a.current_tool_call_index));for(const o of i.delta.tool_calls??[])a.current_tool_call_index!==o.index&&($(this,Ut,"m",oh).call(this,s),a.current_tool_call_index!=null&&$(this,Ut,"m",ah).call(this,s,a.current_tool_call_index)),a.current_tool_call_index=o.index;for(const o of i.delta.tool_calls??[]){const l=s.message.tool_calls?.[o.index];l?.type&&(l?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:l.function?.name,index:o.index,arguments:l.function.arguments,parsed_arguments:l.function.parsed_arguments,arguments_delta:o.function?.arguments??""}):(l?.type,void 0))}}},ah=function(r,n){if($(this,Ut,"m",Xa).call(this,r).done_tool_calls.has(n))return;const s=r.message.tool_calls?.[n];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const a=$(this,Mr,"f")?.tools?.find(o=>gl(o)&&o.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:n,arguments:s.function.arguments,parsed_arguments:_a(a)?a.$parseRaw(s.function.arguments):a?.function.strict?JSON.parse(s.function.arguments):null})}else s.type},oh=function(r){const n=$(this,Ut,"m",Xa).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const i=$(this,Ut,"m",lh).call(this);this._emit("content.done",{content:r.message.content,parsed:i?i.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},Qa=function(){if(this.ended)throw new it("stream has ended, this shouldn't happen");const r=$(this,Gr,"f");if(!r)throw new it("request ended without sending any chunks");return ut(this,Gr,void 0),ut(this,ri,[]),Z9(r,$(this,Mr,"f"))},lh=function(){const r=$(this,Mr,"f")?.response_format;return cd(r)?r:null},Km=function(r){var n,i,s,a;let o=$(this,Gr,"f");const{choices:l,...c}=r;o?Object.assign(o,c):o=ut(this,Gr,{...c,choices:[]});for(const{delta:h,finish_reason:u,index:d,logprobs:f=null,...p}of r.choices){let g=o.choices[d];if(g||(g=o.choices[d]={finish_reason:u,index:d,message:{},logprobs:f,...p}),f)if(!g.logprobs)g.logprobs=Object.assign({},f);else{const{content:_,refusal:A,...B}=f;Object.assign(g.logprobs,B),_&&((n=g.logprobs).content??(n.content=[]),g.logprobs.content.push(..._)),A&&((i=g.logprobs).refusal??(i.refusal=[]),g.logprobs.refusal.push(...A))}if(u&&(g.finish_reason=u,$(this,Mr,"f")&&wC($(this,Mr,"f")))){if(u==="length")throw new rC;if(u==="content_filter")throw new nC}if(Object.assign(g,p),!h)continue;const{content:x,refusal:y,function_call:b,role:w,tool_calls:k,...S}=h;if(Object.assign(g.message,S),y&&(g.message.refusal=(g.message.refusal||"")+y),w&&(g.message.role=w),b&&(g.message.function_call?(b.name&&(g.message.function_call.name=b.name),b.arguments&&((s=g.message.function_call).arguments??(s.arguments=""),g.message.function_call.arguments+=b.arguments)):g.message.function_call=b),x&&(g.message.content=(g.message.content||"")+x,!g.message.refusal&&$(this,Ut,"m",lh).call(this)&&(g.message.parsed=Qm(g.message.content))),k){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:_,id:A,type:B,function:F,...v}of k){const L=(a=g.message.tool_calls)[_]??(a[_]={});Object.assign(L,v),A&&(L.id=A),B&&(L.type=B),F&&(L.function??(L.function={name:F.name??"",arguments:""})),F?.name&&(L.function.name=F.name),F?.arguments&&(L.function.arguments+=F.arguments,j9($(this,Mr,"f"),L)&&(L.function.parsed_arguments=Qm(L.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("chunk",i=>{const s=r.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((s,a)=>r.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ia(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Z9(e,t){const{id:r,choices:n,created:i,model:s,system_fingerprint:a,...o}=e,l={...o,id:r,choices:n.map(({message:c,finish_reason:h,index:u,logprobs:d,...f})=>{if(!h)throw new it(`missing finish_reason for choice ${u}`);const{content:p=null,function_call:g,tool_calls:x,...y}=c,b=c.role;if(!b)throw new it(`missing role for choice ${u}`);if(g){const{arguments:w,name:k}=g;if(w==null)throw new it(`missing function_call.arguments for choice ${u}`);if(!k)throw new it(`missing function_call.name for choice ${u}`);return{...f,message:{content:p,function_call:{arguments:w,name:k},role:b,refusal:c.refusal??null},finish_reason:h,index:u,logprobs:d}}return x?{...f,index:u,finish_reason:h,logprobs:d,message:{...y,role:b,content:p,refusal:c.refusal??null,tool_calls:x.map((w,k)=>{const{function:S,type:_,id:A,...B}=w,{arguments:F,name:v,...L}=S||{};if(A==null)throw new it(`missing choices[${u}].tool_calls[${k}].id
${Ka(e)}`);if(_==null)throw new it(`missing choices[${u}].tool_calls[${k}].type
${Ka(e)}`);if(v==null)throw new it(`missing choices[${u}].tool_calls[${k}].function.name
${Ka(e)}`);if(F==null)throw new it(`missing choices[${u}].tool_calls[${k}].function.arguments
${Ka(e)}`);return{...B,id:A,type:_,function:{...L,name:v,arguments:F}}})}}:{...f,message:{...y,content:p,role:b,refusal:c.refusal??null},finish_reason:h,index:u,logprobs:d}}),created:i,model:s,object:"chat.completion",...a?{system_fingerprint:a}:{}};return q9(l,t)}function Ka(e){return JSON.stringify(e)}class wl extends sa{static fromReadableStream(t){const r=new wl(null);return r._run(()=>r._fromReadableStream(t)),r}static runTools(t,r,n){const i=new wl(r),s={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,r,s)),i}}let dd=class extends ct{constructor(){super(...arguments),this.messages=new bC(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(H`/chat/completions/${t}`,r)}update(t,r,n){return this._client.post(H`/chat/completions/${t}`,{body:r,...n})}list(t={},r){return this._client.getAPIList("/chat/completions",Ht,{query:t,...r})}delete(t,r){return this._client.delete(H`/chat/completions/${t}`,r)}parse(t,r){return U9(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>hd(n,t))}runTools(t,r){return t.stream?wl.runTools(this._client,t,r):fd.runTools(this._client,t,r)}stream(t,r){return sa.createChatCompletion(this._client,t,r)}};dd.Messages=bC;class pd extends ct{constructor(){super(...arguments),this.completions=new dd(this._client)}}pd.Completions=dd;const zC=Symbol("brand.privateNullableHeaders");function*tq(e){if(!e)return;if(zC in e){const{values:n,nulls:i}=e;yield*n.entries();for(const s of i)yield[s,null];return}let t=!1,r;e instanceof Headers?r=e.entries():Om(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=Om(n[1])?n[1]:[n[1]];let a=!1;for(const o of s)o!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,o])}}const st=e=>{const t=new Headers,r=new Set;for(const n of e){const i=new Set;for(const[s,a]of tq(n)){const o=s.toLowerCase();i.has(o)||(t.delete(s),i.add(o)),a===null?(t.delete(s),r.add(o)):(t.append(s,a),r.delete(o))}}return{[zC]:!0,values:t,nulls:r}};class qC extends ct{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:st([{Accept:"application/octet-stream"},r?.headers]),__binaryResponse:!0})}}class WC extends ct{create(t,r){return this._client.post("/audio/transcriptions",Dn({body:t,...r,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class HC extends ct{create(t,r){return this._client.post("/audio/translations",Dn({body:t,...r,__metadata:{model:t.model}},this._client))}}class ka extends ct{constructor(){super(...arguments),this.transcriptions=new WC(this._client),this.translations=new HC(this._client),this.speech=new qC(this._client)}}ka.Transcriptions=WC;ka.Translations=HC;ka.Speech=qC;class jC extends ct{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(H`/batches/${t}`,r)}list(t={},r){return this._client.getAPIList("/batches",Ht,{query:t,...r})}cancel(t,r){return this._client.post(H`/batches/${t}/cancel`,r)}}class UC extends ct{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(H`/assistants/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,n){return this._client.post(H`/assistants/${t}`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t={},r){return this._client.getAPIList("/assistants",Ht,{query:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(t,r){return this._client.delete(H`/assistants/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class VC extends ct{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class YC extends ct{create(t,r){return this._client.post("/realtime/transcription_sessions",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}let ac=class extends ct{constructor(){super(...arguments),this.sessions=new VC(this._client),this.transcriptionSessions=new YC(this._client)}};ac.Sessions=VC;ac.TranscriptionSessions=YC;class GC extends ct{create(t,r,n){return this._client.post(H`/threads/${t}/messages`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,r,n){const{thread_id:i}=r;return this._client.get(H`/threads/${i}/messages/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,r,n){const{thread_id:i,...s}=r;return this._client.post(H`/threads/${i}/messages/${t}`,{body:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r={},n){return this._client.getAPIList(H`/threads/${t}/messages`,Ht,{query:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,r,n){const{thread_id:i}=r;return this._client.delete(H`/threads/${i}/messages/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class XC extends ct{retrieve(t,r,n){const{thread_id:i,run_id:s,...a}=r;return this._client.get(H`/threads/${i}/runs/${s}/steps/${t}`,{query:a,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r,n){const{thread_id:i,...s}=r;return this._client.getAPIList(H`/threads/${i}/runs/${t}/steps`,Ht,{query:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}const eq=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t.charCodeAt(i);return Array.from(new Float32Array(n.buffer))}};var rq={};const ni=e=>{if(typeof globalThis.process<"u")return rq?.[e]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(e)?.trim()};var se,Tn,Iu,yr,wo,er,An,fi,wn,_l,qe,_o,ko,zs,As,Es,Jm,Zm,ty,ey,ry,ny,iy;class qs extends ud{constructor(){super(...arguments),se.add(this),Iu.set(this,[]),yr.set(this,{}),wo.set(this,{}),er.set(this,void 0),An.set(this,void 0),fi.set(this,void 0),wn.set(this,void 0),_l.set(this,void 0),qe.set(this,void 0),_o.set(this,void 0),ko.set(this,void 0),zs.set(this,void 0)}[(Iu=new WeakMap,yr=new WeakMap,wo=new WeakMap,er=new WeakMap,An=new WeakMap,fi=new WeakMap,wn=new WeakMap,_l=new WeakMap,qe=new WeakMap,_o=new WeakMap,ko=new WeakMap,zs=new WeakMap,se=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",i=>{const s=r.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((s,a)=>r.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new Tn;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){const n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=ia.fromReadableStream(t,this.controller);for await(const s of i)$(this,se,"m",As).call(this,s);if(i.controller.signal?.aborted)throw new Ge;return this._addRun($(this,se,"m",Es).call(this))}toReadableStream(){return new ia(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,n,i){const s=new Tn;return s._run(()=>s._runToolAssistantStream(t,r,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(t,r,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await t.submitToolOutputs(r,a,{...i,signal:this.controller.signal});this._connected();for await(const l of o)$(this,se,"m",As).call(this,l);if(o.controller.signal?.aborted)throw new Ge;return this._addRun($(this,se,"m",Es).call(this))}static createThreadAssistantStream(t,r,n){const i=new Tn;return i._run(()=>i._threadAssistantStream(t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,r,n,i){const s=new Tn;return s._run(()=>s._runAssistantStream(t,r,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return $(this,_o,"f")}currentRun(){return $(this,ko,"f")}currentMessageSnapshot(){return $(this,er,"f")}currentRunStepSnapshot(){return $(this,zs,"f")}async finalRunSteps(){return await this.done(),Object.values($(this,yr,"f"))}async finalMessages(){return await this.done(),Object.values($(this,wo,"f"))}async finalRun(){if(await this.done(),!$(this,An,"f"))throw Error("Final run was not received.");return $(this,An,"f")}async _createThreadAssistantStream(t,r,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...r,stream:!0},a=await t.createAndRun(s,{...n,signal:this.controller.signal});this._connected();for await(const o of a)$(this,se,"m",As).call(this,o);if(a.controller.signal?.aborted)throw new Ge;return this._addRun($(this,se,"m",Es).call(this))}async _createAssistantStream(t,r,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await t.create(r,a,{...i,signal:this.controller.signal});this._connected();for await(const l of o)$(this,se,"m",As).call(this,l);if(o.controller.signal?.aborted)throw new Ge;return this._addRun($(this,se,"m",Es).call(this))}static accumulateDelta(t,r){for(const[n,i]of Object.entries(r)){if(!t.hasOwnProperty(n)){t[n]=i;continue}let s=t[n];if(s==null){t[n]=i;continue}if(n==="index"||n==="type"){t[n]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(eh(s)&&eh(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}for(const a of i){if(!eh(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=s[o];l==null?s.push(a):s[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${i}, accValue: ${s}`);t[n]=s}return t}_addRun(t){return t}async _threadAssistantStream(t,r,n){return await this._createThreadAssistantStream(r,t,n)}async _runAssistantStream(t,r,n,i){return await this._createAssistantStream(r,t,n,i)}async _runToolAssistantStream(t,r,n,i){return await this._createToolAssistantStream(r,t,n,i)}}Tn=qs,As=function(t){if(!this.ended)switch(ut(this,_o,t),$(this,se,"m",ty).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":$(this,se,"m",iy).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":$(this,se,"m",Zm).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":$(this,se,"m",Jm).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Es=function(){if(this.ended)throw new it("stream has ended, this shouldn't happen");if(!$(this,An,"f"))throw Error("Final run has not been received");return $(this,An,"f")},Jm=function(t){const[r,n]=$(this,se,"m",ry).call(this,t,$(this,er,"f"));ut(this,er,r),$(this,wo,"f")[r.id]=r;for(const i of n){const s=r.content[i.index];s?.type=="text"&&this._emit("textCreated",s.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const i of t.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=r.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=$(this,fi,"f")){if($(this,wn,"f"))switch($(this,wn,"f").type){case"text":this._emit("textDone",$(this,wn,"f").text,$(this,er,"f"));break;case"image_file":this._emit("imageFileDone",$(this,wn,"f").image_file,$(this,er,"f"));break}ut(this,fi,i.index)}ut(this,wn,r.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if($(this,fi,"f")!==void 0){const i=t.data.content[$(this,fi,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,$(this,er,"f"));break;case"text":this._emit("textDone",i.text,$(this,er,"f"));break}}$(this,er,"f")&&this._emit("messageDone",t.data),ut(this,er,void 0)}},Zm=function(t){const r=$(this,se,"m",ey).call(this,t);switch(ut(this,zs,r),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const n=t.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const s of n.step_details.tool_calls)s.index==$(this,_l,"f")?this._emit("toolCallDelta",s,r.step_details.tool_calls[s.index]):($(this,qe,"f")&&this._emit("toolCallDone",$(this,qe,"f")),ut(this,_l,s.index),ut(this,qe,r.step_details.tool_calls[s.index]),$(this,qe,"f")&&this._emit("toolCallCreated",$(this,qe,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ut(this,zs,void 0),t.data.step_details.type=="tool_calls"&&$(this,qe,"f")&&(this._emit("toolCallDone",$(this,qe,"f")),ut(this,qe,void 0)),this._emit("runStepDone",t.data,r);break}},ty=function(t){$(this,Iu,"f").push(t),this._emit("event",t)},ey=function(t){switch(t.event){case"thread.run.step.created":return $(this,yr,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=$(this,yr,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){const i=Tn.accumulateDelta(r,n.delta);$(this,yr,"f")[t.data.id]=i}return $(this,yr,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":$(this,yr,"f")[t.data.id]=t.data;break}if($(this,yr,"f")[t.data.id])return $(this,yr,"f")[t.data.id];throw new Error("No snapshot available")},ry=function(t,r){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=t.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in r.content){let a=r.content[s.index];r.content[s.index]=$(this,se,"m",ny).call(this,s,a)}else r.content[s.index]=s,n.push(s);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},ny=function(t,r){return Tn.accumulateDelta(r,t)},iy=function(t){switch(ut(this,ko,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ut(this,An,t.data),$(this,qe,"f")&&(this._emit("toolCallDone",$(this,qe,"f")),ut(this,qe,void 0));break}};let gd=class extends ct{constructor(){super(...arguments),this.steps=new XC(this._client)}create(t,r,n){const{include:i,...s}=r;return this._client.post(H`/threads/${t}/runs`,{query:{include:i},body:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}retrieve(t,r,n){const{thread_id:i}=r;return this._client.get(H`/threads/${i}/runs/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,r,n){const{thread_id:i,...s}=r;return this._client.post(H`/threads/${i}/runs/${t}`,{body:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r={},n){return this._client.getAPIList(H`/threads/${t}/runs`,Ht,{query:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(t,r,n){const{thread_id:i}=r;return this._client.post(H`/threads/${i}/runs/${t}/cancel`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(t,r,n){const i=await this.create(t,r,n);return await this.poll(i.id,{thread_id:t},n)}createAndStream(t,r,n){return qs.createAssistantStream(t,this._client.beta.threads.runs,r,n)}async poll(t,r,n){const i=st([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:s,response:a}=await this.retrieve(t,r,{...n,headers:{...n?.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(n?.pollIntervalMs)o=n.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await wa(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(t,r,n){return qs.createAssistantStream(t,this._client.beta.threads.runs,r,n)}submitToolOutputs(t,r,n){const{thread_id:i,...s}=r;return this._client.post(H`/threads/${i}/runs/${t}/submit_tool_outputs`,{body:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(t,r,n){const i=await this.submitToolOutputs(t,r,n);return await this.poll(i.id,r,n)}submitToolOutputsStream(t,r,n){return qs.createToolAssistantStream(t,this._client.beta.threads.runs,r,n)}};gd.Steps=XC;class oc extends ct{constructor(){super(...arguments),this.runs=new gd(this._client),this.messages=new GC(this._client)}create(t={},r){return this._client.post("/threads",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(H`/threads/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,n){return this._client.post(H`/threads/${t}`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,r){return this._client.delete(H`/threads/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}async createAndRunPoll(t,r){const n=await this.createAndRun(t,r);return await this.runs.poll(n.id,{thread_id:n.thread_id},r)}createAndRunStream(t,r){return qs.createThreadAssistantStream(t,this._client.beta.threads,r)}}oc.Runs=gd;oc.Messages=GC;class Ca extends ct{constructor(){super(...arguments),this.realtime=new ac(this._client),this.assistants=new UC(this._client),this.threads=new oc(this._client)}}Ca.Realtime=ac;Ca.Assistants=UC;Ca.Threads=oc;class QC extends ct{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}class KC extends ct{retrieve(t,r,n){const{container_id:i}=r;return this._client.get(H`/containers/${i}/files/${t}/content`,{...n,headers:st([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}}let md=class extends ct{constructor(){super(...arguments),this.content=new KC(this._client)}create(t,r,n){return this._client.post(H`/containers/${t}/files`,Dn({body:r,...n},this._client))}retrieve(t,r,n){const{container_id:i}=r;return this._client.get(H`/containers/${i}/files/${t}`,n)}list(t,r={},n){return this._client.getAPIList(H`/containers/${t}/files`,Ht,{query:r,...n})}delete(t,r,n){const{container_id:i}=r;return this._client.delete(H`/containers/${i}/files/${t}`,{...n,headers:st([{Accept:"*/*"},n?.headers])})}};md.Content=KC;class yd extends ct{constructor(){super(...arguments),this.files=new md(this._client)}create(t,r){return this._client.post("/containers",{body:t,...r})}retrieve(t,r){return this._client.get(H`/containers/${t}`,r)}list(t={},r){return this._client.getAPIList("/containers",Ht,{query:t,...r})}delete(t,r){return this._client.delete(H`/containers/${t}`,{...r,headers:st([{Accept:"*/*"},r?.headers])})}}yd.Files=md;class JC extends ct{create(t,r,n){const{include:i,...s}=r;return this._client.post(H`/conversations/${t}/items`,{query:{include:i},body:s,...n})}retrieve(t,r,n){const{conversation_id:i,...s}=r;return this._client.get(H`/conversations/${i}/items/${t}`,{query:s,...n})}list(t,r={},n){return this._client.getAPIList(H`/conversations/${t}/items`,I9,{query:r,...n})}delete(t,r,n){const{conversation_id:i}=r;return this._client.delete(H`/conversations/${i}/items/${t}`,n)}}class xd extends ct{constructor(){super(...arguments),this.items=new JC(this._client)}create(t={},r){return this._client.post("/conversations",{body:t,...r})}retrieve(t,r){return this._client.get(H`/conversations/${t}`,r)}update(t,r,n){return this._client.post(H`/conversations/${t}`,{body:r,...n})}delete(t,r){return this._client.delete(H`/conversations/${t}`,r)}}xd.Items=JC;class ZC extends ct{create(t,r){const n=!!t.encoding_format;let i=n?t.encoding_format:"base64";n&&ie(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const s=this._client.post("/embeddings",{body:{...t,encoding_format:i},...r});return n?s:(ie(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=eq(l)}),a)))}}class t2 extends ct{retrieve(t,r,n){const{eval_id:i,run_id:s}=r;return this._client.get(H`/evals/${i}/runs/${s}/output_items/${t}`,n)}list(t,r,n){const{eval_id:i,...s}=r;return this._client.getAPIList(H`/evals/${i}/runs/${t}/output_items`,Ht,{query:s,...n})}}class bd extends ct{constructor(){super(...arguments),this.outputItems=new t2(this._client)}create(t,r,n){return this._client.post(H`/evals/${t}/runs`,{body:r,...n})}retrieve(t,r,n){const{eval_id:i}=r;return this._client.get(H`/evals/${i}/runs/${t}`,n)}list(t,r={},n){return this._client.getAPIList(H`/evals/${t}/runs`,Ht,{query:r,...n})}delete(t,r,n){const{eval_id:i}=r;return this._client.delete(H`/evals/${i}/runs/${t}`,n)}cancel(t,r,n){const{eval_id:i}=r;return this._client.post(H`/evals/${i}/runs/${t}`,n)}}bd.OutputItems=t2;class wd extends ct{constructor(){super(...arguments),this.runs=new bd(this._client)}create(t,r){return this._client.post("/evals",{body:t,...r})}retrieve(t,r){return this._client.get(H`/evals/${t}`,r)}update(t,r,n){return this._client.post(H`/evals/${t}`,{body:r,...n})}list(t={},r){return this._client.getAPIList("/evals",Ht,{query:t,...r})}delete(t,r){return this._client.delete(H`/evals/${t}`,r)}}wd.Runs=bd;let e2=class extends ct{create(t,r){return this._client.post("/files",Dn({body:t,...r},this._client))}retrieve(t,r){return this._client.get(H`/files/${t}`,r)}list(t={},r){return this._client.getAPIList("/files",Ht,{query:t,...r})}delete(t,r){return this._client.delete(H`/files/${t}`,r)}content(t,r){return this._client.get(H`/files/${t}/content`,{...r,headers:st([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:n=1800*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(t);for(;!a.status||!i.has(a.status);)if(await wa(r),a=await this.retrieve(t),Date.now()-s>n)throw new ad({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return a}};class r2 extends ct{}let n2=class extends ct{run(t,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...r})}validate(t,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...r})}};class _d extends ct{constructor(){super(...arguments),this.graders=new n2(this._client)}}_d.Graders=n2;class i2 extends ct{create(t,r,n){return this._client.getAPIList(H`/fine_tuning/checkpoints/${t}/permissions`,sc,{body:r,method:"post",...n})}retrieve(t,r={},n){return this._client.get(H`/fine_tuning/checkpoints/${t}/permissions`,{query:r,...n})}delete(t,r,n){const{fine_tuned_model_checkpoint:i}=r;return this._client.delete(H`/fine_tuning/checkpoints/${i}/permissions/${t}`,n)}}let kd=class extends ct{constructor(){super(...arguments),this.permissions=new i2(this._client)}};kd.Permissions=i2;class s2 extends ct{list(t,r={},n){return this._client.getAPIList(H`/fine_tuning/jobs/${t}/checkpoints`,Ht,{query:r,...n})}}class Cd extends ct{constructor(){super(...arguments),this.checkpoints=new s2(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(H`/fine_tuning/jobs/${t}`,r)}list(t={},r){return this._client.getAPIList("/fine_tuning/jobs",Ht,{query:t,...r})}cancel(t,r){return this._client.post(H`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},n){return this._client.getAPIList(H`/fine_tuning/jobs/${t}/events`,Ht,{query:r,...n})}pause(t,r){return this._client.post(H`/fine_tuning/jobs/${t}/pause`,r)}resume(t,r){return this._client.post(H`/fine_tuning/jobs/${t}/resume`,r)}}Cd.Checkpoints=s2;class Hi extends ct{constructor(){super(...arguments),this.methods=new r2(this._client),this.jobs=new Cd(this._client),this.checkpoints=new kd(this._client),this.alpha=new _d(this._client)}}Hi.Methods=r2;Hi.Jobs=Cd;Hi.Checkpoints=kd;Hi.Alpha=_d;class a2 extends ct{}class Sd extends ct{constructor(){super(...arguments),this.graderModels=new a2(this._client)}}Sd.GraderModels=a2;class o2 extends ct{createVariation(t,r){return this._client.post("/images/variations",Dn({body:t,...r},this._client))}edit(t,r){return this._client.post("/images/edits",Dn({body:t,...r,stream:t.stream??!1},this._client))}generate(t,r){return this._client.post("/images/generations",{body:t,...r,stream:t.stream??!1})}}class l2 extends ct{retrieve(t,r){return this._client.get(H`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",sc,t)}delete(t,r){return this._client.delete(H`/models/${t}`,r)}}class c2 extends ct{create(t,r){return this._client.post("/moderations",{body:t,...r})}}class h2 extends ct{create(t,r){return this._client.post("/realtime/client_secrets",{body:t,...r})}}class vd extends ct{constructor(){super(...arguments),this.clientSecrets=new h2(this._client)}}vd.ClientSecrets=h2;function nq(e,t){return!t||!sq(t)?{...e,output_parsed:null,output:e.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:u2(e,t)}function u2(e,t){const r=e.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:lq(t,i)};if(i.type==="message"){const s=i.content.map(a=>a.type==="output_text"?{...a,parsed:iq(t,a.text)}:a);return{...i,content:s}}return i}),n=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||Ru(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const i of n.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),n}function iq(e,t){return e.text?.format?.type!=="json_schema"?null:"$parseRaw"in e.text?.format?(e.text?.format).$parseRaw(t):JSON.parse(t)}function sq(e){return!!cd(e.text?.format)}function aq(e){return e?.$brand==="auto-parseable-tool"}function oq(e,t){return e.find(r=>r.type==="function"&&r.name===t)}function lq(e,t){const r=oq(e.tools??[],t.name);return{...t,...t,parsed_arguments:aq(r)?r.$parseRaw(t.arguments):r?.strict?JSON.parse(t.arguments):null}}function Ru(e){const t=[];for(const r of e.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&t.push(n.text);e.output_text=t.join("")}var ii,Ja,Xr,Za,sy,ay,oy,ly;class Td extends ud{constructor(t){super(),ii.add(this),Ja.set(this,void 0),Xr.set(this,void 0),Za.set(this,void 0),ut(this,Ja,t)}static createResponse(t,r,n){const i=new Td(r);return i._run(()=>i._createOrRetrieveResponse(t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(t,r,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),$(this,ii,"m",sy).call(this);let s,a=null;"response_id"in r?(s=await t.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),a=r.starting_after??null):s=await t.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const o of s)$(this,ii,"m",ay).call(this,o,a);if(s.controller.signal?.aborted)throw new Ge;return $(this,ii,"m",oy).call(this)}[(Ja=new WeakMap,Xr=new WeakMap,Za=new WeakMap,ii=new WeakSet,sy=function(){this.ended||ut(this,Xr,void 0)},ay=function(r,n){if(this.ended)return;const i=(a,o)=>{(n==null||o.sequence_number>n)&&this._emit(a,o)},s=$(this,ii,"m",ly).call(this,r);switch(i("event",r),r.type){case"response.output_text.delta":{const a=s.output[r.output_index];if(!a)throw new it(`missing output at index ${r.output_index}`);if(a.type==="message"){const o=a.content[r.content_index];if(!o)throw new it(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new it(`expected content to be 'output_text', got ${o.type}`);i("response.output_text.delta",{...r,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=s.output[r.output_index];if(!a)throw new it(`missing output at index ${r.output_index}`);a.type==="function_call"&&i("response.function_call_arguments.delta",{...r,snapshot:a.arguments});break}default:i(r.type,r);break}},oy=function(){if(this.ended)throw new it("stream has ended, this shouldn't happen");const r=$(this,Xr,"f");if(!r)throw new it("request ended without sending any events");ut(this,Xr,void 0);const n=cq(r,$(this,Ja,"f"));return ut(this,Za,n),n},ly=function(r){let n=$(this,Xr,"f");if(!n){if(r.type!=="response.created")throw new it(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=ut(this,Xr,r.response),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const i=n.output[r.output_index];if(!i)throw new it(`missing output at index ${r.output_index}`);const s=i.type,a=r.part;s==="message"&&a.type!=="reasoning_text"?i.content.push(a):s==="reasoning"&&a.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(a));break}case"response.output_text.delta":{const i=n.output[r.output_index];if(!i)throw new it(`missing output at index ${r.output_index}`);if(i.type==="message"){const s=i.content[r.content_index];if(!s)throw new it(`missing content at index ${r.content_index}`);if(s.type!=="output_text")throw new it(`expected content to be 'output_text', got ${s.type}`);s.text+=r.delta}break}case"response.function_call_arguments.delta":{const i=n.output[r.output_index];if(!i)throw new it(`missing output at index ${r.output_index}`);i.type==="function_call"&&(i.arguments+=r.delta);break}case"response.reasoning_text.delta":{const i=n.output[r.output_index];if(!i)throw new it(`missing output at index ${r.output_index}`);if(i.type==="reasoning"){const s=i.content?.[r.content_index];if(!s)throw new it(`missing content at index ${r.content_index}`);if(s.type!=="reasoning_text")throw new it(`expected content to be 'reasoning_text', got ${s.type}`);s.text+=r.delta}break}case"response.completed":{ut(this,Xr,r.response);break}}return n},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",i=>{const s=r.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((s,a)=>r.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=$(this,Za,"f");if(!t)throw new it("stream ended without producing a ChatCompletion");return t}}function cq(e,t){return nq(e,t)}class f2 extends ct{list(t,r={},n){return this._client.getAPIList(H`/responses/${t}/input_items`,Ht,{query:r,...n})}}class Ad extends ct{constructor(){super(...arguments),this.inputItems=new f2(this._client)}create(t,r){return this._client.post("/responses",{body:t,...r,stream:t.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&Ru(n),n))}retrieve(t,r={},n){return this._client.get(H`/responses/${t}`,{query:r,...n,stream:r?.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Ru(i),i))}delete(t,r){return this._client.delete(H`/responses/${t}`,{...r,headers:st([{Accept:"*/*"},r?.headers])})}parse(t,r){return this._client.responses.create(t,r)._thenUnwrap(n=>u2(n,t))}stream(t,r){return Td.createResponse(this._client,t,r)}cancel(t,r){return this._client.post(H`/responses/${t}/cancel`,r)}}Ad.InputItems=f2;class d2 extends ct{create(t,r,n){return this._client.post(H`/uploads/${t}/parts`,Dn({body:r,...n},this._client))}}class Ed extends ct{constructor(){super(...arguments),this.parts=new d2(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(H`/uploads/${t}/cancel`,r)}complete(t,r,n){return this._client.post(H`/uploads/${t}/complete`,{body:r,...n})}}Ed.Parts=d2;const hq=async e=>{const t=await Promise.allSettled(e),r=t.filter(i=>i.status==="rejected");if(r.length){for(const i of r)console.error(i.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const i of t)i.status==="fulfilled"&&n.push(i.value);return n};class p2 extends ct{create(t,r,n){return this._client.post(H`/vector_stores/${t}/file_batches`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,r,n){const{vector_store_id:i}=r;return this._client.get(H`/vector_stores/${i}/file_batches/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(t,r,n){const{vector_store_id:i}=r;return this._client.post(H`/vector_stores/${i}/file_batches/${t}/cancel`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(t,r,n){const i=await this.create(t,r);return await this.poll(t,i.id,n)}listFiles(t,r,n){const{vector_store_id:i,...s}=r;return this._client.getAPIList(H`/vector_stores/${i}/file_batches/${t}/files`,Ht,{query:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(t,r,n){const i=st([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:s,response:a}=await this.retrieve(r,{vector_store_id:t},{...n,headers:i}).withResponse();switch(s.status){case"in_progress":let o=5e3;if(n?.pollIntervalMs)o=n.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await wa(o);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(t,{files:r,fileIds:n=[]},i){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=i?.maxConcurrency??5,a=Math.min(s,r.length),o=this._client,l=r.values(),c=[...n];async function h(d){for(let f of d){const p=await o.files.create({file:f,purpose:"assistants"},i);c.push(p.id)}}const u=Array(a).fill(l).map(h);return await hq(u),await this.createAndPoll(t,{file_ids:c})}}class g2 extends ct{create(t,r,n){return this._client.post(H`/vector_stores/${t}/files`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(t,r,n){const{vector_store_id:i}=r;return this._client.get(H`/vector_stores/${i}/files/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(t,r,n){const{vector_store_id:i,...s}=r;return this._client.post(H`/vector_stores/${i}/files/${t}`,{body:s,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t,r={},n){return this._client.getAPIList(H`/vector_stores/${t}/files`,Ht,{query:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(t,r,n){const{vector_store_id:i}=r;return this._client.delete(H`/vector_stores/${i}/files/${t}`,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(t,r,n){const i=await this.create(t,r,n);return await this.poll(t,i.id,n)}async poll(t,r,n){const i=st([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const s=await this.retrieve(r,{vector_store_id:t},{...n,headers:i}).withResponse(),a=s.data;switch(a.status){case"in_progress":let o=5e3;if(n?.pollIntervalMs)o=n.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await wa(o);break;case"failed":case"completed":return a}}}async upload(t,r,n){const i=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(t,{file_id:i.id},n)}async uploadAndPoll(t,r,n){const i=await this.upload(t,r,n);return await this.poll(t,i.id,n)}content(t,r,n){const{vector_store_id:i}=r;return this._client.getAPIList(H`/vector_stores/${i}/files/${t}/content`,sc,{...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class lc extends ct{constructor(){super(...arguments),this.files=new g2(this._client),this.fileBatches=new p2(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(H`/vector_stores/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,n){return this._client.post(H`/vector_stores/${t}`,{body:r,...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(t={},r){return this._client.getAPIList("/vector_stores",Ht,{query:t,...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(t,r){return this._client.delete(H`/vector_stores/${t}`,{...r,headers:st([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}search(t,r,n){return this._client.getAPIList(H`/vector_stores/${t}/search`,sc,{body:r,method:"post",...n,headers:st([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}lc.Files=g2;lc.FileBatches=p2;var hi,m2,Co;class y2 extends ct{constructor(){super(...arguments),hi.add(this)}async unwrap(t,r,n=this._client.webhookSecret,i=300){return await this.verifySignature(t,r,n,i),JSON.parse(t)}async verifySignature(t,r,n=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");$(this,hi,"m",m2).call(this,n);const s=st([r]).values,a=$(this,hi,"m",Co).call(this,s,"webhook-signature"),o=$(this,hi,"m",Co).call(this,s,"webhook-timestamp"),l=$(this,hi,"m",Co).call(this,s,"webhook-id"),c=parseInt(o,10);if(isNaN(c))throw new bs("Invalid webhook timestamp format");const h=Math.floor(Date.now()/1e3);if(h-c>i)throw new bs("Webhook timestamp is too old");if(c>h+i)throw new bs("Webhook timestamp is too new");const u=a.split(" ").map(g=>g.startsWith("v1,")?g.substring(3):g),d=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),f=l?`${l}.${o}.${t}`:`${o}.${t}`,p=await crypto.subtle.importKey("raw",d,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const g of u)try{const x=Buffer.from(g,"base64");if(await crypto.subtle.verify("HMAC",p,x,new TextEncoder().encode(f)))return}catch{continue}throw new bs("The given webhook signature does not match the expected signature")}}hi=new WeakSet,m2=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Co=function(t,r){if(!t)throw new Error("Headers are required");const n=t.get(r);if(n==null)throw new Error(`Missing required header: ${r}`);return n};var $u,Ld,So,x2;class xt{constructor({baseURL:t=ni("OPENAI_BASE_URL"),apiKey:r=ni("OPENAI_API_KEY"),organization:n=ni("OPENAI_ORG_ID")??null,project:i=ni("OPENAI_PROJECT_ID")??null,webhookSecret:s=ni("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if($u.add(this),So.set(this,void 0),this.completions=new QC(this),this.chat=new pd(this),this.embeddings=new ZC(this),this.files=new e2(this),this.images=new o2(this),this.audio=new ka(this),this.moderations=new c2(this),this.models=new l2(this),this.fineTuning=new Hi(this),this.graders=new Sd(this),this.vectorStores=new lc(this),this.webhooks=new y2(this),this.beta=new Ca(this),this.batches=new jC(this),this.uploads=new Ed(this),this.responses=new Ad(this),this.realtime=new vd(this),this.conversations=new xd(this),this.evals=new wd(this),this.containers=new yd(this),r===void 0)throw new it("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const o={apiKey:r,organization:n,project:i,webhookSecret:s,...a,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&c9())throw new it(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??Ld.DEFAULT_TIMEOUT,this.logger=o.logger??console;const l="warn";this.logLevel=l,this.logLevel=Vm(o.logLevel,"ClientOptions.logLevel",this)??Vm(ni("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??p9(),ut(this,So,m9),this._options=o,this.apiKey=typeof r=="string"?r:"Missing Key",this.organization=n,this.project=i,this.webhookSecret=s}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){}async authHeaders(t){return st([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return k9(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${li}`}defaultIdempotencyKey(){return`stainless-node-retry-${Yk()}`}makeStatusError(t,r,n,i){return ae.generate(t,r,n,i)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let r;try{r=await t()}catch(n){throw n instanceof it?n:new it(`Failed to get token from 'apiKey' function: ${n.message}`,{cause:n})}if(typeof r!="string"||!r)throw new it(`Expected 'apiKey' function argument to return a string but it returned ${r}`);return this.apiKey=r,!0}buildURL(t,r,n){const i=!$(this,$u,"m",x2).call(this)&&n||this.baseURL,s=i9(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return s9(a)||(r={...a,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(s.search=this.stringifyQuery(r)),s.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(i=>({method:t,path:r,...i})))}request(t,r=null){return new ic(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){const i=await t,s=i.maxRetries??this.maxRetries;r==null&&(r=s),await this.prepareOptions(i);const{req:a,url:o,timeout:l}=await this.buildRequest(i,{retryCount:s-r});await this.prepareRequest(a,{url:o,options:i});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=n===void 0?"":`, retryOf: ${n}`,u=Date.now();if(ie(this).debug(`[${c}] sending request`,bn({retryOfRequestLogID:n,method:i.method,url:o,options:i,headers:a.headers})),i.signal?.aborted)throw new Ge;const d=new AbortController,f=await this.fetchWithTimeout(o,a,l,d).catch(Cu),p=Date.now();if(f instanceof globalThis.Error){const y=`retrying, ${r} attempts remaining`;if(i.signal?.aborted)throw new Ge;const b=ku(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(r)return ie(this).info(`[${c}] connection ${b?"timed out":"failed"} - ${y}`),ie(this).debug(`[${c}] connection ${b?"timed out":"failed"} (${y})`,bn({retryOfRequestLogID:n,url:o,durationMs:p-u,message:f.message})),this.retryRequest(i,r,n??c);throw ie(this).info(`[${c}] connection ${b?"timed out":"failed"} - error; no more retries left`),ie(this).debug(`[${c}] connection ${b?"timed out":"failed"} (error; no more retries left)`,bn({retryOfRequestLogID:n,url:o,durationMs:p-u,message:f.message})),b?new ad:new rc({cause:f})}const g=[...f.headers.entries()].filter(([y])=>y==="x-request-id").map(([y,b])=>", "+y+": "+JSON.stringify(b)).join(""),x=`[${c}${h}${g}] ${a.method} ${o} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${p-u}ms`;if(!f.ok){const y=await this.shouldRetry(f);if(r&&y){const A=`retrying, ${r} attempts remaining`;return await g9(f.body),ie(this).info(`${x} - ${A}`),ie(this).debug(`[${c}] response error (${A})`,bn({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:p-u})),this.retryRequest(i,r,n??c,f.headers)}const b=y?"error; no more retries left":"error; not retryable";ie(this).info(`${x} - ${b}`);const w=await f.text().catch(A=>Cu(A).message),k=l9(w),S=k?void 0:w;throw ie(this).debug(`[${c}] response error (${b})`,bn({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:S,durationMs:Date.now()-u})),this.makeStatusError(f.status,k,S,f.headers)}return ie(this).info(x),ie(this).debug(`[${c}] response start`,bn({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:p-u})),{response:f,options:i,controller:d,requestLogID:c,retryOfRequestLogID:n,startTime:u}}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}requestAPIList(t,r){const n=this.makeRequest(r,null,void 0);return new B9(this,n,t)}async fetchWithTimeout(t,r,n,i){const{signal:s,method:a,...o}=r||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),n),c=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,h={signal:i.signal,...c?{duplex:"half"}:{},method:"GET",...o};a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(l)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,i){let s;const a=i?.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(s=l)}const o=i?.get("retry-after");if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,l)}return await wa(s),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const s=r-t,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(t,{retryCount:r=0}={}){const n={...t},{method:i,path:s,query:a,defaultBaseURL:o}=n,l=this.buildURL(s,a,o);"timeout"in n&&o9("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:c,body:h}=this.buildBody({options:n}),u=await this.buildHeaders({options:t,method:i,bodyHeaders:c,retryCount:r});return{req:{method:i,headers:u,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...n.fetchOptions??{}},url:l,timeout:n.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:i}){let s={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const a=st([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...d9(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,n,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=st([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:aC(t)}:$(this,So,"f").call(this,{body:t,headers:n})}}Ld=xt,So=new WeakMap,$u=new WeakSet,x2=function(){return this.baseURL!=="https://api.openai.com/v1"};xt.OpenAI=Ld;xt.DEFAULT_TIMEOUT=6e5;xt.OpenAIError=it;xt.APIError=ae;xt.APIConnectionError=rc;xt.APIConnectionTimeoutError=ad;xt.APIUserAbortError=Ge;xt.NotFoundError=Kk;xt.ConflictError=Jk;xt.RateLimitError=tC;xt.BadRequestError=Gk;xt.AuthenticationError=Xk;xt.InternalServerError=eC;xt.PermissionDeniedError=Qk;xt.UnprocessableEntityError=Zk;xt.InvalidWebhookSignatureError=bs;xt.toFile=D9;xt.Completions=QC;xt.Chat=pd;xt.Embeddings=ZC;xt.Files=e2;xt.Images=o2;xt.Audio=ka;xt.Moderations=c2;xt.Models=l2;xt.FineTuning=Hi;xt.Graders=Sd;xt.VectorStores=lc;xt.Webhooks=y2;xt.Beta=Ca;xt.Batches=jC;xt.Uploads=Ed;xt.Responses=Ad;xt.Realtime=vd;xt.Conversations=xd;xt.Evals=wd;xt.Containers=yd;const uq=new xt({baseURL:"http://127.0.0.1:1234/v1",apiKey:"lm-studio",dangerouslyAllowBrowser:!0});function Md(){const e=Fu(),{data:t=""}=Qd({queryKey:[Vr,Ea],queryFn:async()=>e.getQueryData([Vr,Ea])??"",initialData:"",staleTime:1/0,refetchOnWindowFocus:!1}),{data:r=[]}=Qd({queryKey:[Vr,La],queryFn:async()=>e.getQueryData([Vr,La])??[],initialData:[],staleTime:1/0,refetchOnWindowFocus:!1});return{mutation:Q2({mutationFn:async({userMessage:i})=>{e.setQueryData([Vr,Ea],""),e.setQueryData([Vr,La],(o=[])=>[...o,{role:"user",content:i}]);const s=await uq.chat.completions.create({model:M2,messages:[{role:"user",content:i}],stream:!0});let a="";for await(const o of s){const l=o?.choices?.[0]?.delta?.content;l&&(a+=l,e.setQueryData([Vr,Ea],(c="")=>c+l))}return e.setQueryData([Vr,La],(o=[])=>[...o,{role:"assistant",content:a.trim()===""?"Can not respond right now":a}]),a},onSuccess:i=>{if(i==="")throw new Error("Can not reach LLM")},onError:i=>{throw new Error(`LLM says ${i.message}`)}}),streamedText:t,history:r}}function fq(){const{history:e}=Md();return wt.jsx(fy,{flexDirection:"column",gap:"var(--gap-3)",children:e.map((t,r)=>wt.jsxs(dc,{component:"article",dangerous:{alignSelf:t.role==="user"?"flex-end":"flex-start",maxWidth:"min(65%, 750px)",padding:"var(--gap-3)",borderRadius:"var(--border-radius)",background:t.role==="user"?"var(--neutral)":"var(--negative)"},children:[wt.jsx(dc.Title,{dangerous:{padding:0},children:wt.jsx(Cl,{size:"xs",children:t.role})}),wt.jsx(dc.Content,{dangerous:{padding:0},children:wt.jsx(Vk,{content:`${t.content.slice(0,t.role==="user"?t.content.length:130)}${t.role!=="user"?"...":""}`,lite:!0})})]},r))})}function dq(){const[e,t]=Zt.useState(""),{mutation:r}=Md(),n=()=>{const i=e.trim();i&&(r.mutate({userMessage:i}),t(""))};return wt.jsxs("div",{className:_u.prompt,children:[wt.jsx($2,{id:"menu-test",label:wt.jsxs(wt.Fragment,{children:[wt.jsx(Cl.Bold,{children:"Tools"}),wt.jsx(B2.ChevronDown,{size:22})]}),children:()=>wt.jsxs(wt.Fragment,{children:[wt.jsx(Ma,{onClick:()=>console.log("a"),children:"File"}),wt.jsx(Ma,{onClick:()=>console.log("b"),children:"Speak"}),wt.jsx(Ma,{onClick:()=>console.log("c"),children:"Think"})]})}),wt.jsx(I2,{label:"",id:"prompt-input",onChange:()=>({}),placeholder:"Type your message...",value:e,onChangeNative:i=>t(i.target.value),onKeyDown:i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),n())},disabled:r.isPending}),wt.jsx(Ma.Positive,{dangerous:{justifySelf:"stretch",alignSelf:"stretch",maxWidth:"auto",width:"auto"},onClick:n,disabled:r.isPending||!e.trim(),children:"Send"})]})}function pq(){const{mutation:e,streamedText:t}=Md();return wt.jsxs(wt.Fragment,{children:[wt.jsx(dq,{}),wt.jsx(fq,{}),wt.jsx(Vk,{content:t}),wt.jsx(r9,{show:e.isError,error:String(e.error?.message??"Try again later")})]})}const rW=Object.freeze(Object.defineProperty({__proto__:null,default:pq},Symbol.toStringTag,{value:"Module"}));export{v0 as $,$s as A,NE as B,aM as C,Df as D,ue as E,m0 as F,PP as G,NR as H,Wp as I,U$ as J,_L as K,Ei as L,_q as M,Ul as N,zL as O,rf as P,Zp as Q,MR as R,oo as S,OP as T,ua as U,GL as V,ha as W,X,nt as Y,EP as Z,m as _,tM as a,$e as a$,TR as a0,mf as a1,Aq as a2,Mq as a3,ti as a4,bg as a5,xg as a6,Iq as a7,Bq as a8,Lq as a9,Z as aA,Wq as aB,X3 as aC,j3 as aD,H3 as aE,KD as aF,AR as aG,wq as aH,xa as aI,XD as aJ,GD as aK,ff as aL,Kr as aM,fg as aN,aI as aO,Vs as aP,qn as aQ,vP as aR,pw as aS,zl as aT,jl as aU,el as aV,mw as aW,dw as aX,eP as aY,J as aZ,rw as a_,vq as aa,Tq as ab,$q as ac,Eq as ad,Rq as ae,ft as af,br as ag,k3 as ah,S_ as ai,jq as aj,Y$ as ak,Xt as al,on as am,Ef as an,Qw as ao,jn as ap,kw as aq,SP as ar,mO as as,yP as at,Lf as au,mm as av,d5 as aw,Hq as ax,Uq as ay,qq as az,ZL as b,ZB as b0,uf as b1,N0 as b2,da as b3,W0 as b4,Sq as b5,CP as b6,mP as b7,nO as b8,Mf as b9,Hl as bA,rW as bB,KO as ba,AP as bb,ma as bc,Ni as bd,Jo as be,lP as bf,O5 as bg,ga as bh,tl as bi,rP as bj,ow as bk,aO as bl,oO as bm,xn as bn,Ng as bo,lO as bp,Bf as bq,sO as br,uO as bs,zi as bt,an as bu,$g as bv,If as bw,cw as bx,mu as by,TP as bz,Lt as c,St as d,S0 as e,Yt as f,rM as g,zr as h,Qe as i,Z$ as j,Pi as k,N as l,Sw as m,kq as n,Yq as o,nM as p,iM as q,Vq as r,eM as s,V$ as t,ir as u,z3 as v,zP as w,Fq as x,JL as y,Cq as z};
